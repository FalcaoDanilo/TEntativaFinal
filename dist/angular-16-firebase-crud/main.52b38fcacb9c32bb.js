"use strict";(self.webpackChunkangular_16_firebase_crud=self.webpackChunkangular_16_firebase_crud||[]).push([[179],{2011:(Xe,ve,O)=>{O.d(ve,{Dh:()=>Se,GT:()=>ae,cc:()=>we,hO:()=>Pe,on:()=>U,pX:()=>ee,xv:()=>ue});var u=O(2223),Z=O(9260),x=O(4976);Xe=O.hmd(Xe);const X=["ngOnDestroy"],ee=(Ne,ut,tt,ne={})=>new Proxy(Ne,{get:(pe,Y)=>tt.runOutsideAngular(()=>{var fe;if(Ne[Y])return!(null===(fe=ne?.spy)||void 0===fe)&&fe.get&&ne.spy.get(Y,Ne[Y]),Ne[Y];if(X.indexOf(Y)>-1)return()=>{};const Te=ut.toPromise().then(Oe=>{const re=Oe&&Oe[Y];return"function"==typeof re?re.bind(Oe):re&&re.then?re.then(Le=>tt.run(()=>Le)):tt.run(()=>re)});return new Proxy(()=>{},{get:(Oe,re)=>Te[re],apply:(Oe,re,Le)=>Te.then(xt=>{var Jn;const br=xt&&xt(...Le);return!(null===(Jn=ne?.spy)||void 0===Jn)&&Jn.apply&&ne.spy.apply(Y,Le,br),br})})})}),ae=(Ne,ut)=>{ut.forEach(tt=>{Object.getOwnPropertyNames(tt.prototype||tt).forEach(ne=>{Object.defineProperty(Ne.prototype,ne,Object.getOwnPropertyDescriptor(tt.prototype||tt,ne))})})};class he{constructor(ut){return ut}}const Se=new u.OlP("angularfire2.app.options"),ue=new u.OlP("angularfire2.app.name");function U(Ne,ut,tt){const pe="object"==typeof tt&&tt||{};pe.name=pe.name||"string"==typeof tt&&tt||"[DEFAULT]";const fe=Z.Z.apps.filter(Te=>Te&&Te.name===pe.name)[0]||ut.runOutsideAngular(()=>Z.Z.initializeApp(Ne,pe));try{JSON.stringify(Ne)!==JSON.stringify(fe.options)&&j("error",`${fe.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new he(fe)}const j=(Ne,...ut)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Ne](...ut)},Q={provide:he,useFactory:U,deps:[Se,u.R0b,[new u.FiY,ue]]};let Pe=(()=>{class Ne{constructor(tt){Z.Z.registerVersion("angularfire",x.q4.full,"core"),Z.Z.registerVersion("angularfire",x.q4.full,"app-compat"),Z.Z.registerVersion("angular",u.q4F.full,tt.toString())}static initializeApp(tt,ne){return{ngModule:Ne,providers:[{provide:Se,useValue:tt},{provide:ue,useValue:ne}]}}}return Ne.\u0275fac=function(tt){return new(tt||Ne)(u.LFG(u.Lbi))},Ne.\u0275mod=u.oAB({type:Ne}),Ne.\u0275inj=u.cJS({providers:[Q]}),Ne})();function we(Ne,ut,tt,ne,pe){const[,Y,fe]=globalThis.\u0275AngularfireInstanceCache.find(Te=>Te[0]===Ne)||[];if(Y)return function $e(Ne,ut){try{return Ne.toString()===ut.toString()}catch{return Ne===ut}}(pe,fe)||(je("error",`${ut} was already initialized on the ${tt} Firebase App with different settings.${be?" You may need to reload as Firebase is not HMR aware.":""}`),je("warn",{is:pe,was:fe})),Y;{const Te=ne();return globalThis.\u0275AngularfireInstanceCache.push([Ne,Te,pe]),Te}}const be=!!Xe.hot,je=(Ne,...ut)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Ne](...ut)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Xe,ve,O)=>{O.d(ve,{q4:()=>No,iC:()=>Zh,HU:()=>Al,vb:()=>Wh,JM:()=>Ws});var u=O(2223),Z=O(259),x=O(5861),X=O(6881),ee=O(2090),ae=O(4859),he=O(1877);const Se=(C,T)=>T.some(A=>C instanceof A);let ue,U;const Pe=new WeakMap,we=new WeakMap,$e=new WeakMap,be=new WeakMap,je=new WeakMap;let tt={get(C,T,A){if(C instanceof IDBTransaction){if("done"===T)return we.get(C);if("objectStoreNames"===T)return C.objectStoreNames||$e.get(C);if("store"===T)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return fe(C[T])},set:(C,T,A)=>(C[T]=A,!0),has:(C,T)=>C instanceof IDBTransaction&&("done"===T||"store"===T)||T in C};function Y(C){return"function"==typeof C?function pe(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return U||(U=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...T){return C.apply(Te(this),T),fe(Pe.get(this))}:function(...T){return fe(C.apply(Te(this),T))}:function(T,...A){const k=C.call(Te(this),T,...A);return $e.set(k,T.sort?T.sort():[T]),fe(k)}}(C):(C instanceof IDBTransaction&&function ut(C){if(we.has(C))return;const T=new Promise((A,k)=>{const $=()=>{C.removeEventListener("complete",q),C.removeEventListener("error",de),C.removeEventListener("abort",de)},q=()=>{A(),$()},de=()=>{k(C.error||new DOMException("AbortError","AbortError")),$()};C.addEventListener("complete",q),C.addEventListener("error",de),C.addEventListener("abort",de)});we.set(C,T)}(C),Se(C,function j(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,tt):C)}function fe(C){if(C instanceof IDBRequest)return function Ne(C){const T=new Promise((A,k)=>{const $=()=>{C.removeEventListener("success",q),C.removeEventListener("error",de)},q=()=>{A(fe(C.result)),$()},de=()=>{k(C.error),$()};C.addEventListener("success",q),C.addEventListener("error",de)});return T.then(A=>{A instanceof IDBCursor&&Pe.set(A,C)}).catch(()=>{}),je.set(T,C),T}(C);if(be.has(C))return be.get(C);const T=Y(C);return T!==C&&(be.set(C,T),je.set(T,C)),T}const Te=C=>je.get(C),Le=["get","getKey","getAll","getAllKeys","count"],xt=["put","add","delete","clear"],Jn=new Map;function br(C,T){if(!(C instanceof IDBDatabase)||T in C||"string"!=typeof T)return;if(Jn.get(T))return Jn.get(T);const A=T.replace(/FromIndex$/,""),k=T!==A,$=xt.includes(A);if(!(A in(k?IDBIndex:IDBObjectStore).prototype)||!$&&!Le.includes(A))return;const q=function(){var de=(0,x.Z)(function*(We,...ke){const Je=this.transaction(We,$?"readwrite":"readonly");let ft=Je.store;return k&&(ft=ft.index(ke.shift())),(yield Promise.all([ft[A](...ke),$&&Je.done]))[0]});return function(ke){return de.apply(this,arguments)}}();return Jn.set(T,q),q}!function ne(C){tt=C(tt)}(C=>({...C,get:(T,A,k)=>br(T,A)||C.get(T,A,k),has:(T,A)=>!!br(T,A)||C.has(T,A)}));const ds="@firebase/installations",oe="0.6.4",ge=1e4,Ee=`w:${oe}`,Ae="FIS_v2",Ve="https://firebaseinstallations.googleapis.com/v1",xe=36e5,Ke=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(C){return C instanceof ee.ZR&&C.code.includes("request-failed")}function on({projectId:C}){return`${Ve}/projects/${C}/installations`}function Zt(C){return{token:C.token,requestStatus:2,expiresIn:hs(C.expiresIn),creationTime:Date.now()}}function vn(C,T){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,x.Z)(function*(C,T){const k=(yield T.json()).error;return Ke.create("request-failed",{requestName:C,serverCode:k.code,serverMessage:k.message,serverStatus:k.status})})).apply(this,arguments)}function Or({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function vr(C){return On.apply(this,arguments)}function On(){return(On=(0,x.Z)(function*(C){const T=yield C();return T.status>=500&&T.status<600?C():T})).apply(this,arguments)}function hs(C){return Number(C.replace("s","000"))}function xr(){return(xr=(0,x.Z)(function*({appConfig:C,heartbeatServiceProvider:T},{fid:A}){const k=on(C),$=Or(C),q=T.getImmediate({optional:!0});if(q){const Je=yield q.getHeartbeatsHeader();Je&&$.append("x-firebase-client",Je)}const We={method:"POST",headers:$,body:JSON.stringify({fid:A,authVersion:Ae,appId:C.appId,sdkVersion:Ee})},ke=yield vr(()=>fetch(k,We));if(ke.ok){const Je=yield ke.json();return{fid:Je.fid||A,registrationStatus:2,refreshToken:Je.refreshToken,authToken:Zt(Je.authToken)}}throw yield vn("Create Installation",ke)})).apply(this,arguments)}function kr(C){return new Promise(T=>{setTimeout(T,C)})}const qo=/^[cdef][\w-]{21}$/,Ge="";function rt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const A=function it(C){return function fs(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return qo.test(A)?A:Ge}catch{return Ge}}function en(C){return`${C.appName}!${C.appId}`}const mn=new Map;function Ir(C,T){const A=en(C);co(A,T),function Qt(C,T){const A=function Rt(){return!ur&&"BroadcastChannel"in self&&(ur=new BroadcastChannel("[Firebase] FID Change"),ur.onmessage=C=>{co(C.data.key,C.data.fid)}),ur}();A&&A.postMessage({key:C,fid:T}),function di(){0===mn.size&&ur&&(ur.close(),ur=null)}()}(A,T)}function co(C,T){const A=mn.get(C);if(A)for(const k of A)k(T)}let ur=null;const ps="firebase-installations-database",ho=1,Fr="firebase-installations-store";let Ri=null;function er(){return Ri||(Ri=function Oe(C,T,{blocked:A,upgrade:k,blocking:$,terminated:q}={}){const de=indexedDB.open(C,T),We=fe(de);return k&&de.addEventListener("upgradeneeded",ke=>{k(fe(de.result),ke.oldVersion,ke.newVersion,fe(de.transaction))}),A&&de.addEventListener("blocked",()=>A()),We.then(ke=>{q&&ke.addEventListener("close",()=>q()),$&&ke.addEventListener("versionchange",()=>$())}).catch(()=>{}),We}(ps,ho,{upgrade:(C,T)=>{0===T&&C.createObjectStore(Fr)}})),Ri}function Hn(C,T){return an.apply(this,arguments)}function an(){return(an=(0,x.Z)(function*(C,T){const A=en(C),$=(yield er()).transaction(Fr,"readwrite"),q=$.objectStore(Fr),de=yield q.get(A);return yield q.put(T,A),yield $.done,(!de||de.fid!==T.fid)&&Ir(C,T.fid),T})).apply(this,arguments)}function Ni(C){return qt.apply(this,arguments)}function qt(){return(qt=(0,x.Z)(function*(C){const T=en(C),k=(yield er()).transaction(Fr,"readwrite");yield k.objectStore(Fr).delete(T),yield k.done})).apply(this,arguments)}function Pi(C,T){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,x.Z)(function*(C,T){const A=en(C),$=(yield er()).transaction(Fr,"readwrite"),q=$.objectStore(Fr),de=yield q.get(A),We=T(de);return void 0===We?yield q.delete(A):yield q.put(We,A),yield $.done,We&&(!de||de.fid!==We.fid)&&Ir(C,We.fid),We})).apply(this,arguments)}function B(C){return V.apply(this,arguments)}function V(){return V=(0,x.Z)(function*(C){let T;const A=yield Pi(C.appConfig,k=>{const $=function z(C){return tn(C||{fid:rt(),registrationStatus:0})}(k),q=function ye(C,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Ke.create("app-offline"))};const A={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},k=function ie(C,T){return Ye.apply(this,arguments)}(C,A);return{installationEntry:A,registrationPromise:k}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:st(C)}:{installationEntry:T}}(C,$);return T=q.registrationPromise,q.installationEntry});return A.fid===Ge?{installationEntry:yield T}:{installationEntry:A,registrationPromise:T}}),V.apply(this,arguments)}function Ye(){return Ye=(0,x.Z)(function*(C,T){try{const A=yield function uo(C,T){return xr.apply(this,arguments)}(C,T);return Hn(C.appConfig,A)}catch(A){throw nt(A)&&409===A.customData.serverCode?yield Ni(C.appConfig):yield Hn(C.appConfig,{fid:T.fid,registrationStatus:0}),A}}),Ye.apply(this,arguments)}function st(C){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,x.Z)(function*(C){let T=yield ln(C.appConfig);for(;1===T.registrationStatus;)yield kr(100),T=yield ln(C.appConfig);if(0===T.registrationStatus){const{installationEntry:A,registrationPromise:k}=yield B(C);return k||A}return T})).apply(this,arguments)}function ln(C){return Pi(C,T=>{if(!T)throw Ke.create("installation-not-found");return tn(T)})}function tn(C){return function gt(C){return 1===C.registrationStatus&&C.registrationTime+ge<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function tr(){return(tr=(0,x.Z)(function*({appConfig:C,heartbeatServiceProvider:T},A){const k=function Zr(C,{fid:T}){return`${on(C)}/${T}/authTokens:generate`}(C,A),$=function bn(C,{refreshToken:T}){const A=Or(C);return A.append("Authorization",function Ps(C){return`${Ae} ${C}`}(T)),A}(C,A),q=T.getImmediate({optional:!0});if(q){const Je=yield q.getHeartbeatsHeader();Je&&$.append("x-firebase-client",Je)}const We={method:"POST",headers:$,body:JSON.stringify({installation:{sdkVersion:Ee,appId:C.appId}})},ke=yield vr(()=>fetch(k,We));if(ke.ok)return Zt(yield ke.json());throw yield vn("Generate Auth Token",ke)})).apply(this,arguments)}function Oi(C){return Lr.apply(this,arguments)}function Lr(){return Lr=(0,x.Z)(function*(C,T=!1){let A;const k=yield Pi(C.appConfig,q=>{if(!St(q))throw Ke.create("not-registered");const de=q.authToken;if(!T&&function Wt(C){return 2===C.requestStatus&&!function jn(C){const T=Date.now();return T<C.creationTime||C.creationTime+C.expiresIn<T+xe}(C)}(de))return q;if(1===de.requestStatus)return A=function ce(C,T){return te.apply(this,arguments)}(C,T),q;{if(!navigator.onLine)throw Ke.create("app-offline");const We=function xn(C){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:T})}(q);return A=function et(C,T){return mt.apply(this,arguments)}(C,We),We}});return A?yield A:k.authToken}),Lr.apply(this,arguments)}function te(){return(te=(0,x.Z)(function*(C,T){let A=yield Me(C.appConfig);for(;1===A.authToken.requestStatus;)yield kr(100),A=yield Me(C.appConfig);const k=A.authToken;return 0===k.requestStatus?Oi(C,T):k})).apply(this,arguments)}function Me(C){return Pi(C,T=>{if(!St(T))throw Ke.create("not-registered");return function Wi(C){return 1===C.requestStatus&&C.requestTime+ge<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function mt(){return mt=(0,x.Z)(function*(C,T){try{const A=yield function Lt(C,T){return tr.apply(this,arguments)}(C,T),k=Object.assign(Object.assign({},T),{authToken:A});return yield Hn(C.appConfig,k),A}catch(A){if(!nt(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const k=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Hn(C.appConfig,k)}else yield Ni(C.appConfig);throw A}}),mt.apply(this,arguments)}function St(C){return void 0!==C&&2===C.registrationStatus}function Ko(){return(Ko=(0,x.Z)(function*(C){const T=C,{installationEntry:A,registrationPromise:k}=yield B(T);return k?k.catch(console.error):Oi(T).catch(console.error),A.fid})).apply(this,arguments)}function Vr(){return Vr=(0,x.Z)(function*(C,T=!1){const A=C;return yield function xc(C){return qr.apply(this,arguments)}(A),(yield Oi(A,T)).token}),Vr.apply(this,arguments)}function qr(){return(qr=(0,x.Z)(function*(C){const{registrationPromise:T}=yield B(C);T&&(yield T)})).apply(this,arguments)}function Os(C){return Ke.create("missing-app-config-values",{valueName:C})}const Fc="installations",Mp=C=>{const T=C.getProvider("app").getImmediate(),A=function Qa(C){if(!C||!C.options)throw Os("App Configuration");if(!C.name)throw Os("App Name");const T=["projectId","apiKey","appId"];for(const A of T)if(!C.options[A])throw Os(A);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(T);return{app:T,appConfig:A,heartbeatServiceProvider:(0,X._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},zi=C=>{const T=C.getProvider("app").getImmediate(),A=(0,X._getProvider)(T,Fc).getImmediate();return{getId:()=>function gs(C){return Ko.apply(this,arguments)}(A),getToken:$=>function Oc(C){return Vr.apply(this,arguments)}(A,$)}};(function Mh(){(0,X._registerComponent)(new ae.wA(Fc,Mp,"PUBLIC")),(0,X._registerComponent)(new ae.wA("installations-internal",zi,"PRIVATE"))})(),(0,X.registerVersion)(ds,oe),(0,X.registerVersion)(ds,oe,"esm2017");const Yo="@firebase/remote-config",Jt=new ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Sr{constructor(T,A,k,$){this.client=T,this.storage=A,this.storageCache=k,this.logger=$}isCachedDataFresh(T,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const k=Date.now()-A,$=k<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${k}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${$}.`),$}fetch(T){var A=this;return(0,x.Z)(function*(){const[k,$]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if($&&A.isCachedDataFresh(T.cacheMaxAgeMillis,k))return $;T.eTag=$&&$.eTag;const q=yield A.client.fetch(T),de=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===q.status&&de.push(A.storage.setLastSuccessfulFetchResponse(q)),yield Promise.all(de),q})()}}function Uc(C=navigator){return C.languages&&C.languages[0]||C.language}class xi{constructor(T,A,k,$,q,de){this.firebaseInstallations=T,this.sdkVersion=A,this.namespace=k,this.projectId=$,this.apiKey=q,this.appId=de}fetch(T){var A=this;return(0,x.Z)(function*(){const[k,$]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),de=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,We={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},ke={sdk_version:A.sdkVersion,app_instance_id:k,app_instance_id_token:$,app_id:A.appId,language_code:Uc()},Je={method:"POST",headers:We,body:JSON.stringify(ke)},ft=fetch(de,Je),pt=new Promise((ri,Ci)=>{T.signal.addEventListener(()=>{const Ra=new Error("The operation was aborted.");Ra.name="AbortError",Ci(Ra)})});let sr;try{yield Promise.race([ft,pt]),sr=yield ft}catch(ri){let Ci="fetch-client-network";throw"AbortError"===ri?.name&&(Ci="fetch-timeout"),Jt.create(Ci,{originalErrorMessage:ri?.message})}let Gn=sr.status;const Ei=sr.headers.get("ETag")||void 0;let ju,jr;if(200===sr.status){let ri;try{ri=yield sr.json()}catch(Ci){throw Jt.create("fetch-client-parse",{originalErrorMessage:Ci?.message})}ju=ri.entries,jr=ri.state}if("INSTANCE_STATE_UNSPECIFIED"===jr?Gn=500:"NO_CHANGE"===jr?Gn=304:("NO_TEMPLATE"===jr||"EMPTY_CONFIG"===jr)&&(ju={}),304!==Gn&&200!==Gn)throw Jt.create("fetch-status",{httpStatus:Gn});return{status:Gn,eTag:Ei,config:ju}})()}}class Jo{constructor(T,A){this.client=T,this.storage=A}fetch(T){var A=this;return(0,x.Z)(function*(){const k=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(T,k)})()}attemptFetch(T,{throttleEndTimeMillis:A,backoffCount:k}){var $=this;return(0,x.Z)(function*(){yield function En(C,T){return new Promise((A,k)=>{const $=Math.max(T-Date.now(),0),q=setTimeout(A,$);C.addEventListener(()=>{clearTimeout(q),k(Jt.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,A);try{const q=yield $.client.fetch(T);return yield $.storage.deleteThrottleMetadata(),q}catch(q){if(!function po(C){if(!(C instanceof ee.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(q))throw q;const de={throttleEndTimeMillis:Date.now()+(0,ee.$s)(k),backoffCount:k+1};return yield $.storage.setThrottleMetadata(de),$.attemptFetch(T,de)}})()}}class Bc{constructor(T,A,k,$,q){this.app=T,this._client=A,this._storageCache=k,this._storage=$,this._logger=q,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Br(C,T){const A=C.target.error||void 0;return Jt.create(T,{originalErrorMessage:A&&A?.message})}const Sn="app_namespace_store";class hE{constructor(T,A,k,$=function Ot(){return new Promise((C,T)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=k=>{T(Br(k,"storage-open"))},A.onsuccess=k=>{C(k.target.result)},A.onupgradeneeded=k=>{0===k.oldVersion&&k.target.result.createObjectStore(Sn,{keyPath:"compositeKey"})}}catch(A){T(Jt.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=T,this.appName=A,this.namespace=k,this.openDbPromise=$}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var A=this;return(0,x.Z)(function*(){const k=yield A.openDbPromise;return new Promise(($,q)=>{const We=k.transaction([Sn],"readonly").objectStore(Sn),ke=A.createCompositeKey(T);try{const Je=We.get(ke);Je.onerror=ft=>{q(Br(ft,"storage-get"))},Je.onsuccess=ft=>{const pt=ft.target.result;$(pt?pt.value:void 0)}}catch(Je){q(Jt.create("storage-get",{originalErrorMessage:Je?.message}))}})})()}set(T,A){var k=this;return(0,x.Z)(function*(){const $=yield k.openDbPromise;return new Promise((q,de)=>{const ke=$.transaction([Sn],"readwrite").objectStore(Sn),Je=k.createCompositeKey(T);try{const ft=ke.put({compositeKey:Je,value:A});ft.onerror=pt=>{de(Br(pt,"storage-set"))},ft.onsuccess=()=>{q()}}catch(ft){de(Jt.create("storage-set",{originalErrorMessage:ft?.message}))}})})()}delete(T){var A=this;return(0,x.Z)(function*(){const k=yield A.openDbPromise;return new Promise(($,q)=>{const We=k.transaction([Sn],"readwrite").objectStore(Sn),ke=A.createCompositeKey(T);try{const Je=We.delete(ke);Je.onerror=ft=>{q(Br(ft,"storage-delete"))},Je.onsuccess=()=>{$()}}catch(Je){q(Jt.create("storage-delete",{originalErrorMessage:Je?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Xa{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,x.Z)(function*(){const A=T.storage.getLastFetchStatus(),k=T.storage.getLastSuccessfulFetchTimestampMillis(),$=T.storage.getActiveConfig(),q=yield A;q&&(T.lastFetchStatus=q);const de=yield k;de&&(T.lastSuccessfulFetchTimestampMillis=de);const We=yield $;We&&(T.activeConfig=We)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function ks(){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,x.Z)(function*(){if(!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}!function ki(){(0,X._registerComponent)(new ae.wA("remote-config",function C(T,{instanceIdentifier:A}){const k=T.getProvider("app").getImmediate(),$=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Jt.create("registration-window");if(!(0,ee.hl)())throw Jt.create("indexed-db-unavailable");const{projectId:q,apiKey:de,appId:We}=k.options;if(!q)throw Jt.create("registration-project-id");if(!de)throw Jt.create("registration-api-key");if(!We)throw Jt.create("registration-app-id");const ke=new hE(We,k.name,A=A||"firebase"),Je=new Xa(ke),ft=new he.Yd(Yo);ft.logLevel=he.in.ERROR;const pt=new xi($,X.SDK_VERSION,A,q,de,We),sr=new Jo(pt,ke),Gn=new Sr(sr,ke,Je,ft),Ei=new Bc(k,Gn,Je,ke,ft);return function Tt(C){const T=(0,ee.m9)(C);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Ei),Ei},"PUBLIC").setMultipleInstances(!0)),(0,X.registerVersion)(Yo,"0.4.4"),(0,X.registerVersion)(Yo,"0.4.4","esm2017")}();const $n=(C,T)=>T.some(A=>C instanceof A);let Rp,An;const qi=new WeakMap,Ki=new WeakMap,rr=new WeakMap,dr=new WeakMap,Ls=new WeakMap;let Xo={get(C,T,A){if(C instanceof IDBTransaction){if("done"===T)return Ki.get(C);if("objectStoreNames"===T)return C.objectStoreNames||rr.get(C);if("store"===T)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return Fi(C[T])},set:(C,T,A)=>(C[T]=A,!0),has:(C,T)=>C instanceof IDBTransaction&&("done"===T||"store"===T)||T in C};function Pp(C){return"function"==typeof C?function Nh(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _o(){return An||(An=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...T){return C.apply(pu(this),T),Fi(qi.get(this))}:function(...T){return Fi(C.apply(pu(this),T))}:function(T,...A){const k=C.call(pu(this),T,...A);return rr.set(k,T.sort?T.sort():[T]),Fi(k)}}(C):(C instanceof IDBTransaction&&function fu(C){if(Ki.has(C))return;const T=new Promise((A,k)=>{const $=()=>{C.removeEventListener("complete",q),C.removeEventListener("error",de),C.removeEventListener("abort",de)},q=()=>{A(),$()},de=()=>{k(C.error||new DOMException("AbortError","AbortError")),$()};C.addEventListener("complete",q),C.addEventListener("error",de),C.addEventListener("abort",de)});Ki.set(C,T)}(C),$n(C,function Hr(){return Rp||(Rp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Xo):C)}function Fi(C){if(C instanceof IDBRequest)return function Np(C){const T=new Promise((A,k)=>{const $=()=>{C.removeEventListener("success",q),C.removeEventListener("error",de)},q=()=>{A(Fi(C.result)),$()},de=()=>{k(C.error),$()};C.addEventListener("success",q),C.addEventListener("error",de)});return T.then(A=>{A instanceof IDBCursor&&qi.set(A,C)}).catch(()=>{}),Ls.set(T,C),T}(C);if(dr.has(C))return dr.get(C);const T=Pp(C);return T!==C&&(dr.set(C,T),Ls.set(T,C)),T}const pu=C=>Ls.get(C);function gu(C,T,{blocked:A,upgrade:k,blocking:$,terminated:q}={}){const de=indexedDB.open(C,T),We=Fi(de);return k&&de.addEventListener("upgradeneeded",ke=>{k(Fi(de.result),ke.oldVersion,ke.newVersion,Fi(de.transaction))}),A&&de.addEventListener("blocked",()=>A()),We.then(ke=>{q&&ke.addEventListener("close",()=>q()),$&&ke.addEventListener("versionchange",()=>$())}).catch(()=>{}),We}function ea(C,{blocked:T}={}){const A=indexedDB.deleteDatabase(C);return T&&A.addEventListener("blocked",()=>T()),Fi(A).then(()=>{})}const Hc=["get","getKey","getAll","getAllKeys","count"],Ph=["put","add","delete","clear"],mu=new Map;function jc(C,T){if(!(C instanceof IDBDatabase)||T in C||"string"!=typeof T)return;if(mu.get(T))return mu.get(T);const A=T.replace(/FromIndex$/,""),k=T!==A,$=Ph.includes(A);if(!(A in(k?IDBIndex:IDBObjectStore).prototype)||!$&&!Hc.includes(A))return;const q=function(){var de=(0,x.Z)(function*(We,...ke){const Je=this.transaction(We,$?"readwrite":"readonly");let ft=Je.store;return k&&(ft=ft.index(ke.shift())),(yield Promise.all([ft[A](...ke),$&&Je.done]))[0]});return function(ke){return de.apply(this,arguments)}}();return mu.set(T,q),q}!function Rh(C){Xo=C(Xo)}(C=>({...C,get:(T,A,k)=>jc(T,A)||C.get(T,A,k),has:(T,A)=>!!jc(T,A)||C.has(T,A)}));const $c="/firebase-messaging-sw.js",ta="/firebase-cloud-messaging-push-scope",na="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Op="https://fcmregistrations.googleapis.com/v1",_u="google.c.a.c_id",Mn="google.c.a.c_l",ys="google.c.a.ts";var Yi=(()=>((Yi=Yi||{}).PUSH_RECEIVED="push-received",Yi.NOTIFICATION_CLICKED="notification-clicked",Yi))();function hi(C){const T=new Uint8Array(C);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function el(C){const A=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),k=atob(A),$=new Uint8Array(k.length);for(let q=0;q<k.length;++q)$[q]=k.charCodeAt(q);return $}const ra="fcm_token_details_db",Gc=5,ia="fcm_token_object_Store";function Cr(){return Cr=(0,x.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(q=>q.name).includes(ra))return null;let T=null;return(yield gu(ra,Gc,{upgrade:(k=(0,x.Z)(function*($,q,de,We){var ke;if(q<2||!$.objectStoreNames.contains(ia))return;const Je=We.objectStore(ia),ft=yield Je.index("fcmSenderId").get(C);if(yield Je.clear(),ft)if(2===q){const pt=ft;if(!pt.auth||!pt.p256dh||!pt.endpoint)return;T={token:pt.fcmToken,createTime:null!==(ke=pt.createTime)&&void 0!==ke?ke:Date.now(),subscriptionOptions:{auth:pt.auth,p256dh:pt.p256dh,endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:"string"==typeof pt.vapidKey?pt.vapidKey:hi(pt.vapidKey)}}}else if(3===q){const pt=ft;T={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:hi(pt.auth),p256dh:hi(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:hi(pt.vapidKey)}}}else if(4===q){const pt=ft;T={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:hi(pt.auth),p256dh:hi(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:hi(pt.vapidKey)}}}}),function(q,de,We,ke){return k.apply(this,arguments)})})).close(),yield ea(ra),yield ea("fcm_vapid_details_db"),yield ea("undefined"),function tl(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:T}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(T)?T:null;var k}),Cr.apply(this,arguments)}const Fn="firebase-messaging-database",nl=1,Jr="firebase-messaging-store";let sa=null;function yo(){return sa||(sa=gu(Fn,nl,{upgrade:(C,T)=>{0===T&&C.createObjectStore(Jr)}})),sa}function vo(C){return Eo.apply(this,arguments)}function Eo(){return Eo=(0,x.Z)(function*(C){const T=Vs(C),k=yield(yield yo()).transaction(Jr).objectStore(Jr).get(T);if(k)return k;{const $=yield function kp(C){return Cr.apply(this,arguments)}(C.appConfig.senderId);if($)return yield xh(C,$),$}}),Eo.apply(this,arguments)}function xh(C,T){return oa.apply(this,arguments)}function oa(){return(oa=(0,x.Z)(function*(C,T){const A=Vs(C),$=(yield yo()).transaction(Jr,"readwrite");return yield $.objectStore(Jr).put(T,A),yield $.done,T})).apply(this,arguments)}function rl(){return(rl=(0,x.Z)(function*(C){const T=Vs(C),k=(yield yo()).transaction(Jr,"readwrite");yield k.objectStore(Jr).delete(T),yield k.done})).apply(this,arguments)}function Vs({appConfig:C}){return C.appId}const wr=new ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function kh(C,T){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,x.Z)(function*(C,T){const A=yield Cu(C),k=wu(T),$={method:"POST",headers:A,body:JSON.stringify(k)};let q;try{q=yield(yield fetch(aa(C.appConfig),$)).json()}catch(de){throw wr.create("token-subscribe-failed",{errorInfo:de?.toString()})}if(q.error)throw wr.create("token-subscribe-failed",{errorInfo:q.error.message});if(!q.token)throw wr.create("token-subscribe-no-token");return q.token})).apply(this,arguments)}function zc(){return(zc=(0,x.Z)(function*(C,T){const A=yield Cu(C),k=wu(T.subscriptionOptions),$={method:"PATCH",headers:A,body:JSON.stringify(k)};let q;try{q=yield(yield fetch(`${aa(C.appConfig)}/${T.token}`,$)).json()}catch(de){throw wr.create("token-update-failed",{errorInfo:de?.toString()})}if(q.error)throw wr.create("token-update-failed",{errorInfo:q.error.message});if(!q.token)throw wr.create("token-update-no-token");return q.token})).apply(this,arguments)}function Eu(C,T){return il.apply(this,arguments)}function il(){return(il=(0,x.Z)(function*(C,T){const k={method:"DELETE",headers:yield Cu(C)};try{const q=yield(yield fetch(`${aa(C.appConfig)}/${T}`,k)).json();if(q.error)throw wr.create("token-unsubscribe-failed",{errorInfo:q.error.message})}catch($){throw wr.create("token-unsubscribe-failed",{errorInfo:$?.toString()})}})).apply(this,arguments)}function aa({projectId:C}){return`${Op}/projects/${C}/registrations`}function Cu(C){return sl.apply(this,arguments)}function sl(){return(sl=(0,x.Z)(function*({appConfig:C,installations:T}){const A=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function wu({p256dh:C,auth:T,endpoint:A,vapidKey:k}){const $={web:{endpoint:A,auth:T,p256dh:C}};return k!==na&&($.web.applicationPubKey=k),$}const ol=6048e5;function Co(){return Co=(0,x.Z)(function*(C){const T=yield function al(C,T){return Dr.apply(this,arguments)}(C.swRegistration,C.vapidKey),A={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:T.endpoint,auth:hi(T.getKey("auth")),p256dh:hi(T.getKey("p256dh"))},k=yield vo(C.firebaseDependencies);if(k){if(function ll(C,T){return T.vapidKey===C.vapidKey&&T.endpoint===C.endpoint&&T.auth===C.auth&&T.p256dh===C.p256dh}(k.subscriptionOptions,A))return Date.now()>=k.createTime+ol?function Zc(C,T){return la.apply(this,arguments)}(C,{token:k.token,createTime:Date.now(),subscriptionOptions:A}):k.token;try{yield Eu(C.firebaseDependencies,k.token)}catch($){console.warn($)}return hn(C.firebaseDependencies,A)}return hn(C.firebaseDependencies,A)}),Co.apply(this,arguments)}function fi(){return fi=(0,x.Z)(function*(C){const T=yield vo(C.firebaseDependencies);T&&(yield Eu(C.firebaseDependencies,T.token),yield function yu(C){return rl.apply(this,arguments)}(C.firebaseDependencies));const A=yield C.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),fi.apply(this,arguments)}function la(){return la=(0,x.Z)(function*(C,T){try{const A=yield function vu(C,T){return zc.apply(this,arguments)}(C.firebaseDependencies,T),k=Object.assign(Object.assign({},T),{token:A,createTime:Date.now()});return yield xh(C.firebaseDependencies,k),A}catch(A){throw yield function Fh(C){return fi.apply(this,arguments)}(C),A}}),la.apply(this,arguments)}function hn(C,T){return Us.apply(this,arguments)}function Us(){return(Us=(0,x.Z)(function*(C,T){const k={token:yield kh(C,T),createTime:Date.now(),subscriptionOptions:T};return yield xh(C,k),k.token})).apply(this,arguments)}function Dr(){return(Dr=(0,x.Z)(function*(C,T){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:el(T)})})).apply(this,arguments)}function Du(C){const T={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function vs(C,T){if(!T.notification)return;C.notification={};const A=T.notification.title;A&&(C.notification.title=A);const k=T.notification.body;k&&(C.notification.body=k);const $=T.notification.image;$&&(C.notification.image=$);const q=T.notification.icon;q&&(C.notification.icon=q)}(T,C),function qn(C,T){T.data&&(C.data=T.data)}(T,C),function Vp(C,T){var A,k,$,q,de;if(!(T.fcmOptions||null!==(A=T.notification)&&void 0!==A&&A.click_action))return;C.fcmOptions={};const We=null!==($=null===(k=T.fcmOptions)||void 0===k?void 0:k.link)&&void 0!==$?$:null===(q=T.notification)||void 0===q?void 0:q.click_action;We&&(C.fcmOptions.link=We);const ke=null===(de=T.fcmOptions)||void 0===de?void 0:de.analytics_label;ke&&(C.fcmOptions.analyticsLabel=ke)}(T,C),T}function qc(C,T){const A=[];for(let k=0;k<C.length;k++)A.push(C.charAt(k)),k<T.length&&A.push(T.charAt(k));return A.join("")}function Tu(C){return wr.create("missing-app-config-values",{valueName:C})}qc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Kc{constructor(T,A,k){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $=function Es(C){if(!C||!C.options)throw Tu("App Configuration Object");if(!C.name)throw Tu("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:A}=C;for(const k of T)if(!A[k])throw Tu(k);return{appName:C.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:$,installations:A,analyticsProvider:k}}_delete(){return Promise.resolve()}}function ul(){return(ul=(0,x.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register($c,{scope:ta}),C.swRegistration.update().catch(()=>{})}catch(T){throw wr.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function Do(){return(Do=(0,x.Z)(function*(C,T){if(!T&&!C.swRegistration&&(yield function bu(C){return ul.apply(this,arguments)}(C)),T||!C.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw wr.create("invalid-sw-registration");C.swRegistration=T}})).apply(this,arguments)}function Cs(){return(Cs=(0,x.Z)(function*(C,T){T?C.vapidKey=T:C.vapidKey||(C.vapidKey=na)})).apply(this,arguments)}function Su(){return Su=(0,x.Z)(function*(C,T){if(!navigator)throw wr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw wr.create("permission-blocked");return yield function ot(C,T){return Cs.apply(this,arguments)}(C,T?.vapidKey),yield function Iu(C,T){return Do.apply(this,arguments)}(C,T?.serviceWorkerRegistration),function Lp(C){return Co.apply(this,arguments)}(C)}),Su.apply(this,arguments)}function Qc(){return(Qc=(0,x.Z)(function*(C,T,A){const k=function Jc(C){switch(C){case Yi.NOTIFICATION_CLICKED:return"notification_open";case Yi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(T);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(k,{message_id:A[_u],message_name:A[Mn],message_time:A[ys],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ua(){return ua=(0,x.Z)(function*(C,T){const A=T.data;if(!A.isFirebaseMessaging)return;C.onMessageHandler&&A.messageType===Yi.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Du(A)):C.onMessageHandler.next(Du(A)));const k=A.data;(function wo(C){return"object"==typeof C&&!!C&&_u in C})(k)&&"1"===k["google.c.a.e"]&&(yield function Lh(C,T,A){return Qc.apply(this,arguments)}(C,A.messageType,k))}),ua.apply(this,arguments)}const ca="@firebase/messaging",bo=C=>{const T=new Kc(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function To(C,T){return ua.apply(this,arguments)}(T,A)),T},Xc=C=>{const T=C.getProvider("messaging").getImmediate();return{getToken:k=>function Yc(C,T){return Su.apply(this,arguments)}(T,k)}};function Bt(){return dl.apply(this,arguments)}function dl(){return(dl=(0,x.Z)(function*(){try{yield(0,ee.eu)()}catch{return!1}return typeof window<"u"&&(0,ee.hl)()&&(0,ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function De(){(0,X._registerComponent)(new ae.wA("messaging",bo,"PUBLIC")),(0,X._registerComponent)(new ae.wA("messaging-internal",Xc,"PRIVATE")),(0,X.registerVersion)(ca,"0.12.4"),(0,X.registerVersion)(ca,"0.12.4","esm2017")}();const Rn="analytics",Mu="firebase_id",hr="origin",Ji=6e4,hl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ws="https://www.googletagmanager.com/gtag/js",nn=new he.Yd("@firebase/analytics"),fr=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ha(C){if(!C.startsWith(ws)){const T=fr.create("invalid-gtag-resource",{gtagURL:C});return nn.warn(T.message),""}return C}function fl(C){return Promise.all(C.map(T=>T.catch(A=>A)))}function gl(){return(gl=(0,x.Z)(function*(C,T,A,k,$,q){const de=k[$];try{if(de)yield T[de];else{const ke=(yield fl(A)).find(Je=>Je.measurementId===$);ke&&(yield T[ke.appId])}}catch(We){nn.error(We)}C("config",$,q)})).apply(this,arguments)}function So(){return(So=(0,x.Z)(function*(C,T,A,k,$){try{let q=[];if($&&$.send_to){let de=$.send_to;Array.isArray(de)||(de=[de]);const We=yield fl(A);for(const ke of de){const Je=We.find(pt=>pt.measurementId===ke),ft=Je&&T[Je.appId];if(!ft){q=[];break}q.push(ft)}}0===q.length&&(q=Object.values(T)),yield Promise.all(q),C("event",k,$||{})}catch(q){nn.error(q)}})).apply(this,arguments)}const ml=30,Uh=new class ga{constructor(T={},A=1e3){this.throttleMetadata=T,this.intervalMillis=A}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,A){this.throttleMetadata[T]=A}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Mr(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function pn(){return(pn=(0,x.Z)(function*(C){var T;const{appId:A,apiKey:k}=C,$={method:"GET",headers:Mr(k)},q=hl.replace("{app-id}",A),de=yield fetch(q,$);if(200!==de.status&&304!==de.status){let We="";try{const ke=yield de.json();null!==(T=ke.error)&&void 0!==T&&T.message&&(We=ke.error.message)}catch{}throw fr.create("config-fetch-failed",{httpStatus:de.status,responseMessage:We})}return de.json()})).apply(this,arguments)}function ma(){return(ma=(0,x.Z)(function*(C,T=Uh,A){const{appId:k,apiKey:$,measurementId:q}=C.options;if(!k)throw fr.create("no-app-id");if(!$){if(q)return{measurementId:q,appId:k};throw fr.create("no-api-key")}const de=T.getThrottleMetadata(k)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new _l;return setTimeout((0,x.Z)(function*(){We.abort()}),void 0!==A?A:Ji),Bh({appId:k,apiKey:$,measurementId:q},de,We,T)})).apply(this,arguments)}function Bh(C,T,A){return rd.apply(this,arguments)}function rd(){return rd=(0,x.Z)(function*(C,{throttleEndTimeMillis:T,backoffCount:A},k,$=Uh){var q;const{appId:de,measurementId:We}=C;try{yield function Hh(C,T){return new Promise((A,k)=>{const $=Math.max(T-Date.now(),0),q=setTimeout(A,$);C.addEventListener(()=>{clearTimeout(q),k(fr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(k,T)}catch(ke){if(We)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${We} provided in the "measurementId" field in the local Firebase config. [${ke?.message}]`),{appId:de,measurementId:We};throw ke}try{const ke=yield function Bs(C){return pn.apply(this,arguments)}(C);return $.deleteThrottleMetadata(de),ke}catch(ke){const Je=ke;if(!function _a(C){if(!(C instanceof ee.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(Je)){if($.deleteThrottleMetadata(de),We)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${We} provided in the "measurementId" field in the local Firebase config. [${Je?.message}]`),{appId:de,measurementId:We};throw ke}const ft=503===Number(null===(q=Je?.customData)||void 0===q?void 0:q.httpStatus)?(0,ee.$s)(A,$.intervalMillis,ml):(0,ee.$s)(A,$.intervalMillis),pt={throttleEndTimeMillis:Date.now()+ft,backoffCount:A+1};return $.setThrottleMetadata(de,pt),nn.debug(`Calling attemptFetch again in ${ft} millis`),Bh(C,pt,k,$)}}),rd.apply(this,arguments)}class _l{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let gi,va;function ya(){return(ya=(0,x.Z)(function*(C,T,A,k,$){if($&&$.global)C("event",A,k);else{const q=yield T;C("event",A,Object.assign(Object.assign({},k),{send_to:q}))}})).apply(this,arguments)}function Ea(){return(Ea=(0,x.Z)(function*(){if(!(0,ee.hl)())return nn.warn(fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(C){return nn.warn(fr.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function Nn(){return Nn=(0,x.Z)(function*(C,T,A,k,$,q,de){var We;const ke=function Up(C){return ma.apply(this,arguments)}(C);ke.then(Gn=>{A[Gn.measurementId]=Gn.appId,C.options.measurementId&&Gn.measurementId!==C.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Gn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Gn=>nn.error(Gn)),T.push(ke);const Je=function ku(){return Ea.apply(this,arguments)}().then(Gn=>{if(Gn)return k.getId()}),[ft,pt]=yield Promise.all([ke,Je]);(function nd(C){const T=window.document.getElementsByTagName("script");for(const A of Object.values(T))if(A.src&&A.src.includes(ws)&&A.src.includes(C))return A;return null})(q)||function fa(C,T){const A=function Ds(C,T){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(C,T)),A}("firebase-js-sdk-policy",{createScriptURL:ha}),k=document.createElement("script"),$=`${ws}?l=${C}&id=${T}`;k.src=A?A?.createScriptURL($):$,k.async=!0,document.head.appendChild(k)}(q,ft.measurementId),va&&($("consent","default",va),function xu(C){va=C}(void 0)),$("js",new Date);const sr=null!==(We=de?.config)&&void 0!==We?We:{};return sr[hr]="firebase",sr.update=!0,null!=pt&&(sr[Mu]=pt),$("config",ft.measurementId,sr),gi&&($("set",gi),function Mo(C){gi=C}(void 0)),ft.measurementId}),Nn.apply(this,arguments)}class _t{constructor(T){this.app=T}_delete(){return delete ei[this.app.options.appId],Promise.resolve()}}let ei={},Ca=[];const wa={};let Da,ir,Ts="dataLayer",ti=!1;function Ro(C,T,A){!function od(){const C=[];if((0,ee.ru)()&&C.push("This is a browser extension environment."),(0,ee.zI)()||C.push("Cookies are not available."),C.length>0){const T=C.map((k,$)=>`(${$+1}) ${k}`).join(" "),A=fr.create("invalid-analytics-context",{errorInfo:T});nn.warn(A.message)}}();const k=C.options.appId;if(!k)throw fr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw fr.create("no-api-key");nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ei[k])throw fr.create("already-exists",{id:k});if(!ti){!function td(C){let T=[];Array.isArray(window[C])?T=window[C]:window[C]=T}(Ts);const{wrappedGtag:q,gtagCore:de}=function Ru(C,T,A,k,$){let q=function(...de){window[k].push(arguments)};return window[$]&&"function"==typeof window[$]&&(q=window[$]),window[$]=function pi(C,T,A,k){function q(){return q=(0,x.Z)(function*(de,...We){try{if("event"===de){const[ke,Je]=We;yield function pa(C,T,A,k,$){return So.apply(this,arguments)}(C,T,A,ke,Je)}else if("config"===de){const[ke,Je]=We;yield function pl(C,T,A,k,$,q){return gl.apply(this,arguments)}(C,T,A,k,ke,Je)}else if("consent"===de){const[ke]=We;C("consent","update",ke)}else if("get"===de){const[ke,Je,ft]=We;C("get",ke,Je,ft)}else if("set"===de){const[ke]=We;C("set",ke)}else C(de,...We)}catch(ke){nn.error(ke)}}),q.apply(this,arguments)}return function $(de){return q.apply(this,arguments)}}(q,C,T,A),{gtagCore:q,wrappedGtag:window[$]}}(ei,Ca,wa,Ts,"gtag");ir=q,Da=de,ti=!0}return ei[k]=function Hs(C,T,A,k,$,q,de){return Nn.apply(this,arguments)}(C,Ca,wa,T,Da,Ts,A),new _t(C)}function Li(){return ni.apply(this,arguments)}function ni(){return(ni=(0,x.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}const ba="@firebase/analytics";!function js(){(0,X._registerComponent)(new ae.wA(Rn,(T,{options:A})=>Ro(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,X._registerComponent)(new ae.wA("analytics-internal",function C(T){try{const A=T.getProvider(Rn).getImmediate();return{logEvent:(k,$,q)=>function Vi(C,T,A,k){C=(0,ee.m9)(C),function id(C,T,A,k,$){return ya.apply(this,arguments)}(ir,ei[C.app.options.appId],T,A,k).catch($=>nn.error($))}(A,k,$,q)}}catch(A){throw fr.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,X.registerVersion)(ba,"0.10.0"),(0,X.registerVersion)(ba,"0.10.0","esm2017")}();var Dl=O(4408),Tl=O(7565);const Uu=new class bl extends Tl.v{}(class Ia extends Dl.o{constructor(T,A){super(T,A),this.scheduler=T,this.work=A}schedule(T,A=0){return A>0?super.schedule(T,A):(this.delay=A,this.state=T,this.scheduler.flush(this),this)}execute(T,A){return A>0||this.closed?super.execute(T,A):this._execute(T,A)}requestAsyncId(T,A,k=0){return null!=k&&k>0||null==k&&this.delay>0?super.requestAsyncId(T,A,k):(T.flush(this),0)}});var bs=O(4986),$s=O(8505),Xi=O(9468),Gs=O(5363);const No=new u.GfV("7.6.1"),yi="__angularfire_symbol__analyticsIsSupportedValue",Sa="__angularfire_symbol__analyticsIsSupported",Il="__angularfire_symbol__remoteConfigIsSupportedValue",Sl="__angularfire_symbol__remoteConfigIsSupported",Aa="__angularfire_symbol__messagingIsSupportedValue",Po="__angularfire_symbol__messagingIsSupported";function Ws(C,T,A){if(T){if(1===T.length)return T[0];const q=T.filter(de=>de.app===A);if(1===q.length)return q[0]}return A.container.getProvider(C).getImmediate({optional:!0})}globalThis[Sa]||(globalThis[Sa]=Li().then(C=>globalThis[yi]=C).catch(()=>globalThis[yi]=!1)),globalThis[Po]||(globalThis[Po]=Bt().then(C=>globalThis[Aa]=C).catch(()=>globalThis[Aa]=!1)),globalThis[Sl]||(globalThis[Sl]=ks().then(C=>globalThis[Il]=C).catch(()=>globalThis[Il]=!1));const Wh=(C,T)=>{const A=T?[T]:(0,Z.C6)(),k=[];return A.forEach($=>{$.container.getProvider(C).instances.forEach(de=>{k.includes(de)||k.push(de)})}),k};function fn(){}class zh{constructor(T,A=Uu){this.zone=T,this.delegate=A}now(){return this.delegate.now()}schedule(T,A,k){const $=this.zone;return this.delegate.schedule(function(de){$.runGuarded(()=>{T.apply(this,[de])})},A,k)}}class Is{constructor(T){this.zone=T,this.task=null}call(T,A){const k=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fn,{},fn,fn)),A.pipe((0,$s.b)({next:k,complete:k,error:k})).subscribe(T).add(k)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Al=(()=>{class C{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new zh(Zone.current)),this.insideAngular=A.run(()=>new zh(Zone.current,bs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(A){return new(A||C)(u.LFG(u.R0b))},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Ln(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Zh(C){return Ln(),function f_(C){return function(A){return(A=A.lift(new Is(C.ngZone))).pipe((0,Xi.R)(C.outsideAngular),(0,Gs.Q)(C.insideAngular))}}(Ln())(C)}},2090:(Xe,ve,O)=>{O.d(ve,{$s:()=>Ni,BH:()=>Y,DV:()=>hs,Dv:()=>co,GJ:()=>vr,L:()=>ue,LL:()=>Mt,Pz:()=>pe,Sg:()=>fe,UG:()=>re,UI:()=>uo,US:()=>ae,Wj:()=>Rt,Wl:()=>Zt,Yr:()=>ge,ZB:()=>Q,ZR:()=>Ze,aH:()=>ne,b$:()=>Jn,cI:()=>on,dS:()=>ps,eu:()=>Ve,g5:()=>x,gK:()=>Qt,gQ:()=>it,h$:()=>Se,hl:()=>Ae,hu:()=>Z,jU:()=>Le,lb:()=>di,m9:()=>Ut,ne:()=>en,p$:()=>j,pd:()=>rt,r3:()=>On,ru:()=>xt,tV:()=>U,uI:()=>Oe,ug:()=>ho,vZ:()=>xr,w1:()=>ds,w9:()=>bn,xO:()=>qo,xb:()=>Ps,z$:()=>Te,zI:()=>xe,zd:()=>Ge});const u={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Z=function(B,V){if(!B)throw x(V)},x=function(B){return new Error("Firebase Database ("+u.SDK_VERSION+") INTERNAL ASSERT FAILED: "+B)},X=function(B){const V=[];let z=0;for(let ye=0;ye<B.length;ye++){let ie=B.charCodeAt(ye);ie<128?V[z++]=ie:ie<2048?(V[z++]=ie>>6|192,V[z++]=63&ie|128):55296==(64512&ie)&&ye+1<B.length&&56320==(64512&B.charCodeAt(ye+1))?(ie=65536+((1023&ie)<<10)+(1023&B.charCodeAt(++ye)),V[z++]=ie>>18|240,V[z++]=ie>>12&63|128,V[z++]=ie>>6&63|128,V[z++]=63&ie|128):(V[z++]=ie>>12|224,V[z++]=ie>>6&63|128,V[z++]=63&ie|128)}return V},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,V){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let ie=0;ie<B.length;ie+=3){const Ye=B[ie],st=ie+1<B.length,Ct=st?B[ie+1]:0,ln=ie+2<B.length,tn=ln?B[ie+2]:0;let tr=(15&Ct)<<2|tn>>6,Zr=63&tn;ln||(Zr=64,st||(tr=64)),ye.push(z[Ye>>2],z[(3&Ye)<<4|Ct>>4],z[tr],z[Zr])}return ye.join("")},encodeString(B,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(B):this.encodeByteArray(X(B),V)},decodeString(B,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(B):function(B){const V=[];let z=0,ye=0;for(;z<B.length;){const ie=B[z++];if(ie<128)V[ye++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const Ye=B[z++];V[ye++]=String.fromCharCode((31&ie)<<6|63&Ye)}else if(ie>239&&ie<365){const ln=((7&ie)<<18|(63&B[z++])<<12|(63&B[z++])<<6|63&B[z++])-65536;V[ye++]=String.fromCharCode(55296+(ln>>10)),V[ye++]=String.fromCharCode(56320+(1023&ln))}else{const Ye=B[z++],st=B[z++];V[ye++]=String.fromCharCode((15&ie)<<12|(63&Ye)<<6|63&st)}}return V.join("")}(this.decodeStringToByteArray(B,V))},decodeStringToByteArray(B,V){this.init_();const z=V?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let ie=0;ie<B.length;){const Ye=z[B.charAt(ie++)],Ct=ie<B.length?z[B.charAt(ie)]:0;++ie;const tn=ie<B.length?z[B.charAt(ie)]:64;++ie;const Lt=ie<B.length?z[B.charAt(ie)]:64;if(++ie,null==Ye||null==Ct||null==tn||null==Lt)throw new he;ye.push(Ye<<2|Ct>>4),64!==tn&&(ye.push(Ct<<4&240|tn>>2),64!==Lt&&ye.push(tn<<6&192|Lt))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}};class he extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Se=function(B){const V=X(B);return ae.encodeByteArray(V,!0)},ue=function(B){return Se(B).replace(/\./g,"")},U=function(B){try{return ae.decodeString(B,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function j(B){return Q(void 0,B)}function Q(B,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return V}for(const z in V)!V.hasOwnProperty(z)||!Pe(z)||(B[z]=Q(B[z],V[z]));return B}function Pe(B){return"__proto__"!==B}const Ne=()=>{try{return function we(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const B=process.env.__FIREBASE_DEFAULTS__;return B?JSON.parse(B):void 0})()||(()=>{if(typeof document>"u")return;let B;try{B=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=B&&U(B[1]);return V&&JSON.parse(V)})()}catch(B){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${B}`)}},ne=()=>{var B;return null===(B=Ne())||void 0===B?void 0:B.config},pe=B=>{var V;return null===(V=Ne())||void 0===V?void 0:V[`_${B}`]};class Y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,z)=>{this.resolve=V,this.reject=z})}wrapCallback(V){return(z,ye)=>{z?this.reject(z):this.resolve(ye),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(z):V(z,ye))}}}function fe(B,V){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=V||"demo-project",ie=B.iat||0,Ye=B.sub||B.user_id;if(!Ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const st=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:ie,exp:ie+3600,auth_time:ie,sub:Ye,user_id:Ye,firebase:{sign_in_provider:"custom",identities:{}}},B);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(st)),""].join(".")}function Te(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Te())}function re(){var B;const V=null===(B=Ne())||void 0===B?void 0:B.forceEnvironment;if("node"===V)return!0;if("browser"===V)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Le(){return"object"==typeof self&&self.self===self}function xt(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function Jn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ds(){const B=Te();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function ge(){return!0===u.NODE_CLIENT||!0===u.NODE_ADMIN}function Ae(){try{return"object"==typeof indexedDB}catch{return!1}}function Ve(){return new Promise((B,V)=>{try{let z=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(ye);ie.onsuccess=()=>{ie.result.close(),z||self.indexedDB.deleteDatabase(ye),B(!0)},ie.onupgradeneeded=()=>{z=!1},ie.onerror=()=>{var Ye;V((null===(Ye=ie.error)||void 0===Ye?void 0:Ye.message)||"")}}catch(z){V(z)}})}function xe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ze extends Error{constructor(V,z,ye){super(z),this.code=V,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,Ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mt.prototype.create)}}class Mt{constructor(V,z,ye){this.service=V,this.serviceName=z,this.errors=ye}create(V,...z){const ye=z[0]||{},ie=`${this.service}/${V}`,Ye=this.errors[V],st=Ye?function Ke(B,V){return B.replace(nt,(z,ye)=>{const ie=V[ye];return null!=ie?String(ie):`<${ye}?>`})}(Ye,ye):"Error";return new Ze(ie,`${this.serviceName}: ${st} (${ie}).`,ye)}}const nt=/\{\$([^}]+)}/g;function on(B){return JSON.parse(B)}function Zt(B){return JSON.stringify(B)}const vn=function(B){let V={},z={},ye={},ie="";try{const Ye=B.split(".");V=on(U(Ye[0])||""),z=on(U(Ye[1])||""),ie=Ye[2],ye=z.d||{},delete z.d}catch{}return{header:V,claims:z,data:ye,signature:ie}},bn=function(B){const z=vn(B).claims;return!!z&&"object"==typeof z&&z.hasOwnProperty("iat")},vr=function(B){const V=vn(B).claims;return"object"==typeof V&&!0===V.admin};function On(B,V){return Object.prototype.hasOwnProperty.call(B,V)}function hs(B,V){if(Object.prototype.hasOwnProperty.call(B,V))return B[V]}function Ps(B){for(const V in B)if(Object.prototype.hasOwnProperty.call(B,V))return!1;return!0}function uo(B,V,z){const ye={};for(const ie in B)Object.prototype.hasOwnProperty.call(B,ie)&&(ye[ie]=V.call(z,B[ie],ie,B));return ye}function xr(B,V){if(B===V)return!0;const z=Object.keys(B),ye=Object.keys(V);for(const ie of z){if(!ye.includes(ie))return!1;const Ye=B[ie],st=V[ie];if(kr(Ye)&&kr(st)){if(!xr(Ye,st))return!1}else if(Ye!==st)return!1}for(const ie of ye)if(!z.includes(ie))return!1;return!0}function kr(B){return null!==B&&"object"==typeof B}function qo(B){const V=[];for(const[z,ye]of Object.entries(B))Array.isArray(ye)?ye.forEach(ie=>{V.push(encodeURIComponent(z)+"="+encodeURIComponent(ie))}):V.push(encodeURIComponent(z)+"="+encodeURIComponent(ye));return V.length?"&"+V.join("&"):""}function Ge(B){const V={};return B.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[ie,Ye]=ye.split("=");V[decodeURIComponent(ie)]=decodeURIComponent(Ye)}}),V}function rt(B){const V=B.indexOf("?");if(!V)return"";const z=B.indexOf("#",V);return B.substring(V,z>0?z:void 0)}class it{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let V=1;V<this.blockSize;++V)this.pad_[V]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(V,z){z||(z=0);const ye=this.W_;if("string"==typeof V)for(let Lt=0;Lt<16;Lt++)ye[Lt]=V.charCodeAt(z)<<24|V.charCodeAt(z+1)<<16|V.charCodeAt(z+2)<<8|V.charCodeAt(z+3),z+=4;else for(let Lt=0;Lt<16;Lt++)ye[Lt]=V[z]<<24|V[z+1]<<16|V[z+2]<<8|V[z+3],z+=4;for(let Lt=16;Lt<80;Lt++){const tr=ye[Lt-3]^ye[Lt-8]^ye[Lt-14]^ye[Lt-16];ye[Lt]=4294967295&(tr<<1|tr>>>31)}let tn,gt,ie=this.chain_[0],Ye=this.chain_[1],st=this.chain_[2],Ct=this.chain_[3],ln=this.chain_[4];for(let Lt=0;Lt<80;Lt++){Lt<40?Lt<20?(tn=Ct^Ye&(st^Ct),gt=1518500249):(tn=Ye^st^Ct,gt=1859775393):Lt<60?(tn=Ye&st|Ct&(Ye|st),gt=2400959708):(tn=Ye^st^Ct,gt=3395469782);const tr=(ie<<5|ie>>>27)+tn+ln+gt+ye[Lt]&4294967295;ln=Ct,Ct=st,st=4294967295&(Ye<<30|Ye>>>2),Ye=ie,ie=tr}this.chain_[0]=this.chain_[0]+ie&4294967295,this.chain_[1]=this.chain_[1]+Ye&4294967295,this.chain_[2]=this.chain_[2]+st&4294967295,this.chain_[3]=this.chain_[3]+Ct&4294967295,this.chain_[4]=this.chain_[4]+ln&4294967295}update(V,z){if(null==V)return;void 0===z&&(z=V.length);const ye=z-this.blockSize;let ie=0;const Ye=this.buf_;let st=this.inbuf_;for(;ie<z;){if(0===st)for(;ie<=ye;)this.compress_(V,ie),ie+=this.blockSize;if("string"==typeof V){for(;ie<z;)if(Ye[st]=V.charCodeAt(ie),++st,++ie,st===this.blockSize){this.compress_(Ye),st=0;break}}else for(;ie<z;)if(Ye[st]=V[ie],++st,++ie,st===this.blockSize){this.compress_(Ye),st=0;break}}this.inbuf_=st,this.total_+=z}digest(){const V=[];let z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ie=this.blockSize-1;ie>=56;ie--)this.buf_[ie]=255&z,z/=256;this.compress_(this.buf_);let ye=0;for(let ie=0;ie<5;ie++)for(let Ye=24;Ye>=0;Ye-=8)V[ye]=this.chain_[ie]>>Ye&255,++ye;return V}}function en(B,V){const z=new mn(B,V);return z.subscribe.bind(z)}class mn{constructor(V,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{V(this)}).catch(ye=>{this.error(ye)})}next(V){this.forEachObserver(z=>{z.next(V)})}error(V){this.forEachObserver(z=>{z.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,z,ye){let ie;if(void 0===V&&void 0===z&&void 0===ye)throw new Error("Missing Observer.");ie=function Yt(B,V){if("object"!=typeof B||null===B)return!1;for(const z of V)if(z in B&&"function"==typeof B[z])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:z,complete:ye},void 0===ie.next&&(ie.next=Xn),void 0===ie.error&&(ie.error=Xn),void 0===ie.complete&&(ie.complete=Xn);const Ye=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch{}}),this.observers.push(ie),Ye}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,V)}sendOne(V,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{z(this.observers[V])}catch(ye){typeof console<"u"&&console.error&&console.error(ye)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xn(){}const co=function(B,V,z,ye){let ie;if(ye<V?ie="at least "+V:ye>z&&(ie=0===z?"none":"no more than "+z),ie)throw new Error(B+" failed: Was called with "+ye+(1===ye?" argument.":" arguments.")+" Expects "+ie+".")};function Qt(B,V){return`${B} failed: ${V} argument `}function Rt(B,V,z,ye){if((!ye||z)&&"function"!=typeof z)throw new Error(Qt(B,V)+"must be a valid function.")}function di(B,V,z,ye){if((!ye||z)&&("object"!=typeof z||null===z))throw new Error(Qt(B,V)+"must be a valid context object.")}const ps=function(B){const V=[];let z=0;for(let ye=0;ye<B.length;ye++){let ie=B.charCodeAt(ye);if(ie>=55296&&ie<=56319){const Ye=ie-55296;ye++,Z(ye<B.length,"Surrogate pair missing trail surrogate."),ie=65536+(Ye<<10)+(B.charCodeAt(ye)-56320)}ie<128?V[z++]=ie:ie<2048?(V[z++]=ie>>6|192,V[z++]=63&ie|128):ie<65536?(V[z++]=ie>>12|224,V[z++]=ie>>6&63|128,V[z++]=63&ie|128):(V[z++]=ie>>18|240,V[z++]=ie>>12&63|128,V[z++]=ie>>6&63|128,V[z++]=63&ie|128)}return V},ho=function(B){let V=0;for(let z=0;z<B.length;z++){const ye=B.charCodeAt(z);ye<128?V++:ye<2048?V+=2:ye>=55296&&ye<=56319?(V+=4,z++):V+=3}return V},Ri=1e3,er=2,Hn=144e5,an=.5;function Ni(B,V=Ri,z=er){const ye=V*Math.pow(z,B),ie=Math.round(an*ye*(Math.random()-.5)*2);return Math.min(Hn,ye+ie)}function Ut(B){return B&&B._delegate?B._delegate:B}},1910:(Xe,ve,O)=>{var u=O(2223);let Z=null;function x(){return Z}class ee{}const ae=new u.OlP("DocumentToken");let he=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(ue)},providedIn:"platform"}),n})();const Se=new u.OlP("Location Initialized");let ue=(()=>{class n extends he{constructor(){super(),this._doc=(0,u.f3M)(ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(e){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,a){this._history.pushState(e,r,a)}replaceState(e,r,a){this._history.replaceState(e,r,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function U(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function j(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Q(n){return n&&"?"!==n[0]?"?"+n:n}let Pe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)($e)},providedIn:"root"}),n})();const we=new u.OlP("appBaseHref");let $e=(()=>{class n extends Pe{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return U(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Q(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${r}${a}`:r}pushState(e,r,a,c){const f=this.prepareExternalUrl(a+Q(c));this._platformLocation.pushState(e,r,f)}replaceState(e,r,a,c){const f=this.prepareExternalUrl(a+Q(c));this._platformLocation.replaceState(e,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(he),u.LFG(we,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),be=(()=>{class n extends Pe{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=U(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,a,c){let f=this.prepareExternalUrl(a+Q(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(e,r,f)}replaceState(e,r,a,c){let f=this.prepareExternalUrl(a+Q(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(he),u.LFG(we,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),je=(()=>{class n{constructor(e){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function ne(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(j(tt(r))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Q(r))}normalize(e){return n.stripTrailingSlash(function ut(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,tt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",a=null){this._locationStrategy.pushState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Q(r)),a)}replaceState(e,r="",a=null){this._locationStrategy.replaceState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Q(r)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(a=>a(e,r))}subscribe(e,r,a){return this._subject.subscribe({next:e,error:r,complete:a})}}return n.normalizeQueryParams=Q,n.joinWithSlash=U,n.stripTrailingSlash=j,n.\u0275fac=function(e){return new(e||n)(u.LFG(Pe))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ne(){return new je((0,u.LFG)(Pe))}()},providedIn:"root"}),n})();function tt(n){return n.replace(/\/index.html$/,"")}function gs(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[a,c]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(a.trim()===t)return decodeURIComponent(c)}return null}class lu{constructor(t,e,r,a){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ya=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,a){this._viewContainer=e,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((a,c,f)=>{if(null==a.previousIndex)r.createEmbeddedView(this._template,new lu(a.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)r.remove(null===c?void 0:c);else if(null!==c){const y=r.get(c);r.move(y,f),kc(y,a)}});for(let a=0,c=r.length;a<c;a++){const y=r.get(a).context;y.index=a,y.count=c,y.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{kc(r.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function kc(n,t){n.context.$implicit=t.item}let Kr=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new Ap,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ah("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ah("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Ap{constructor(){this.$implicit=null,this.ngIf=null}}function Ah(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(t)}'.`)}let Yr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function mo(n){return"server"===n}let ki=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Ar((0,u.LFG)(ae),window)}),n})();class Ar{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ks(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const c=a.shadowRoot;if(c){const f=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(f)return f}a=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],a-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Qr(this.window.history)||Qr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Qr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class $n{}class Du extends ee{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class vs extends Du{static makeCurrent(){!function X(n){Z||(Z=n)}(new vs)}onAndCancel(t,e,r){return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Vp(){return qn=qn||document.querySelector("base"),qn?qn.getAttribute("href"):null}();return null==e?null:function qc(n){wo=wo||document.createElement("a"),wo.setAttribute("href",n);const t=wo.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){qn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return gs(document.cookie,t)}}let wo,qn=null,Tu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Kc=new u.OlP("EventManagerPlugins");let bu=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(a=>{a.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,a){return this._findPluginFor(r).addEventListener(e,r,a)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(c=>c.supports(e)),!r)throw new u.vHH(5101,!1);return this._eventNameToPlugin.set(e,r),r}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Kc),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ul{constructor(t){this._doc=t}}const Iu="ng-app-id";let Do=(()=>{class n{constructor(e,r,a,c={}){this.doc=e,this.appId=r,this.nonce=a,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=mo(c),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(a=>a.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Iu}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(a=>{null!=a.textContent&&r.set(a.textContent,a)}),r}return null}changeUsageCount(e,r){const a=this.styleRef;if(a.has(e)){const c=a.get(e);return c.usage+=r,c.usage}return a.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const a=this.styleNodesInDOM,c=a?.get(r);if(c?.parentNode===e)return a.delete(r),c.removeAttribute(Iu),c;{const f=this.doc.createElement("style");return this.nonce&&f.setAttribute("nonce",this.nonce),f.textContent=r,this.platformIsServer&&f.setAttribute(Iu,this.appId),f}}addStyleToHost(e,r){const a=this.getStyleElement(e,r);e.appendChild(a);const c=this.styleRef,f=c.get(r)?.elements;f?f.push(a):c.set(r,{elements:[a],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ae),u.LFG(u.AFp),u.LFG(u.Ojb,8),u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cs=/%COMP%/g,Jc=new u.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ca(n,t){return t.map(e=>e.replace(Cs,n))}let cl=(()=>{class n{constructor(e,r,a,c,f,y,w,I=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=a,this.removeStylesOnCompDestory=c,this.doc=f,this.platformId=y,this.ngZone=w,this.nonce=I,this.rendererByCompId=new Map,this.platformIsServer=mo(y),this.defaultRenderer=new bo(e,f,w,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===u.ifc.ShadowDom&&(r={...r,encapsulation:u.ifc.Emulated});const a=this.getOrCreateRenderer(e,r);return a instanceof _n?a.applyToHost(e):a instanceof Au&&a.applyStyles(),a}getOrCreateRenderer(e,r){const a=this.rendererByCompId;let c=a.get(r.id);if(!c){const f=this.doc,y=this.ngZone,w=this.eventManager,I=this.sharedStylesHost,N=this.removeStylesOnCompDestory,P=this.platformIsServer;switch(r.encapsulation){case u.ifc.Emulated:c=new _n(w,I,r,this.appId,N,f,y,P);break;case u.ifc.ShadowDom:return new dl(w,I,e,r,f,y,this.nonce,P);default:c=new Au(w,I,r,N,f,y,P)}c.onDestroy=()=>a.delete(r.id),a.set(r.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(bu),u.LFG(Do),u.LFG(u.AFp),u.LFG(Jc),u.LFG(ae),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(u.Ojb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class bo{constructor(t,e,r,a){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=a,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(ot[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Bt(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(Bt(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new u.vHH(5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,a){if(a){e=a+":"+e;const c=ot[a];c?t.setAttributeNS(c,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const a=ot[r];a?t.removeAttributeNS(a,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,a){a&(u.JOm.DashCase|u.JOm.Important)?t.style.setProperty(e,r,a&u.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&u.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){if("string"==typeof t&&!(t=x().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(r))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Bt(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class dl extends bo{constructor(t,e,r,a,c,f,y,w){super(t,c,f,w),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const I=ca(a.id,a.styles);for(const N of I){const P=document.createElement("style");y&&P.setAttribute("nonce",y),P.textContent=N,this.shadowRoot.appendChild(P)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Au extends bo{constructor(t,e,r,a,c,f,y,w){super(t,c,f,y),this.sharedStylesHost=e,this.removeStylesOnCompDestory=a,this.rendererUsageCount=0,this.styles=w?ca(w,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class _n extends Au{constructor(t,e,r,a,c,f,y,w){const I=a+"-"+r.id;super(t,e,r,c,f,y,w,I),this.contentAttr=function To(n){return"_ngcontent-%COMP%".replace(Cs,n)}(I),this.hostAttr=function ua(n){return"_nghost-%COMP%".replace(Cs,n)}(I)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}let Vh=(()=>{class n extends ul{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,a){return e.addEventListener(r,a,!1),()=>this.removeEventListener(e,r,a)}removeEventListener(e,r,a){return e.removeEventListener(r,a)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Xr=["alt","control","meta","shift"],Qi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},da={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Io=(()=>{class n extends ul{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,a){const c=n.parseEventName(r),f=n.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(e,c.domEventName,f))}static parseEventName(e){const r=e.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const c=n._normalizeKey(r.pop());let f="",y=r.indexOf("code");if(y>-1&&(r.splice(y,1),f="code."),Xr.forEach(I=>{const N=r.indexOf(I);N>-1&&(r.splice(N,1),f+=I+".")}),f+=c,0!=r.length||0===c.length)return null;const w={};return w.domEventName=a,w.fullKey=f,w}static matchEventFullKeyCode(e,r){let a=Qi[e.key]||e.key,c="";return r.indexOf("code.")>-1&&(a=e.code,c="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Xr.forEach(f=>{f!==a&&(0,da[f])(e)&&(c+=f+".")}),c+=a,c===r)}static eventCallback(e,r,a){return c=>{n.matchEventFullKeyCode(c,e)&&a.runGuarded(()=>r(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ed=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function Ji(){vs.makeCurrent()},multi:!0},{provide:ae,useFactory:function ws(){return(0,u.RDi)(document),document},deps:[]}]),fr=new u.OlP(""),ha=[{provide:u.rWj,useClass:class Es{addToWindow(t){u.dqk.getAngularTestability=(r,a=!0)=>{const c=t.findTestabilityInTree(r,a);if(null==c)throw new u.vHH(5103,!1);return c},u.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const a=u.dqk.getAllAngularTestabilities();let c=a.length,f=!1;const y=function(w){f=f||w,c--,0==c&&r(f)};a.forEach(function(w){w.whenStable(y)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?x().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],fl=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function hl(){return new u.qLn},deps:[]},{provide:Kc,useClass:Vh,multi:!0,deps:[ae,u.R0b,u.Lbi]},{provide:Kc,useClass:Io,multi:!0,deps:[ae]},cl,Do,bu,{provide:u.FYo,useExisting:cl},{provide:$n,useClass:Tu,deps:[]},[]];let Ds=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:u.AFp,useValue:e.appId}]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(fr,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...fl,...ha],imports:[Yr,u.hGG]}),n})(),pa=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function gl(){return new pa((0,u.LFG)(ae))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let _a=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(e){let r=null;return r=e?new(e||n):u.LFG(gi),r},providedIn:"root"}),n})(),gi=(()=>{class n extends _a{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new u.vHH(5200,!1);case u.q3G.URL:return(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new u.vHH(5201,!1);default:throw new u.vHH(5202,!1)}}bypassSecurityTrustHtml(e){return(0,u.JVY)(e)}bypassSecurityTrustStyle(e){return(0,u.L6k)(e)}bypassSecurityTrustScript(e){return(0,u.eBb)(e)}bypassSecurityTrustUrl(e){return(0,u.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,u.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function _l(n){return new gi(n.get(ae))}(u.LFG(u.zs3)),r},providedIn:"root"}),n})();var gn=O(8996),Kn=O(9751);const{isArray:$h}=Array,{getPrototypeOf:vl,prototype:va,keys:xu}=Object;function Mo(n){if(1===n.length){const t=n[0];if($h(t))return{args:t,keys:null};if(function ku(n){return n&&"object"==typeof n&&vl(n)===va}(t)){const e=xu(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var Ea=O(8421),Hs=O(7669),Nn=O(5403),_t=O(4004);const{isArray:ei}=Array;function wa(n){return(0,_t.U)(t=>function Ca(n,t){return ei(t)?n(...t):n(t)}(n,t))}function Ts(n,t){return n.reduce((e,r,a)=>(e[r]=t[a],e),{})}let Da=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),ir=(()=>{class n extends Da{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const ti=new u.OlP("NgValueAccessor"),Ro={provide:ti,useExisting:(0,u.Gpc)(()=>Li),multi:!0},El=new u.OlP("CompositionEventMode");let Li=(()=>{class n extends Da{constructor(e,r,a){super(e,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ad(){const n=x()?x().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(El,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&u.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[u._Bn([Ro]),u.qOj]}),n})();const pr=new u.OlP("NgValidators"),_i=new u.OlP("NgAsyncValidators");function Vi(n){return function ni(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function Ia(n){return null}function Tl(n){return null!=n}function bl(n){return(0,u.QGY)(n)?(0,gn.D)(n):n}function Uu(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Bu(n,t){return t.map(e=>e(n))}function $s(n){return n.map(t=>function bs(n){return!n.validate}(t)?t:e=>t.validate(e))}function Gs(n){return null!=n?function Xi(n){if(!n)return null;const t=n.filter(Tl);return 0==t.length?null:function(e){return Uu(Bu(e,t))}}($s(n)):null}function yi(n){return null!=n?function No(n){if(!n)return null;const t=n.filter(Tl);return 0==t.length?null:function(e){return function Fu(...n){const t=(0,Hs.jO)(n),{args:e,keys:r}=Mo(n),a=new Kn.y(c=>{const{length:f}=e;if(!f)return void c.complete();const y=new Array(f);let w=f,I=f;for(let N=0;N<f;N++){let P=!1;(0,Ea.Xf)(e[N]).subscribe((0,Nn.x)(c,G=>{P||(P=!0,I--),y[N]=G},()=>w--,void 0,()=>{(!w||!P)&&(I||c.next(r?Ts(r,y):y),c.complete())}))}});return t?a.pipe(wa(t)):a}(Bu(e,t).map(bl)).pipe((0,_t.U)(Uu))}}($s(n)):null}function Sa(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Aa(n){return n?Array.isArray(n)?n:[n]:[]}function Po(n,t){return Array.isArray(n)?n.includes(t):n===t}function Hu(n,t){const e=Aa(t);return Aa(n).forEach(a=>{Po(e,a)||e.push(a)}),e}function Gh(n,t){return Aa(t).filter(e=>!Po(n,e))}class cd{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Gs(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=yi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Yn extends cd{get formDirective(){return null}get path(){return null}}class Ws extends cd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Wh{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Is=(()=>{class n extends Wh{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Ws,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})(),Al=(()=>{class n extends Wh{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Yn,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.qOj]}),n})();const ke="VALID",Je="INVALID",ft="PENDING",pt="DISABLED";function sr(n){return(jr(n)?n.validators:n)||null}function Ei(n,t){return(jr(t)?t.asyncValidators:n)||null}function jr(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Ra{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ke}get invalid(){return this.status===Je}get pending(){return this.status==ft}get disabled(){return this.status===pt}get enabled(){return this.status!==pt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Hu(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Hu(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Gh(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Gh(t,this._rawAsyncValidators))}hasValidator(t){return Po(this._rawValidators,t)}hasAsyncValidator(t){return Po(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ft,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=pt,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ke,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ke||this.status===ft)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pt:ke}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ft,this._hasOwnPendingAsyncValidator=!0;const e=bl(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,a)=>r&&r._find(a),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?pt:this.errors?Je:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ft)?ft:this._anyControlsHaveStatus(Je)?Je:ke}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){jr(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Gn(n){return Array.isArray(n)?Gs(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function ju(n){return Array.isArray(n)?yi(n):n||null}(this._rawAsyncValidators)}}class Oo extends Ra{constructor(t,e,r){super(sr(e),Ei(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function Ci(n,t,e){n._forEachChild((r,a)=>{if(void 0===e[a])throw new u.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function ri(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[e])throw new u.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const a=this.controls[r];a&&a.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,a)=>{r.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,a)=>((r.enabled||this.disabled)&&(e[a]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((a,c)=>{r=e(r,a,c)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const wi=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>$u}),$u="always";function Nl(n,t,e=$u){Yh(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function fd(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&xo(n,t)})}(n,t),function Hp(n,t){const e=(r,a)=>{t.valueAccessor.writeValue(r),a&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function m_(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&xo(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function g_(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Kh(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Yh(n,t){const e=function Il(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(Sa(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=function Sl(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(Sa(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();Kh(t._rawValidators,a),Kh(t._rawAsyncValidators,a)}function xo(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const gE={provide:Yn,useExisting:(0,u.Gpc)(()=>zs)},Wu=(()=>Promise.resolve())();let zs=(()=>{class n extends Yn{constructor(e,r,a){super(),this.callSetDisabledState=a,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new Oo({},Gs(e),yi(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Wu.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Nl(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Wu.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Wu.then(()=>{const r=this._findContainer(e.path),a=new Oo({});(function __(n,t){Yh(n,t)})(a,e),r.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Wu.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Wu.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function ef(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(pr,10),u.Y36(_i,10),u.Y36(wi,8))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&u.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([gE]),u.qOj]}),n})();function Pl(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function tf(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const nf=class extends Ra{constructor(t=null,e,r){super(sr(e),Ei(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jr(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=tf(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Pl(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Pl(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){tf(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Wp={provide:Ws,useExisting:(0,u.Gpc)(()=>zu)},gd=(()=>Promise.resolve())();let zu=(()=>{class n extends Ws{constructor(e,r,a,c,f,y){super(),this._changeDetectorRef=f,this.callSetDisabledState=y,this.control=new nf,this._registered=!1,this.name="",this.update=new u.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=function Gp(n,t){if(!t)return null;let e,r,a;return Array.isArray(t),t.forEach(c=>{c.constructor===Li?e=c:function Xh(n){return Object.getPrototypeOf(n.constructor)===ir}(c)?r=c:a=c}),a||r||e||null}(0,c)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function $p(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Nl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){gd.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,a=0!==r&&(0,u.D6c)(r);gd.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function dd(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Yn,9),u.Y36(pr,10),u.Y36(_i,10),u.Y36(ti,10),u.Y36(u.sBO,8),u.Y36(wi,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Wp]),u.qOj,u.TTD]}),n})(),uf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),$r=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Cd={provide:ti,useExisting:(0,u.Gpc)(()=>xl),multi:!0};function qp(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let xl=(()=>{class n extends ir{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const a=qp(this._getOptionId(e),e);this.setProperty("value",a)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function Ui(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&u.NdJ("change",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([Cd]),u.qOj]}),n})(),_f=(()=>{class n{constructor(e,r,a){this._element=e,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(qp(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(xl,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const yf={provide:ti,useExisting:(0,u.Gpc)(()=>Vo),multi:!0};function wd(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Vo=(()=>{class n extends ir{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const a=e.map(c=>this._getOptionId(c));r=(c,f)=>{c._setSelected(a.indexOf(f.toString())>-1)}}else r=(a,c)=>{a._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const a=[],c=r.selectedOptions;if(void 0!==c){const f=c;for(let y=0;y<f.length;y++){const I=this._getOptionValue(f[y].value);a.push(I)}}else{const f=r.options;for(let y=0;y<f.length;y++){const w=f[y];if(w.selected){const I=this._getOptionValue(w.value);a.push(I)}}}this.value=a,e(a)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function vf(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&u.NdJ("change",function(c){return r.onChange(c.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([yf]),u.qOj]}),n})(),kl=(()=>{class n{constructor(e,r,a){this._element=e,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(wd(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(wd(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(Vo,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let es=(()=>{class n{constructor(){this._validator=Ia}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ia,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const C_={provide:pr,useExisting:(0,u.Gpc)(()=>Na),multi:!0};let Na=(()=>{class n extends es{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.D6c,this.createValidator=e=>Vi}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&u.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([C_]),u.qOj]}),n})();const b={provide:pr,useExisting:(0,u.Gpc)(()=>M),multi:!0};let M=(()=>{class n extends es{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function Dd(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>function js(n){return t=>function Ta(n){return null!=n&&"number"==typeof n.length}(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&u.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[u._Bn([b]),u.qOj]}),n})(),Qe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[$r]}),n})(),Sd=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:wi,useValue:e.callSetDisabledState??$u}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Qe]}),n})();var ii=O(2011),Md=O(4986),dt=O(9646),Ku=O(6451),bf=O(3099),Tr=O(3900),ns=O(4482);function Qp(n,t){return(0,ns.e)(function VD(n,t,e,r,a){return(c,f)=>{let y=e,w=t,I=0;c.subscribe((0,Nn.x)(f,N=>{const P=I++;w=y?n(w,N,P):(y=!0,N),r&&f.next(w)},a&&(()=>{y&&f.next(w),f.complete()})))}}(n,t,arguments.length>=2,!0))}var yE=O(1884),Fl=O(4671),w_=O(5032),As=O(4976),BD=(O(2644),O(3942)),Pa=O(4859),Ll=O(5861),qs=O(6881),L=O(2090),Nd=O(1877);const D_="@firebase/database";let Jp="";function Vl(n){Jp=n}class HD{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,L.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,L.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class jD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,L.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const vE=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new HD(t)}}catch{}return new jD},Yu=vE("localStorage"),b_=vE("sessionStorage"),Bi=new Nd.Yd("@firebase/database"),Qu=function(){let n=1;return function(){return n++}}(),EE=function(n){const t=(0,L.dS)(n),e=new L.gQ;e.update(t);const r=e.digest();return L.US.encodeByteArray(r)},If=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=If.apply(null,r):t+="object"==typeof r?(0,L.Wl)(r):r,t+=" "}return t};let Ju=null,CE=!0;const wE=function(n,t){(0,L.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Bi.logLevel=Nd.in.VERBOSE,Ju=Bi.log.bind(Bi),t&&b_.set("logging_enabled",!0)):"function"==typeof n?Ju=n:(Ju=null,b_.remove("logging_enabled"))},Rr=function(...n){if(!0===CE&&(CE=!1,null===Ju&&!0===b_.get("logging_enabled")&&wE(!0)),Ju){const t=If.apply(null,n);Ju(t)}},Pd=function(n){return function(...t){Rr(n,...t)}},I_=function(...n){const t="FIREBASE INTERNAL ERROR: "+If(...n);Bi.error(t)},Uo=function(...n){const t=`FIREBASE FATAL ERROR: ${If(...n)}`;throw Bi.error(t),new Error(t)},si=function(...n){const t="FIREBASE WARNING: "+If(...n);Bi.warn(t)},Xu=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Ms="[MIN_NAME]",Bo="[MAX_NAME]",Ul=function(n,t){if(n===t)return 0;if(n===Ms||t===Bo)return-1;if(t===Ms||n===Bo)return 1;{const e=IE(n),r=IE(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},DE=function(n,t){return n===t?0:n<t?-1:1},Xp=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,L.Wl)(t))},TE=function(n){if("object"!=typeof n||null===n)return(0,L.Wl)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,L.Wl)(t[r]),e+=":",e+=TE(n[t[r]]);return e+="}",e},GD=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let a=0;a<e;a+=t)r.push(n.substring(a,a+t>e?e:a+t));return r};function mr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const eg=function(n){(0,L.hu)(!Xu(n),"Invalid JSON number");const r=1023;let a,c,f,y,w;0===n?(c=0,f=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(y=Math.min(Math.floor(Math.log(n)/Math.LN2),r),c=y+r,f=Math.round(n*Math.pow(2,52-y)-Math.pow(2,52))):(c=0,f=Math.round(n/Math.pow(2,-1074))));const I=[];for(w=52;w;w-=1)I.push(f%2?1:0),f=Math.floor(f/2);for(w=11;w;w-=1)I.push(c%2?1:0),c=Math.floor(c/2);I.push(a?1:0),I.reverse();const N=I.join("");let P="";for(w=0;w<64;w+=8){let G=parseInt(N.substr(w,8),2).toString(16);1===G.length&&(G="0"+G),P+=G}return P.toLowerCase()},WD=new RegExp("^-?(0*)\\d{1,10}$"),IE=function(n){if(WD.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},ec=function(n){try{n()}catch(t){setTimeout(()=>{throw si("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Od=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class S_{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){si(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class qD{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Rr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',si(t)}}let Pn=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const ME=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,KD="websocket",YD="long_polling";class tc{constructor(t,e,r,a,c=!1,f="",y=!1,w=!1){this.secure=e,this.namespace=r,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=y,this.isUsingEmulator=w,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yu.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Yu.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function xd(n,t,e){let r;if((0,L.hu)("string"==typeof t,"typeof type must == string"),(0,L.hu)("object"==typeof e,"typeof params must == object"),t===KD)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==YD)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function rn(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return mr(e,(c,f)=>{a.push(c+"="+f)}),r+a.join("&")}class PE{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,L.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,L.p$)(this.counters_)}}const rg={},ig={};function Af(n){const t=n.toString();return rg[t]||(rg[t]=new PE),rg[t]}class OE{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<r.length;++a)r[a]&&ec(()=>{this.onMessage_(r[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ho{constructor(t,e,r,a,c,f,y){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=a,this.authToken=c,this.transportSessionId=f,this.lastSessionId=y,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pd(t),this.stats_=Af(e),this.urlFn=w=>(this.appCheckToken&&(w.ac=this.appCheckToken),xd(e,YD,w))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new OE(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,L.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new F_((...c)=>{const[f,y,w,I,N]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===f)this.id=y,this.password=w;else{if("close"!==f)throw new Error("Unrecognized command received: "+f);y?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(y,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[f,y]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,y)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&ME.test(location.hostname)&&(r.r="f");const a=this.urlFn(r);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ho.forceAllow_=!0}static forceDisallow(){Ho.forceDisallow_=!0}static isAvailable(){return!((0,L.Yr)()||!Ho.forceAllow_&&(Ho.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,L.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,L.h$)(e),a=GD(r,1840);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,L.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,L.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class F_{constructor(t,e,r,a){if(this.onDisconnect=r,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,L.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Qu(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=F_.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(y){Rr("frame writing exception"),y.stack&&Rr(y.stack),Rr(y)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Rr("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const f=this.pendingSegs.shift();r=r+"&seg"+a+"="+f.seg+"&ts"+a+"="+f.ts+"&d"+a+"="+f.d,a++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),r()})}addTag(t,e){(0,L.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const a=r.readyState;(!a||"loaded"===a||"complete"===a)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{Rr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let xa=null;typeof MozWebSocket<"u"?xa=MozWebSocket:typeof WebSocket<"u"&&(xa=WebSocket);let kd=(()=>{class n{constructor(e,r,a,c,f,y,w){this.connId=e,this.applicationId=a,this.appCheckToken=c,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pd(this.connId),this.stats_=Af(r),this.connURL=n.connectionURL_(r,y,w,c,a),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,a,c,f){const y={v:"5"};return!(0,L.Yr)()&&typeof location<"u"&&location.hostname&&ME.test(location.hostname)&&(y.r="f"),r&&(y.s=r),a&&(y.ls=a),c&&(y.ac=c),f&&(y.p=f),xd(e,KD,y)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yu.set("previous_websocket_failure",!0);try{let a;if((0,L.Yr)()){a={headers:{"User-Agent":`Firebase/5/${Jp}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const f=process.env,y=0===this.connURL.indexOf("wss://")?f.HTTPS_PROXY||f.https_proxy:f.HTTP_PROXY||f.http_proxy;y&&(a.proxy={origin:y})}this.mySock=new xa(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const c=a.message||a.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==xa&&!n.forceDisallow_}static previouslyFailed(){return Yu.isInMemoryStorage||!0===Yu.get("previous_websocket_failure")}markConnectionHealthy(){Yu.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const a=(0,L.cI)(r);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,L.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const a=this.extractFrameCount_(r);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const r=(0,L.Wl)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const a=GD(r,16384);a.length>1&&this.sendString_(String(a.length));for(let c=0;c<a.length;c++)this.sendString_(a[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),VE=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ho,kd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=kd&&kd.isAvailable();let a=r&&!kd.previouslyFailed();if(e.webSocketOnly&&(r||si("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[kd];else{const c=this.transports_=[];for(const f of n.ALL_TRANSPORTS)f&&f.isAvailable()&&c.push(f);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class dg{constructor(t,e,r,a,c,f,y,w,I,N){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=f,this.onReady_=y,this.onDisconnect_=w,this.onKill_=I,this.lastSessionId=N,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pd("c:"+this.id+":"),this.transportManager_=new VE(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Od(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Xp("t",t),r=Xp("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Xp("t",t),r=Xp("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Xp("t",t);if("d"in t){const r=t.d;if("h"===e){const a=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?I_("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I_("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&si("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),Od(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Od(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class hg{put(t,e,r,a){}merge(t,e,r,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class Fd{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,L.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let a=0;a<r.length;a++)r[a].callback.apply(r[a].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const a=this.getInitialEvent(t);a&&e.apply(r,a)}off(t,e,r){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===e&&(!r||r===a[c].context))return void a.splice(c,1)}validateEventType_(t){(0,L.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Ld extends Fd{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,L.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ld}getInitialEvent(t){return(0,L.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Xt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[r]=this.pieces_[a],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Kt(){return new Xt("")}function Ht(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function jo(n){return n.pieces_.length-n.pieceNum_}function un(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Xt(n.pieces_,t)}function jE(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function ic(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function U_(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Xt(t,0)}function Vn(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof Xt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let a=0;a<r.length;a++)r[a].length>0&&e.push(r[a])}return new Xt(e,0)}function zt(n){return n.pieceNum_>=n.pieces_.length}function oi(n,t){const e=Ht(n),r=Ht(t);if(null===e)return t;if(e===r)return oi(un(n),un(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function $E(n,t){const e=ic(n,0),r=ic(t,0);for(let a=0;a<e.length&&a<r.length;a++){const c=Ul(e[a],r[a]);if(0!==c)return c}return e.length===r.length?0:e.length<r.length?-1:1}function B_(n,t){if(jo(n)!==jo(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function Rs(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(jo(n)>jo(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class tA{constructor(t,e){this.errorPrefix_=e,this.parts_=ic(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,L.ug)(this.parts_[r]);pg(this)}}function pg(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+sc(n))}function sc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class gg extends Fd{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new gg}getInitialEvent(t){return(0,L.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const oc=1e3;let ka,ac=(()=>{class n extends hg{constructor(e,r,a,c,f,y,w,I){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=a,this.onConnectStatus_=c,this.onServerInfoUpdate_=f,this.authTokenProvider_=y,this.appCheckTokenProvider_=w,this.authOverride_=I,this.id=n.nextPersistentConnectionId_++,this.log_=Pd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=oc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,I&&!(0,L.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");gg.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Ld.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,a){const c=++this.requestNumber_,f={r:c,a:e,b:r};this.log_((0,L.Wl)(f)),(0,L.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),a&&(this.requestCBHash_[c]=a)}get(e){this.initConnection_();const r=new L.BH,c={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:y=>{const w=y.d;"ok"===y.s?r.resolve(w):r.reject(w)}};return this.outstandingGets_.push(c),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(e,r,a,c){this.initConnection_();const f=e._queryIdentifier,y=e._path.toString();this.log_("Listen called for "+y+" "+f),this.listens.has(y)||this.listens.set(y,new Map),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,L.hu)(!this.listens.get(y).has(f),"listen() called twice for same path/queryId.");const w={onComplete:c,hashFn:r,query:e,tag:a};this.listens.get(y).set(f,w),this.connected_&&this.sendListen_(w)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(a)})}sendListen_(e){const r=e.query,a=r._path.toString(),c=r._queryIdentifier;this.log_("Listen on "+a+" for "+c);const f={p:a};e.tag&&(f.q=r._queryObject,f.t=e.tag),f.h=e.hashFn(),this.sendRequest("q",f,w=>{const I=w.d,N=w.s;n.warnOnListenWarnings_(I,r),(this.listens.get(a)&&this.listens.get(a).get(c))===e&&(this.log_("listen response",w),"ok"!==N&&this.removeListen_(a,c),e.onComplete&&e.onComplete(N,I))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,L.r3)(e,"w")){const a=(0,L.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const c='".indexOn": "'+r._queryParams.getIndex().toString()+'"',f=r._path.toString();si(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,L.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,L.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(r,a,c=>{const f=c.s,y=c.d||"error";this.authToken_===e&&("ok"===f?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,y))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,a=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,a)})}unlisten(e,r){const a=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,e._queryObject,r)}sendUnlisten_(e,r,a,c){this.log_("Unlisten on "+e+" for "+r);const f={p:e};c&&(f.q=a,f.t=c),this.sendRequest("n",f)}onDisconnectPut(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:a})}onDisconnectMerge(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:a})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,a,c){const f={p:r,d:a};this.log_("onDisconnect "+e,f),this.sendRequest(e,f,y=>{c&&setTimeout(()=>{c(y.s,y.d)},Math.floor(0))})}put(e,r,a,c){this.putInternal("p",e,r,a,c)}merge(e,r,a,c){this.putInternal("m",e,r,a,c)}putInternal(e,r,a,c,f){this.initConnection_();const y={p:r,d:a};void 0!==f&&(y.h=f),this.outstandingPuts_.push({action:e,request:y,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,a,f=>{this.log_(r+" response",f),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(f.s,f.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,L.Wl)(e));const r=e.r,a=this.requestCBHash_[r];a&&(delete this.requestCBHash_[r],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):I_("Unrecognized action received from server: "+(0,L.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,L.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=oc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=oc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=oc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ll.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),f=e.id+":"+n.nextConnectionId_++,y=e.lastSessionId;let w=!1,I=null;const N=function(){I?I.close():(w=!0,c())};e.realtime_={close:N,sendRequest:function(se){(0,L.hu)(I,"sendRequest call when we're not connected not allowed."),I.sendRequest(se)}};const G=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[se,le]=yield Promise.all([e.authTokenProvider_.getToken(G),e.appCheckTokenProvider_.getToken(G)]);w?Rr("getToken() completed but was canceled"):(Rr("getToken() completed. Creating connection."),e.authToken_=se&&se.accessToken,e.appCheckToken_=le&&le.token,I=new dg(f,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,a,c,me=>{si(me+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},y))}catch(se){e.log_("Failed to get token: "+se),w||(e.repoInfo_.nodeAdmin&&si(se),N())}}})()}interrupt(e){Rr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Rr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,L.xb)(this.interruptReasons_)&&(this.reconnectDelay_=oc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let a;a=r?r.map(f=>TE(f)).join("$"):"default";const c=this.removeListen_(e,a);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,r){const a=new Xt(e).toString();let c;if(this.listens.has(a)){const f=this.listens.get(a);c=f.get(r),f.delete(r),0===f.size&&this.listens.delete(a)}else c=void 0;return c}onAuthRevoked_(e,r){Rr("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Rr("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,L.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+Jp.replace(/\./g,"-")]=1,(0,L.uI)()?e["framework.cordova"]=1:(0,L.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ld.getInstance().currentlyOnline();return(0,L.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class kt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new kt(t,e)}}class _g{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new kt(Ms,t),a=new kt(Ms,e);return 0!==this.compare(r,a)}minPost(){return kt.MIN}}class Ud extends _g{static get __EMPTY_NODE(){return ka}static set __EMPTY_NODE(t){ka=t}compare(t,e){return Ul(t.name,e.name)}isDefinedOn(t){throw(0,L.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return kt.MIN}maxPost(){return new kt(Bo,ka)}makePost(t,e){return(0,L.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new kt(t,ka)}toString(){return".key"}}const $o=new Ud;class Rf{constructor(t,e,r,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(f=e?r(t.key,e):1,a&&(f*=-1),f<0)t=this.isReverse_?t.left:t.right;else{if(0===f){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Nf,Ks=(()=>{class n{constructor(e,r,a,c,f){this.key=e,this.value=r,this.color=a??n.RED,this.left=c??Hi.EMPTY_NODE,this.right=f??Hi.EMPTY_NODE}copy(e,r,a,c,f){return new n(e??this.key,r??this.value,a??this.color,c??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let c=this;const f=a(e,c.key);return c=f<0?c.copy(null,null,null,c.left.insert(e,r,a),null):0===f?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,a)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return Hi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let a,c;if(a=this,r(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===r(e,a.key)){if(a.right.isEmpty())return Hi.EMPTY_NODE;c=a.right.min_(),a=a.copy(c.key,c.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Hi{constructor(t,e=Hi.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Hi(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Ks.BLACK,null,null))}remove(t){return new Hi(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ks.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,a=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return a?a.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(a=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Rf(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Rf(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Rf(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Rf(this.root_,null,this.comparator_,!0,t)}}function ZE(n,t){return Ul(n.name,t.name)}function yg(n,t){return Ul(n,t)}Hi.EMPTY_NODE=new class uT{copy(t,e,r,a,c){return this}insert(t,e,r){return new Ks(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const j_=function(n){return"number"==typeof n?"number:"+eg(n):"string:"+n},cT=function(n){if(n.isLeafNode()){const t=n.val();(0,L.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,L.r3)(t,".sv"),"Priority must be a string or number.")}else(0,L.hu)(n===Nf||n.isEmpty(),"priority of unexpected type.");(0,L.hu)(n===Nf||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let vg,Of,$_,Ys=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,L.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),cT(this.priorityNode_)}static set __childrenNodeConstructor(e){vg=e}static get __childrenNodeConstructor(){return vg}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return zt(e)?this:".priority"===Ht(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const a=Ht(e);return null===a?r:r.isEmpty()&&".priority"!==a?this:((0,L.hu)(".priority"!==a||1===jo(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(un(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+j_(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?eg(this.value_):this.value_,this.lazyHash_=EE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,L.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,a=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(r),f=n.VALUE_TYPE_ORDER.indexOf(a);return(0,L.hu)(c>=0,"Unknown leaf type: "+r),(0,L.hu)(f>=0,"Unknown leaf type: "+a),c===f?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:f-c}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const wn=new class hT extends _g{compare(t,e){const r=t.node.getPriority(),a=e.node.getPriority(),c=r.compareTo(a);return 0===c?Ul(t.name,e.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return kt.MIN}maxPost(){return new kt(Bo,new Ys("[PRIORITY-POST]",$_))}makePost(t,e){const r=Of(t);return new kt(e,new Ys("[PRIORITY-POST]",r))}toString(){return".priority"}},fT=Math.log(2);class pT{constructor(t){this.count=parseInt(Math.log(t+1)/fT,10),this.current_=this.count-1;const a=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Eg=function(n,t,e,r){n.sort(t);const a=function(w,I){const N=I-w;let P,G;if(0===N)return null;if(1===N)return P=n[w],G=e?e(P):P,new Ks(G,P.node,Ks.BLACK,null,null);{const se=parseInt(N/2,10)+w,le=a(w,se),me=a(se+1,I);return P=n[se],G=e?e(P):P,new Ks(G,P.node,Ks.BLACK,le,me)}},y=function(w){let I=null,N=null,P=n.length;const G=function(le,me){const He=P-le,vt=P;P-=le;const Nt=a(He+1,vt),bt=n[He],Dt=e?e(bt):bt;se(new Ks(Dt,bt.node,me,null,Nt))},se=function(le){I?(I.left=le,I=le):(N=le,I=le)};for(let le=0;le<w.count;++le){const me=w.nextBitIsOne(),He=Math.pow(2,w.count-(le+1));me?G(He,Ks.BLACK):(G(He,Ks.BLACK),G(He,Ks.RED))}return N}(new pT(n.length));return new Hi(r||t,y)};let Cg;const Qs={};class Gr{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,L.hu)(Qs&&wn,"ChildrenNode.ts has not been loaded"),Cg=Cg||new Gr({".priority":Qs},{".priority":wn}),Cg}get(t){const e=(0,L.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Hi?e:null}hasIndex(t){return(0,L.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,L.hu)(t!==$o,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let a=!1;const c=e.getIterator(kt.Wrap);let y,f=c.getNext();for(;f;)a=a||t.isDefinedOn(f.node),r.push(f),f=c.getNext();y=a?Eg(r,t.getCompare()):Qs;const w=t.toString(),I=Object.assign({},this.indexSet_);I[w]=t;const N=Object.assign({},this.indexes_);return N[w]=y,new Gr(N,I)}addToIndexes(t,e){const r=(0,L.UI)(this.indexes_,(a,c)=>{const f=(0,L.DV)(this.indexSet_,c);if((0,L.hu)(f,"Missing index implementation for "+c),a===Qs){if(f.isDefinedOn(t.node)){const y=[],w=e.getIterator(kt.Wrap);let I=w.getNext();for(;I;)I.name!==t.name&&y.push(I),I=w.getNext();return y.push(t),Eg(y,f.getCompare())}return Qs}{const y=e.get(t.name);let w=a;return y&&(w=w.remove(new kt(t.name,y))),w.insert(t,t.node)}});return new Gr(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,L.UI)(this.indexes_,a=>{if(a===Qs)return a;{const c=e.get(t.name);return c?a.remove(new kt(t.name,c)):a}});return new Gr(r,this.indexSet_)}}let Bd,Ft=(()=>{class n{constructor(e,r,a){this.children_=e,this.priorityNode_=r,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&cT(this.priorityNode_),this.children_.isEmpty()&&(0,L.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Bd||(Bd=new n(new Hi(yg),null,Gr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bd}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?Bd:r}}getChild(e){const r=Ht(e);return null===r?this:this.getImmediateChild(r).getChild(un(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,L.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const a=new kt(e,r);let c,f;r.isEmpty()?(c=this.children_.remove(e),f=this.indexMap_.removeFromIndexes(a,this.children_)):(c=this.children_.insert(e,r),f=this.indexMap_.addToIndexes(a,this.children_));const y=c.isEmpty()?Bd:this.priorityNode_;return new n(c,y,f)}}updateChild(e,r){const a=Ht(e);if(null===a)return r;{(0,L.hu)(".priority"!==Ht(e)||1===jo(e),".priority must be the last token in a path");const c=this.getImmediateChild(a).updateChild(un(e),r);return this.updateImmediateChild(a,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let a=0,c=0,f=!0;if(this.forEachChild(wn,(y,w)=>{r[y]=w.val(e),a++,f&&n.INTEGER_REGEXP_.test(y)?c=Math.max(c,Number(y)):f=!1}),!e&&f&&c<2*a){const y=[];for(const w in r)y[w]=r[w];return y}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+j_(this.getPriority().val())+":"),this.forEachChild(wn,(r,a)=>{const c=a.hash();""!==c&&(e+=":"+r+":"+c)}),this.lazyHash_=""===e?"":EE(e)}return this.lazyHash_}getPredecessorChildName(e,r,a){const c=this.resolveIndex_(a);if(c){const f=c.getPredecessorKey(new kt(e,r));return f?f.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new kt(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new kt(r,this.children_.get(r)):null}forEachChild(e,r){const a=this.resolveIndex_(e);return a?a.inorderTraversal(c=>r(c.name,c.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,kt.Wrap);let f=c.peek();for(;null!=f&&r.compare(f,e)<0;)c.getNext(),f=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,kt.Wrap);let f=c.peek();for(;null!=f&&r.compare(f,e)>0;)c.getNext(),f=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===wg?-1:0}withIndex(e){if(e===$o||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===$o||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const a=this.getIterator(wn),c=r.getIterator(wn);let f=a.getNext(),y=c.getNext();for(;f&&y;){if(f.name!==y.name||!f.node.equals(y.node))return!1;f=a.getNext(),y=c.getNext()}return null===f&&null===y}return!1}return!1}}resolveIndex_(e){return e===$o?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const wg=new class gT extends Ft{constructor(){super(new Hi(yg),Ft.EMPTY_NODE,Gr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Ft.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(kt,{MIN:{value:new kt(Ms,Ft.EMPTY_NODE)},MAX:{value:new kt(Bo,wg)}}),Ud.__EMPTY_NODE=Ft.EMPTY_NODE,Ys.__childrenNodeConstructor=Ft,function Pf(n){Nf=n}(wg),function dT(n){$_=n}(wg);const nA=!0;function Un(n,t=null){if(null===n)return Ft.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,L.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Ys(n,Un(t));if(n instanceof Array||!nA){let e=Ft.EMPTY_NODE;return mr(n,(r,a)=>{if((0,L.r3)(n,r)&&"."!==r.substring(0,1)){const c=Un(a);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(r,c))}}),e.updatePriority(Un(t))}{const e=[];let r=!1;if(mr(n,(f,y)=>{if("."!==f.substring(0,1)){const w=Un(y);w.isEmpty()||(r=r||!w.getPriority().isEmpty(),e.push(new kt(f,w)))}}),0===e.length)return Ft.EMPTY_NODE;const c=Eg(e,ZE,f=>f.name,yg);if(r){const f=Eg(e,wn.getCompare());return new Ft(c,Un(t),new Gr({".priority":f},{".priority":wn}))}return new Ft(c,Un(t),Gr.Default)}}!function qE(n){Of=n}(Un);class Dg extends _g{constructor(t){super(),this.indexPath_=t,(0,L.hu)(!zt(t)&&".priority"!==Ht(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),a=this.extractChild(e.node),c=r.compareTo(a);return 0===c?Ul(t.name,e.name):c}makePost(t,e){const r=Un(t),a=Ft.EMPTY_NODE.updateChild(this.indexPath_,r);return new kt(e,a)}maxPost(){const t=Ft.EMPTY_NODE.updateChild(this.indexPath_,wg);return new kt(Bo,t)}toString(){return ic(this.indexPath_,0).join("/")}}const Tg=new class rA extends _g{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?Ul(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return kt.MIN}maxPost(){return kt.MAX}makePost(t,e){const r=Un(t);return new kt(e,r)}toString(){return".value"}};function xf(n){return{type:"value",snapshotNode:n}}function lc(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Hd(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function jd(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class bg{constructor(t){this.index_=t}updateChild(t,e,r,a,c,f){(0,L.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const y=t.getImmediateChild(e);return y.getChild(a).equals(r.getChild(a))&&y.isEmpty()===r.isEmpty()||(null!=f&&(r.isEmpty()?t.hasChild(e)?f.trackChildChange(Hd(e,y)):(0,L.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):y.isEmpty()?f.trackChildChange(lc(e,r)):f.trackChildChange(jd(e,r,y))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(wn,(a,c)=>{e.hasChild(a)||r.trackChildChange(Hd(a,c))}),e.isLeafNode()||e.forEachChild(wn,(a,c)=>{if(t.hasChild(a)){const f=t.getImmediateChild(a);f.equals(c)||r.trackChildChange(jd(a,c,f))}else r.trackChildChange(lc(a,c))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Ft.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class $d{constructor(t){this.indexedFilter_=new bg(t.getIndex()),this.index_=t.getIndex(),this.startPost_=$d.getStartPost_(t),this.endPost_=$d.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&r}updateChild(t,e,r,a,c,f){return this.matches(new kt(e,r))||(r=Ft.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,a,c,f)}updateFullNode(t,e,r){e.isLeafNode()&&(e=Ft.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(Ft.EMPTY_NODE);const c=this;return e.forEachChild(wn,(f,y)=>{c.matches(new kt(f,y))||(a=a.updateImmediateChild(f,Ft.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class iA{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=e=>{const r=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new $d(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,r,a,c,f){return this.rangedFilter_.matches(new kt(e,r))||(r=Ft.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,a,c,f):this.fullLimitUpdateChild_(t,e,r,c,f)}updateFullNode(t,e,r){let a;if(e.isLeafNode()||e.isEmpty())a=Ft.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;a=Ft.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;c.hasNext()&&f<this.limit_;){const y=c.getNext();if(this.withinDirectionalStart(y)){if(!this.withinDirectionalEnd(y))break;a=a.updateImmediateChild(y.name,y.node),f++}}}else{let c;a=e.withIndex(this.index_),a=a.updatePriority(Ft.EMPTY_NODE),c=this.reverse_?a.getReverseIterator(this.index_):a.getIterator(this.index_);let f=0;for(;c.hasNext();){const y=c.getNext();f<this.limit_&&this.withinDirectionalStart(y)&&this.withinDirectionalEnd(y)?f++:a=a.updateImmediateChild(y.name,Ft.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,a,c){let f;if(this.reverse_){const P=this.index_.getCompare();f=(G,se)=>P(se,G)}else f=this.index_.getCompare();const y=t;(0,L.hu)(y.numChildren()===this.limit_,"");const w=new kt(e,r),I=this.reverse_?y.getFirstChild(this.index_):y.getLastChild(this.index_),N=this.rangedFilter_.matches(w);if(y.hasChild(e)){const P=y.getImmediateChild(e);let G=a.getChildAfterChild(this.index_,I,this.reverse_);for(;null!=G&&(G.name===e||y.hasChild(G.name));)G=a.getChildAfterChild(this.index_,G,this.reverse_);const se=null==G?1:f(G,w);if(N&&!r.isEmpty()&&se>=0)return c?.trackChildChange(jd(e,r,P)),y.updateImmediateChild(e,r);{c?.trackChildChange(Hd(e,P));const me=y.updateImmediateChild(e,Ft.EMPTY_NODE);return null!=G&&this.rangedFilter_.matches(G)?(c?.trackChildChange(lc(G.name,G.node)),me.updateImmediateChild(G.name,G.node)):me}}return r.isEmpty()?t:N&&f(I,w)>=0?(null!=c&&(c.trackChildChange(Hd(I.name,I.node)),c.trackChildChange(lc(e,r))),y.updateImmediateChild(e,r).updateImmediateChild(I.name,Ft.EMPTY_NODE)):t}}class Ig{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=wn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ms}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Bo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,L.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===wn}copy(){const t=new Ig;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Sg(n,t,e){const r=n.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ag(n,t,e){const r=n.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function Mg(n,t){const e=n.copy();return e.index_=t,e}function ET(n){const t={};if(n.isDefault())return t;let e;if(n.index_===wn?e="$priority":n.index_===Tg?e="$value":n.index_===$o?e="$key":((0,L.hu)(n.index_ instanceof Dg,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,L.Wl)(e),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";t[r]=(0,L.Wl)(n.indexStartValue_),n.startNameSet_&&(t[r]+=","+(0,L.Wl)(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";t[r]=(0,L.Wl)(n.indexEndValue_),n.endNameSet_&&(t[r]+=","+(0,L.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function G_(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==wn&&(t.i=n.index_.toString()),t}class kf extends hg{constructor(t,e,r,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=a,this.log_=Pd("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,L.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const f=kf.getListenId_(t,r),y={};this.listens_[f]=y;const w=ET(t._queryParams);this.restRequest_(c+".json",w,(I,N)=>{let P=N;if(404===I&&(P=null,I=null),null===I&&this.onDataUpdate_(c,P,!1,r),(0,L.DV)(this.listens_,f)===y){let G;G=I?401===I?"permission_denied":"rest_error:"+I:"ok",a(G,null)}})}unlisten(t,e){const r=kf.getListenId_(t,e);delete this.listens_[r]}get(t){const e=ET(t._queryParams),r=t._path.toString(),a=new L.BH;return this.restRequest_(r+".json",e,(c,f)=>{let y=f;404===c&&(y=null,c=null),null===c?(this.onDataUpdate_(r,y,!1,null),a.resolve(y)):a.reject(new Error(y))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(e.auth=a.accessToken),c&&c.token&&(e.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,L.xO)(e);this.log_("Sending REST request for "+f);const y=new XMLHttpRequest;y.onreadystatechange=()=>{if(r&&4===y.readyState){this.log_("REST Response for "+f+" received. status:",y.status,"response:",y.responseText);let w=null;if(y.status>=200&&y.status<300){try{w=(0,L.cI)(y.responseText)}catch{si("Failed to parse JSON response for "+f+": "+y.responseText)}r(null,w)}else 401!==y.status&&404!==y.status&&si("Got unsuccessful REST response for "+f+" Status: "+y.status),r(y.status);r=null}},y.open("GET",f,!0),y.send()})}}class Bl{constructor(){this.rootNode_=Ft.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Fa(){return{value:null,children:new Map}}function uc(n,t,e){if(zt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=Ht(t);n.children.has(r)||n.children.set(r,Fa()),uc(n.children.get(r),t=un(t),e)}}function W_(n,t){if(zt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(wn,(r,a)=>{uc(n,new Xt(r),a)}),W_(n,t)}}if(n.children.size>0){const e=Ht(t);return t=un(t),n.children.has(e)&&W_(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Gd(n,t,e){null!==n.value?e(t,n.value):function Wd(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,a)=>{Gd(a,new Xt(t.toString()+"/"+r),e)})}class z_{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&mr(this.last_,(r,a)=>{e[r]=e[r]-a}),this.last_=t,e}}class q_{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new z_(t);const r=1e4+2e4*Math.random();Od(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;mr(t,(a,c)=>{c>0&&(0,L.r3)(this.statsToReport_,a)&&(e[a]=c,r=!0)}),r&&this.server_.reportStats(e),Od(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Qn=(()=>((Qn=Qn||{})[Qn.OVERWRITE=0]="OVERWRITE",Qn[Qn.MERGE=1]="MERGE",Qn[Qn.ACK_USER_WRITE=2]="ACK_USER_WRITE",Qn[Qn.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Qn))();function K_(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Ng{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=Qn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(zt(this.path)){if(null!=this.affectedTree.value)return(0,L.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Xt(t));return new Ng(Kt(),e,this.revert)}}return(0,L.hu)(Ht(this.path)===t,"operationForChild called for unrelated child."),new Ng(un(this.path),this.affectedTree,this.revert)}}class Lf{constructor(t,e){this.source=t,this.path=e,this.type=Qn.LISTEN_COMPLETE}operationForChild(t){return zt(this.path)?new Lf(this.source,Kt()):new Lf(this.source,un(this.path))}}class Hl{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=Qn.OVERWRITE}operationForChild(t){return zt(this.path)?new Hl(this.source,Kt(),this.snap.getImmediateChild(t)):new Hl(this.source,un(this.path),this.snap)}}class Zd{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=Qn.MERGE}operationForChild(t){if(zt(this.path)){const e=this.children.subtree(new Xt(t));return e.isEmpty()?null:e.value?new Hl(this.source,Kt(),e.value):new Zd(this.source,Kt(),e)}return(0,L.hu)(Ht(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Zd(this.source,un(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class jl{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(zt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Ht(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class CT{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function qd(n,t,e,r,a,c){const f=r.filter(y=>y.type===e);f.sort((y,w)=>function DT(n,t,e){if(null==t.childName||null==e.childName)throw(0,L.g5)("Should only compare child_ events.");const r=new kt(t.childName,t.snapshotNode),a=new kt(e.childName,e.snapshotNode);return n.index_.compare(r,a)}(n,y,w)),f.forEach(y=>{const w=function QE(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,y,c);a.forEach(I=>{I.respondsTo(y.type)&&t.push(I.createEvent(w,n.query_))})})}function Pg(n,t){return{eventCache:n,serverCache:t}}function Wr(n,t,e,r){return Pg(new jl(t,e,r),n.serverCache)}function JE(n,t,e,r){return Pg(n.eventCache,new jl(t,e,r))}function Og(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Kd(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Vf;class Dn{constructor(t,e=(()=>(Vf||(Vf=new Hi(DE)),Vf))()){this.value=t,this.children=e}static fromObject(t){let e=new Dn(null);return mr(t,(r,a)=>{e=e.set(new Xt(r),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Kt(),value:this.value};if(zt(t))return null;{const r=Ht(t),a=this.children.get(r);if(null!==a){const c=a.findRootMostMatchingPathAndValue(un(t),e);return null!=c?{path:Vn(new Xt(r),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(zt(t))return this;{const e=Ht(t),r=this.children.get(e);return null!==r?r.subtree(un(t)):new Dn(null)}}set(t,e){if(zt(t))return new Dn(e,this.children);{const r=Ht(t),c=(this.children.get(r)||new Dn(null)).set(un(t),e),f=this.children.insert(r,c);return new Dn(this.value,f)}}remove(t){if(zt(t))return this.children.isEmpty()?new Dn(null):new Dn(null,this.children);{const e=Ht(t),r=this.children.get(e);if(r){const a=r.remove(un(t));let c;return c=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&c.isEmpty()?new Dn(null):new Dn(this.value,c)}return this}}get(t){if(zt(t))return this.value;{const e=Ht(t),r=this.children.get(e);return r?r.get(un(t)):null}}setTree(t,e){if(zt(t))return e;{const r=Ht(t),c=(this.children.get(r)||new Dn(null)).setTree(un(t),e);let f;return f=c.isEmpty()?this.children.remove(r):this.children.insert(r,c),new Dn(this.value,f)}}fold(t){return this.fold_(Kt(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((a,c)=>{r[a]=c.fold_(Vn(t,a),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,Kt(),e)}findOnPath_(t,e,r){const a=!!this.value&&r(e,this.value);if(a)return a;if(zt(t))return null;{const c=Ht(t),f=this.children.get(c);return f?f.findOnPath_(un(t),Vn(e,c),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Kt(),e)}foreachOnPath_(t,e,r){if(zt(t))return this;{this.value&&r(e,this.value);const a=Ht(t),c=this.children.get(a);return c?c.foreachOnPath_(un(t),Vn(e,a),r):new Dn(null)}}foreach(t){this.foreach_(Kt(),t)}foreach_(t,e){this.children.inorderTraversal((r,a)=>{a.foreach_(Vn(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class Js{constructor(t){this.writeTree_=t}static empty(){return new Js(new Dn(null))}}function Uf(n,t,e){if(zt(t))return new Js(new Dn(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const a=r.path;let c=r.value;const f=oi(a,t);return c=c.updateChild(f,e),new Js(n.writeTree_.set(a,c))}{const a=new Dn(e),c=n.writeTree_.setTree(t,a);return new Js(c)}}}function xg(n,t,e){let r=n;return mr(e,(a,c)=>{r=Uf(r,Vn(t,a),c)}),r}function eC(n,t){if(zt(t))return Js.empty();{const e=n.writeTree_.setTree(t,new Dn(null));return new Js(e)}}function Y_(n,t){return null!=La(n,t)}function La(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(oi(e.path,t)):null}function tC(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(wn,(r,a)=>{t.push(new kt(r,a))}):n.writeTree_.children.inorderTraversal((r,a)=>{null!=a.value&&t.push(new kt(r,a.value))}),t}function $l(n,t){if(zt(t))return n;{const e=La(n,t);return new Js(null!=e?new Dn(e):n.writeTree_.subtree(t))}}function Q_(n){return n.writeTree_.isEmpty()}function Yd(n,t){return nC(Kt(),n.writeTree_,t)}function nC(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((a,c)=>{".priority"===a?((0,L.hu)(null!==c.value,"Priority writes must always be leaf nodes"),r=c.value):e=nC(Vn(n,a),c,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(Vn(n,".priority"),r)),e}}function rs(n,t){return ny(t,n)}function iC(n,t){if(n.snap)return Rs(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Rs(Vn(n.path,e),t))return!0;return!1}function kg(n){return n.visible}function Fg(n,t,e){let r=Js.empty();for(let a=0;a<n.length;++a){const c=n[a];if(t(c)){const f=c.path;let y;if(c.snap)Rs(e,f)?(y=oi(e,f),r=Uf(r,y,c.snap)):Rs(f,e)&&(y=oi(f,e),r=Uf(r,Kt(),c.snap.getChild(y)));else{if(!c.children)throw(0,L.g5)("WriteRecord should have .snap or .children");if(Rs(e,f))y=oi(e,f),r=xg(r,y,c.children);else if(Rs(f,e))if(y=oi(f,e),zt(y))r=xg(r,Kt(),c.children);else{const w=(0,L.DV)(c.children,Ht(y));if(w){const I=w.getChild(un(y));r=Uf(r,Kt(),I)}}}}}return r}function IT(n,t,e,r,a){if(r||a){const c=$l(n.visibleWrites,t);return!a&&Q_(c)?e:a||null!=e||Y_(c,Kt())?Yd(Fg(n.allWrites,function(I){return(I.visible||a)&&(!r||!~r.indexOf(I.writeId))&&(Rs(I.path,t)||Rs(t,I.path))},t),e||Ft.EMPTY_NODE):null}{const c=La(n.visibleWrites,t);if(null!=c)return c;{const f=$l(n.visibleWrites,t);return Q_(f)?e:null!=e||Y_(f,Kt())?Yd(f,e||Ft.EMPTY_NODE):null}}}function Lg(n,t,e,r){return IT(n.writeTree,n.treePath,t,e,r)}function ey(n,t){return function oC(n,t,e){let r=Ft.EMPTY_NODE;const a=La(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(wn,(c,f)=>{r=r.updateImmediateChild(c,f)}),r;if(e){const c=$l(n.visibleWrites,t);return e.forEachChild(wn,(f,y)=>{const w=Yd($l(c,new Xt(f)),y);r=r.updateImmediateChild(f,w)}),tC(c).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}return tC($l(n.visibleWrites,t)).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}(n.writeTree,n.treePath,t)}function Vg(n,t,e,r){return function aC(n,t,e,r,a){(0,L.hu)(r||a,"Either existingEventSnap or existingServerSnap must exist");const c=Vn(t,e);if(Y_(n.visibleWrites,c))return null;{const f=$l(n.visibleWrites,c);return Q_(f)?a.getChild(e):Yd(f,a.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function Ug(n,t){return function uC(n,t){return La(n.visibleWrites,t)}(n.writeTree,Vn(n.treePath,t))}function ty(n,t,e){return function lC(n,t,e,r){const a=Vn(t,e),c=La(n.visibleWrites,a);return null!=c?c:r.isCompleteForChild(e)?Yd($l(n.visibleWrites,a),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function AT(n,t){return ny(Vn(n.treePath,t),n.writeTree)}function ny(n,t){return{treePath:n,writeTree:t}}class MT{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,L.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,L.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(r);if(a){const c=a.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(r,jd(r,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(r,Hd(r,a.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(r,lc(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,L.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(r,jd(r,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const Qd=new class Bg{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class Jd{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new jl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ty(this.writes_,t,r)}}getChildAfterChild(t,e,r){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Kd(this.viewCache_),c=function ST(n,t,e,r,a,c){return function X_(n,t,e,r,a,c,f){let y;const w=$l(n.visibleWrites,t),I=La(w,Kt());if(null!=I)y=I;else{if(null==e)return[];y=Yd(w,e)}if(y=y.withIndex(f),y.isEmpty()||y.isLeafNode())return[];{const N=[],P=f.getCompare(),G=c?y.getReverseIteratorFrom(r,f):y.getIteratorFrom(r,f);let se=G.getNext();for(;se&&N.length<a;)0!==P(se,r)&&N.push(se),se=G.getNext();return N}}(n.writeTree,n.treePath,t,e,r,a,c)}(this.writes_,a,e,1,r,t);return 0===c.length?null:c[0]}}function cC(n,t,e,r,a,c){const f=t.eventCache;if(null!=Ug(r,e))return t;{let y,w;if(zt(e))if((0,L.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const I=Kd(t),P=ey(r,I instanceof Ft?I:Ft.EMPTY_NODE);y=n.filter.updateFullNode(t.eventCache.getNode(),P,c)}else{const I=Lg(r,Kd(t));y=n.filter.updateFullNode(t.eventCache.getNode(),I,c)}else{const I=Ht(e);if(".priority"===I){(0,L.hu)(1===jo(e),"Can't have a priority with additional path components");const N=f.getNode();w=t.serverCache.getNode();const P=Vg(r,e,N,w);y=null!=P?n.filter.updatePriority(N,P):f.getNode()}else{const N=un(e);let P;if(f.isCompleteForChild(I)){w=t.serverCache.getNode();const G=Vg(r,e,f.getNode(),w);P=null!=G?f.getNode().getImmediateChild(I).updateChild(N,G):f.getNode().getImmediateChild(I)}else P=ty(r,I,t.serverCache);y=null!=P?n.filter.updateChild(f.getNode(),I,P,N,a,c):f.getNode()}}return Wr(t,y,f.isFullyInitialized()||zt(e),n.filter.filtersNodes())}}function jg(n,t,e,r,a,c,f,y){const w=t.serverCache;let I;const N=f?n.filter:n.filter.getIndexedFilter();if(zt(e))I=N.updateFullNode(w.getNode(),r,null);else if(N.filtersNodes()&&!w.isFiltered()){const se=w.getNode().updateChild(e,r);I=N.updateFullNode(w.getNode(),se,null)}else{const se=Ht(e);if(!w.isCompleteForPath(e)&&jo(e)>1)return t;const le=un(e),He=w.getNode().getImmediateChild(se).updateChild(le,r);I=".priority"===se?N.updatePriority(w.getNode(),He):N.updateChild(w.getNode(),se,He,le,Qd,null)}const P=JE(t,I,w.isFullyInitialized()||zt(e),N.filtersNodes());return cC(n,P,e,a,new Jd(a,P,c),y)}function Bf(n,t,e,r,a,c,f){const y=t.eventCache;let w,I;const N=new Jd(a,t,c);if(zt(e))I=n.filter.updateFullNode(t.eventCache.getNode(),r,f),w=Wr(t,I,!0,n.filter.filtersNodes());else{const P=Ht(e);if(".priority"===P)I=n.filter.updatePriority(t.eventCache.getNode(),r),w=Wr(t,I,y.isFullyInitialized(),y.isFiltered());else{const G=un(e),se=y.getNode().getImmediateChild(P);let le;if(zt(G))le=r;else{const me=N.getCompleteChild(P);le=null!=me?".priority"===jE(G)&&me.getChild(U_(G)).isEmpty()?me:me.updateChild(G,r):Ft.EMPTY_NODE}w=se.equals(le)?t:Wr(t,n.filter.updateChild(y.getNode(),P,le,G,N,f),y.isFullyInitialized(),n.filter.filtersNodes())}}return w}function dC(n,t){return n.eventCache.isCompleteForChild(t)}function hC(n,t,e){return e.foreach((r,a)=>{t=t.updateChild(r,a)}),t}function $g(n,t,e,r,a,c,f,y){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let I,w=t;I=zt(e)?r:new Dn(null).setTree(e,r);const N=t.serverCache.getNode();return I.children.inorderTraversal((P,G)=>{if(N.hasChild(P)){const le=hC(0,t.serverCache.getNode().getImmediateChild(P),G);w=jg(n,w,new Xt(P),le,a,c,f,y)}}),I.children.inorderTraversal((P,G)=>{const se=!t.serverCache.isCompleteForChild(P)&&null===G.value;if(!N.hasChild(P)&&!se){const me=hC(0,t.serverCache.getNode().getImmediateChild(P),G);w=jg(n,w,new Xt(P),me,a,c,f,y)}}),w}class jf{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,a=new bg(r.getIndex()),c=function KE(n){return n.loadsAllData()?new bg(n.getIndex()):n.hasLimit()?new iA(n):new $d(n)}(r);this.processor_=function sA(n){return{filter:n}}(c);const f=e.serverCache,y=e.eventCache,w=a.updateFullNode(Ft.EMPTY_NODE,f.getNode(),null),I=c.updateFullNode(Ft.EMPTY_NODE,y.getNode(),null),N=new jl(w,f.isFullyInitialized(),a.filtersNodes()),P=new jl(I,y.isFullyInitialized(),c.filtersNodes());this.viewCache_=Pg(P,N),this.eventGenerator_=new CT(this.query_)}get query(){return this.query_}}function kT(n,t){const e=Kd(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!zt(t)&&!e.getImmediateChild(Ht(t)).isEmpty())?e.getChild(t):null}function pC(n){return 0===n.eventRegistrations_.length}function gC(n,t,e){const r=[];if(e){(0,L.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(c=>{const f=c.createCancelEvent(e,a);f&&r.push(f)})}if(t){let a=[];for(let c=0;c<n.eventRegistrations_.length;++c){const f=n.eventRegistrations_[c];if(f.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(c+1));break}}else a.push(f)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return r}function mC(n,t,e,r){t.type===Qn.MERGE&&null!==t.source.queryId&&((0,L.hu)(Kd(n.viewCache_),"We should always have a full cache before handling merges"),(0,L.hu)(Og(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,c=function Hg(n,t,e,r,a){const c=new MT;let f,y;if(e.type===Qn.OVERWRITE){const I=e;I.source.fromUser?f=Bf(n,t,I.path,I.snap,r,a,c):((0,L.hu)(I.source.fromServer,"Unknown source."),y=I.source.tagged||t.serverCache.isFiltered()&&!zt(I.path),f=jg(n,t,I.path,I.snap,r,a,y,c))}else if(e.type===Qn.MERGE){const I=e;I.source.fromUser?f=function Hf(n,t,e,r,a,c,f){let y=t;return r.foreach((w,I)=>{const N=Vn(e,w);dC(t,Ht(N))&&(y=Bf(n,y,N,I,a,c,f))}),r.foreach((w,I)=>{const N=Vn(e,w);dC(t,Ht(N))||(y=Bf(n,y,N,I,a,c,f))}),y}(n,t,I.path,I.children,r,a,c):((0,L.hu)(I.source.fromServer,"Unknown source."),y=I.source.tagged||t.serverCache.isFiltered(),f=$g(n,t,I.path,I.children,r,a,y,c))}else if(e.type===Qn.ACK_USER_WRITE){const I=e;f=I.revert?function OT(n,t,e,r,a,c){let f;if(null!=Ug(r,e))return t;{const y=new Jd(r,t,a),w=t.eventCache.getNode();let I;if(zt(e)||".priority"===Ht(e)){let N;if(t.serverCache.isFullyInitialized())N=Lg(r,Kd(t));else{const P=t.serverCache.getNode();(0,L.hu)(P instanceof Ft,"serverChildren would be complete if leaf node"),N=ey(r,P)}I=n.filter.updateFullNode(w,N,c)}else{const N=Ht(e);let P=ty(r,N,t.serverCache);null==P&&t.serverCache.isCompleteForChild(N)&&(P=w.getImmediateChild(N)),I=null!=P?n.filter.updateChild(w,N,P,un(e),y,c):t.eventCache.getNode().hasChild(N)?n.filter.updateChild(w,N,Ft.EMPTY_NODE,un(e),y,c):w,I.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=Lg(r,Kd(t)),f.isLeafNode()&&(I=n.filter.updateFullNode(I,f,c)))}return f=t.serverCache.isFullyInitialized()||null!=Ug(r,Kt()),Wr(t,I,f,n.filter.filtersNodes())}}(n,t,I.path,r,a,c):function fC(n,t,e,r,a,c,f){if(null!=Ug(a,e))return t;const y=t.serverCache.isFiltered(),w=t.serverCache;if(null!=r.value){if(zt(e)&&w.isFullyInitialized()||w.isCompleteForPath(e))return jg(n,t,e,w.getNode().getChild(e),a,c,y,f);if(zt(e)){let I=new Dn(null);return w.getNode().forEachChild($o,(N,P)=>{I=I.set(new Xt(N),P)}),$g(n,t,e,I,a,c,y,f)}return t}{let I=new Dn(null);return r.foreach((N,P)=>{const G=Vn(e,N);w.isCompleteForPath(G)&&(I=I.set(N,w.getNode().getChild(G)))}),$g(n,t,e,I,a,c,y,f)}}(n,t,I.path,I.affectedTree,r,a,c)}else{if(e.type!==Qn.LISTEN_COMPLETE)throw(0,L.g5)("Unknown operation type: "+e.type);f=function PT(n,t,e,r,a){const c=t.serverCache;return cC(n,JE(t,c.getNode(),c.isFullyInitialized()||zt(e),c.isFiltered()),e,r,Qd,a)}(n,t,e.path,r,c)}const w=c.getChanges();return function NT(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const a=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=Og(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&e.push(xf(Og(t)))}}(t,f,w),{viewCache:f,changes:w}}(n.processor_,a,t,e,r);return function RT(n,t){(0,L.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,L.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,L.hu)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,_C(n,c.changes,c.viewCache.eventCache.getNode(),null)}function _C(n,t,e,r){return function wT(n,t,e,r){const a=[],c=[];return t.forEach(f=>{"child_changed"===f.type&&n.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(function Pt(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(f.childName,f.snapshotNode))}),qd(n,a,"child_removed",t,r,e),qd(n,a,"child_added",t,r,e),qd(n,a,"child_moved",c,r,e),qd(n,a,"child_changed",t,r,e),qd(n,a,"value",t,r,e),a}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let $f,Gf;class Gg{constructor(){this.views=new Map}}function iy(n,t,e,r){const a=t.source.queryId;if(null!==a){const c=n.views.get(a);return(0,L.hu)(null!=c,"SyncTree gave us an op for an invalid query."),mC(c,t,e,r)}{let c=[];for(const f of n.views.values())c=c.concat(mC(f,t,e,r));return c}}function yC(n,t,e,r,a){const f=n.views.get(t._queryIdentifier);if(!f){let y=Lg(e,a?r:null),w=!1;y?w=!0:r instanceof Ft?(y=ey(e,r),w=!1):(y=Ft.EMPTY_NODE,w=!1);const I=Pg(new jl(y,w,!1),new jl(r,a,!1));return new jf(t,I)}return f}function vC(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Gl(n,t){let e=null;for(const r of n.views.values())e=e||kT(r,t);return e}function sy(n,t){return t._queryParams.loadsAllData()?ay(n):n.views.get(t._queryIdentifier)}function oy(n,t){return null!=sy(n,t)}function Wl(n){return null!=ay(n)}function ay(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let jT=1;class EC{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Dn(null),this.pendingWriteTree_=function Va(){return{visibleWrites:Js.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Wf(n,t,e,r,a){return function J_(n,t,e,r,a){(0,L.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:a}),a&&(n.visibleWrites=Uf(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,a),a?Xs(n,new Hl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function zr(n,t,e=!1){const r=function rC(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function bT(n,t){const e=n.allWrites.findIndex(y=>y.writeId===t);(0,L.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let a=r.visible,c=!1,f=n.allWrites.length-1;for(;a&&f>=0;){const y=n.allWrites[f];y.visible&&(f>=e&&iC(y,r.path)?a=!1:Rs(r.path,y.path)&&(c=!0)),f--}return!!a&&(c?(function sC(n){n.visibleWrites=Fg(n.allWrites,kg,Kt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=eC(n.visibleWrites,r.path):mr(r.children,w=>{n.visibleWrites=eC(n.visibleWrites,Vn(r.path,w))}),!0))}(n.pendingWriteTree_,t)){let c=new Dn(null);return null!=r.snap?c=c.set(Kt(),!0):mr(r.children,f=>{c=c.set(new Xt(f),!0)}),Xs(n,new Ng(r.path,c,e))}return[]}function Ua(n,t,e){return Xs(n,new Hl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function bi(n,t,e,r,a=!1){const c=t._path,f=n.syncPointTree_.get(c);let y=[];if(f&&("default"===t._queryIdentifier||oy(f,t))){const w=function HT(n,t,e,r){const a=t._queryIdentifier,c=[];let f=[];const y=Wl(n);if("default"===a)for(const[w,I]of n.views.entries())f=f.concat(gC(I,e,r)),pC(I)&&(n.views.delete(w),I.query._queryParams.loadsAllData()||c.push(I.query));else{const w=n.views.get(a);w&&(f=f.concat(gC(w,e,r)),pC(w)&&(n.views.delete(a),w.query._queryParams.loadsAllData()||c.push(w.query)))}return y&&!Wl(n)&&c.push(new(function ry(){return(0,L.hu)($f,"Reference.ts has not been loaded"),$f}())(t._repo,t._path)),{removed:c,events:f}}(f,t,e,r);(function UT(n){return 0===n.views.size})(f)&&(n.syncPointTree_=n.syncPointTree_.remove(c));const I=w.removed;if(y=w.events,!a){const N=-1!==I.findIndex(G=>G._queryParams.loadsAllData()),P=n.syncPointTree_.findOnPath(c,(G,se)=>Wl(se));if(N&&!P){const G=n.syncPointTree_.subtree(c);if(!G.isEmpty()){const se=function CC(n){return n.fold((t,e,r)=>{if(e&&Wl(e))return[ay(e)];{let a=[];return e&&(a=vC(e)),mr(r,(c,f)=>{a=a.concat(f)}),a}})}(G);for(let le=0;le<se.length;++le){const me=se[le],He=me.query,vt=fc(n,me);n.listenProvider_.startListening(th(He),Go(n,He),vt.hashFn,vt.onComplete)}}}!P&&I.length>0&&!r&&(N?n.listenProvider_.stopListening(th(t),null):I.forEach(G=>{const se=n.queryToTagMap.get(zf(G));n.listenProvider_.stopListening(th(G),se)}))}!function wC(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const a=zf(r),c=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(c)}}}(n,I)}return y}function Zg(n,t,e,r){const a=qg(n,r);if(null!=a){const c=Kg(a),f=c.path,y=c.queryId,w=oi(f,t);return Yg(n,f,new Hl(K_(y),w,e))}return[]}function zl(n,t,e,r=!1){const a=t._path;let c=null,f=!1;n.syncPointTree_.foreachOnPath(a,(G,se)=>{const le=oi(G,a);c=c||Gl(se,le),f=f||Wl(se)});let w,y=n.syncPointTree_.get(a);y?(f=f||Wl(y),c=c||Gl(y,Kt())):(y=new Gg,n.syncPointTree_=n.syncPointTree_.set(a,y)),null!=c?w=!0:(w=!1,c=Ft.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((se,le)=>{const me=Gl(le,Kt());me&&(c=c.updateImmediateChild(se,me))}));const I=oy(y,t);if(!I&&!t._queryParams.loadsAllData()){const G=zf(t);(0,L.hu)(!n.queryToTagMap.has(G),"View does not exist, but we have a tag");const se=function DC(){return jT++}();n.queryToTagMap.set(G,se),n.tagToQueryMap.set(se,G)}let P=function BT(n,t,e,r,a,c){const f=yC(n,t,r,a,c);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,f),function FT(n,t){n.eventRegistrations_.push(t)}(f,e),function LT(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(wn,(c,f)=>{r.push(lc(c,f))}),e.isFullyInitialized()&&r.push(xf(e.getNode())),_C(n,r,e.getNode(),t)}(f,e)}(y,t,e,rs(n.pendingWriteTree_,a),c,w);if(!I&&!f&&!r){const G=sy(y,t);P=P.concat(function TC(n,t,e){const r=t._path,a=Go(n,t),c=fc(n,e),f=n.listenProvider_.startListening(th(t),a,c.hashFn,c.onComplete),y=n.syncPointTree_.subtree(r);if(a)(0,L.hu)(!Wl(y.value),"If we're adding a query, it shouldn't be shadowed");else{const w=y.fold((I,N,P)=>{if(!zt(I)&&N&&Wl(N))return[ay(N).query];{let G=[];return N&&(G=G.concat(vC(N).map(se=>se.query))),mr(P,(se,le)=>{G=G.concat(le)}),G}});for(let I=0;I<w.length;++I){const N=w[I];n.listenProvider_.stopListening(th(N),Go(n,N))}}return f}(n,t,G))}return P}function Ba(n,t,e){const a=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(t,(f,y)=>{const I=Gl(y,oi(f,t));if(I)return I});return IT(a,t,c,e,!0)}function Xs(n,t){return dc(t,n.syncPointTree_,null,rs(n.pendingWriteTree_,Kt()))}function dc(n,t,e,r){if(zt(n.path))return hc(n,t,e,r);{const a=t.get(Kt());null==e&&null!=a&&(e=Gl(a,Kt()));let c=[];const f=Ht(n.path),y=n.operationForChild(f),w=t.children.get(f);if(w&&y){const I=e?e.getImmediateChild(f):null,N=AT(r,f);c=c.concat(dc(y,w,I,N))}return a&&(c=c.concat(iy(a,n,r,e))),c}}function hc(n,t,e,r){const a=t.get(Kt());null==e&&null!=a&&(e=Gl(a,Kt()));let c=[];return t.children.inorderTraversal((f,y)=>{const w=e?e.getImmediateChild(f):null,I=AT(r,f),N=n.operationForChild(f);N&&(c=c.concat(hc(N,y,w,I)))}),a&&(c=c.concat(iy(a,n,r,e))),c}function fc(n,t){const e=t.query,r=Go(n,e);return{hashFn:()=>(function xT(n){return n.viewCache_.serverCache.getNode()}(t)||Ft.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return r?function zg(n,t,e){const r=qg(n,e);if(r){const a=Kg(r),c=a.path,f=a.queryId,y=oi(c,t);return Yg(n,c,new Lf(K_(f),y))}return[]}(n,e._path,r):function cc(n,t){return Xs(n,new Lf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const c=function bE(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(a,e);return bi(n,e,null,c)}}}}function Go(n,t){const e=zf(t);return n.queryToTagMap.get(e)}function zf(n){return n._path.toString()+"$"+n._queryIdentifier}function qg(n,t){return n.tagToQueryMap.get(t)}function Kg(n){const t=n.indexOf("$");return(0,L.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Xt(n.substr(0,t))}}function Yg(n,t,e){const r=n.syncPointTree_.get(t);return(0,L.hu)(r,"Missing sync point for query tag that we're tracking"),iy(r,e,rs(n.pendingWriteTree_,t),null)}function th(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Wg(){return(0,L.hu)(Gf,"Reference.ts has not been loaded"),Gf}())(n._repo,n._path):n}class Zf{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Zf(e)}node(){return this.node_}}class ly{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Vn(this.path_,t);return new ly(this.syncTree_,e)}node(){return Ba(this.syncTree_,this.path_)}}const lA=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},GT=function(n,t,e){return n&&"object"==typeof n?((0,L.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?WT(n[".sv"],t,e):"object"==typeof n[".sv"]?zT(n[".sv"],t):void(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},WT=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,L.hu)(!1,"Unexpected server value: "+n)},zT=function(n,t,e){n.hasOwnProperty("increment")||(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,L.hu)(!1,"Unexpected increment value: "+r);const a=t.node();if((0,L.hu)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return r;const f=a.getValue();return"number"!=typeof f?r:f+r},ZT=function(n,t,e,r){return bC(t,new ly(e,n),r)},uy=function(n,t,e){return bC(n,new Zf(t),e)};function bC(n,t,e){const r=n.getPriority().val(),a=GT(r,t.getImmediateChild(".priority"),e);let c;if(n.isLeafNode()){const f=n,y=GT(f.getValue(),t,e);return y!==f.getValue()||a!==f.getPriority().val()?new Ys(y,Un(a)):n}{const f=n;return c=f,a!==f.getPriority().val()&&(c=c.updatePriority(new Ys(a))),f.forEachChild(wn,(y,w)=>{const I=bC(w,t.getImmediateChild(y),e);I!==w&&(c=c.updateImmediateChild(y,I))}),c}}class cy{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function Qg(n,t){let e=t instanceof Xt?t:new Xt(t),r=n,a=Ht(e);for(;null!==a;){const c=(0,L.DV)(r.node.children,a)||{children:{},childCount:0};r=new cy(a,r,c),e=un(e),a=Ht(e)}return r}function pc(n){return n.node.value}function qf(n,t){n.node.value=t,fy(n)}function nh(n){return n.node.childCount>0}function gc(n,t){mr(n.node.children,(e,r)=>{t(new cy(e,n,r))})}function hy(n,t,e,r){e&&!r&&t(n),gc(n,a=>{hy(a,t,!0,r)}),e&&r&&t(n)}function rh(n){return new Xt(null===n.parent?n.name:rh(n.parent)+"/"+n.name)}function fy(n){null!==n.parent&&function Yf(n,t,e){const r=function dy(n){return void 0===pc(n)&&!nh(n)}(e),a=(0,L.r3)(n.node.children,t);r&&a?(delete n.node.children[t],n.node.childCount--,fy(n)):!r&&!a&&(n.node.children[t]=e.node,n.node.childCount++,fy(n))}(n.parent,n.name,n)}const qT=/[\[\].#$\/\u0000-\u001F\u007F]/,KT=/[\[\].#$\u0000-\u001F\u007F]/,py=10485760,Jg=function(n){return"string"==typeof n&&0!==n.length&&!qT.test(n)},Xg=function(n){return"string"==typeof n&&0!==n.length&&!KT.test(n)},Zl=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Xu(n)||n&&"object"==typeof n&&(0,L.r3)(n,".sv")},Ha=function(n,t,e,r){r&&void 0===t||Qf((0,L.gK)(n,"value"),t,e)},Qf=function(n,t,e){const r=e instanceof Xt?new tA(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+sc(r));if("function"==typeof t)throw new Error(n+"contains a function "+sc(r)+" with contents = "+t.toString());if(Xu(t))throw new Error(n+"contains "+t.toString()+" "+sc(r));if("string"==typeof t&&t.length>py/3&&(0,L.ug)(t)>py)throw new Error(n+"contains a string greater than "+py+" utf8 bytes "+sc(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,c=!1;if(mr(t,(f,y)=>{if(".value"===f)a=!0;else if(".priority"!==f&&".sv"!==f&&(c=!0,!Jg(f)))throw new Error(n+" contains an invalid key ("+f+") "+sc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function oT(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,L.ug)(t),pg(n)})(r,f),Qf(n,y,r),function H_(n){const t=n.parts_.pop();n.byteLength_-=(0,L.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),a&&c)throw new Error(n+' contains ".value" child '+sc(r)+" in addition to actual children.")}},tm=function(n,t,e,r){if(r&&void 0===t)return;const a=(0,L.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const c=[];mr(t,(f,y)=>{const w=new Xt(f);if(Qf(a,y,Vn(e,w)),".priority"===jE(w)&&!Zl(y))throw new Error(a+"contains an invalid value for '"+w.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(w)}),function(n,t){let e,r;for(e=0;e<t.length;e++){r=t[e];const c=ic(r);for(let f=0;f<c.length;f++)if((".priority"!==c[f]||f!==c.length-1)&&!Jg(c[f]))throw new Error(n+"contains an invalid key ("+c[f]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort($E);let a=null;for(e=0;e<t.length;e++){if(r=t[e],null!==a&&Rs(a,r))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,c)},gy=function(n,t,e){if(!e||void 0!==t){if(Xu(t))throw new Error((0,L.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Zl(t))throw new Error((0,L.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ih=function(n,t,e,r){if(!(r&&void 0===e||Jg(e)))throw new Error((0,L.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Jf=function(n,t,e,r){if(!(r&&void 0===e||Xg(e)))throw new Error((0,L.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},QT=function(n,t,e,r){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Jf(n,t,e,r)},is=function(n,t){if(".info"===Ht(t))throw new Error(n+" failed = Can't modify data under /.info/")},my=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Jg(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Xg(n)}(e))throw new Error((0,L.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class IC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function nm(n,t){let e=null;for(let r=0;r<t.length;r++){const a=t[r],c=a.getPath();null!==e&&!B_(c,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(a)}e&&n.eventLists_.push(e)}function SC(n,t,e){nm(n,e),AC(n,r=>B_(r,t))}function ss(n,t,e){nm(n,e),AC(n,r=>Rs(r,t)||Rs(t,r))}function AC(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const a=n.eventLists_[r];a&&(t(a.path)?(_y(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function _y(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();Ju&&Rr("event: "+e.toString()),ec(r)}}}const rm="repo_interrupt",JT=25;class im{constructor(t,e,r,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new IC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Fa(),this.transactionQueueTree_=new cy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function om(n){const e=n.infoData_.getNode(new Xt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function sh(n){return lA({timestamp:om(n)})}function MC(n,t,e,r,a){n.dataUpdateCount++;const c=new Xt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let f=[];if(a)if(r){const w=(0,L.UI)(e,I=>Un(I));f=function Xd(n,t,e,r){const a=qg(n,r);if(a){const c=Kg(a),f=c.path,y=c.queryId,w=oi(f,t),I=Dn.fromObject(e);return Yg(n,f,new Zd(K_(y),w,I))}return[]}(n.serverSyncTree_,c,w,a)}else{const w=Un(e);f=Zg(n.serverSyncTree_,c,w,a)}else if(r){const w=(0,L.UI)(e,I=>Un(I));f=function ai(n,t,e){const r=Dn.fromObject(e);return Xs(n,new Zd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,c,w)}else{const w=Un(e);f=Ua(n.serverSyncTree_,c,w)}let y=c;f.length>0&&(y=ql(n,c)),ss(n.eventQueue_,y,f)}function RC(n,t){oh(n,"connected",t),!1===t&&function tb(n){_c(n,"onDisconnectEvents");const t=sh(n),e=Fa();Gd(n.onDisconnect_,Kt(),(a,c)=>{const f=ZT(a,c,n.serverSyncTree_,t);uc(e,a,f)});let r=[];Gd(e,Kt(),(a,c)=>{r=r.concat(Ua(n.serverSyncTree_,a,c));const f=cm(n,a);ql(n,f)}),n.onDisconnect_=Fa(),ss(n.eventQueue_,Kt(),r)}(n)}function oh(n,t,e){const r=new Xt("/.info/"+t),a=Un(e);n.infoData_.updateSnapshot(r,a);const c=Ua(n.infoSyncTree_,r,a);ss(n.eventQueue_,r,c)}function mc(n){return n.nextWriteId_++}function am(n,t,e,r,a){_c(n,"set",{path:t.toString(),value:e,priority:r});const c=sh(n),f=Un(e,r),y=Ba(n.serverSyncTree_,t),w=uy(f,y,c),I=mc(n),N=Wf(n.serverSyncTree_,t,w,I,!0);nm(n.eventQueue_,N),n.server_.put(t.toString(),f.val(!0),(G,se)=>{const le="ok"===G;le||si("set at "+t+" failed: "+G);const me=zr(n.serverSyncTree_,I,!le);ss(n.eventQueue_,t,me),ja(0,a,G,se)});const P=cm(n,t);ql(n,P),ss(n.eventQueue_,P,[])}function PC(n,t,e){n.server_.onDisconnectCancel(t.toString(),(r,a)=>{"ok"===r&&W_(n.onDisconnect_,t),ja(0,e,r,a)})}function lm(n,t,e,r){const a=Un(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(c,f)=>{"ok"===c&&uc(n.onDisconnect_,t,a),ja(0,r,c,f)})}function vy(n,t,e){let r;r=".info"===Ht(t._path)?bi(n.infoSyncTree_,t,e):bi(n.serverSyncTree_,t,e),SC(n.eventQueue_,t._path,r)}function Ey(n){n.persistentConnection_&&n.persistentConnection_.interrupt(rm)}function _c(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Rr(e,...t)}function ja(n,t,e,r){t&&ec(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let c=a;r&&(c+=": "+r);const f=new Error(c);f.code=a,t(f)}})}function Cy(n,t,e){return Ba(n.serverSyncTree_,t,e)||Ft.EMPTY_NODE}function um(n,t=n.transactionQueueTree_){if(t||Xf(n,t),pc(t)){const e=Dy(n,t);(0,L.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function FC(n,t,e){const r=e.map(I=>I.currentWriteId),a=Cy(n,t,r);let c=a;const f=a.hash();for(let I=0;I<e.length;I++){const N=e[I];(0,L.hu)(0===N.status,"tryToSendTransactionQueue_: items in queue should all be run."),N.status=1,N.retryCount++;const P=oi(t,N.path);c=c.updateChild(P,N.currentOutputSnapshotRaw)}const y=c.val(!0),w=t;n.server_.put(w.toString(),y,I=>{_c(n,"transaction put response",{path:w.toString(),status:I});let N=[];if("ok"===I){const P=[];for(let G=0;G<e.length;G++)e[G].status=2,N=N.concat(zr(n.serverSyncTree_,e[G].currentWriteId)),e[G].onComplete&&P.push(()=>e[G].onComplete(null,!0,e[G].currentOutputSnapshotResolved)),e[G].unwatcher();Xf(n,Qg(n.transactionQueueTree_,t)),um(n,n.transactionQueueTree_),ss(n.eventQueue_,t,N);for(let G=0;G<P.length;G++)ec(P[G])}else{if("datastale"===I)for(let P=0;P<e.length;P++)e[P].status=3===e[P].status?4:0;else{si("transaction at "+w.toString()+" failed: "+I);for(let P=0;P<e.length;P++)e[P].status=4,e[P].abortReason=I}ql(n,t)}},f)}(n,rh(t),e)}else nh(t)&&gc(t,e=>{um(n,e)})}function ql(n,t){const e=wy(n,t),r=rh(e);return function LC(n,t,e){if(0===t.length)return;const r=[];let a=[];const f=t.filter(y=>0===y.status).map(y=>y.currentWriteId);for(let y=0;y<t.length;y++){const w=t[y],I=oi(e,w.path);let P,N=!1;if((0,L.hu)(null!==I,"rerunTransactionsUnderNode_: relativePath should not be null."),4===w.status)N=!0,P=w.abortReason,a=a.concat(zr(n.serverSyncTree_,w.currentWriteId,!0));else if(0===w.status)if(w.retryCount>=JT)N=!0,P="maxretry",a=a.concat(zr(n.serverSyncTree_,w.currentWriteId,!0));else{const G=Cy(n,w.path,f);w.currentInputSnapshot=G;const se=t[y].update(G.val());if(void 0!==se){Qf("transaction failed: Data returned ",se,w.path);let le=Un(se);"object"==typeof se&&null!=se&&(0,L.r3)(se,".priority")||(le=le.updatePriority(G.getPriority()));const He=w.currentWriteId,vt=sh(n),Nt=uy(le,G,vt);w.currentOutputSnapshotRaw=le,w.currentOutputSnapshotResolved=Nt,w.currentWriteId=mc(n),f.splice(f.indexOf(He),1),a=a.concat(Wf(n.serverSyncTree_,w.path,Nt,w.currentWriteId,w.applyLocally)),a=a.concat(zr(n.serverSyncTree_,He,!0))}else N=!0,P="nodata",a=a.concat(zr(n.serverSyncTree_,w.currentWriteId,!0))}ss(n.eventQueue_,e,a),a=[],N&&(t[y].status=2,setTimeout(t[y].unwatcher,Math.floor(0)),t[y].onComplete&&r.push("nodata"===P?()=>t[y].onComplete(null,!1,t[y].currentInputSnapshot):()=>t[y].onComplete(new Error(P),!1,null)))}Xf(n,n.transactionQueueTree_);for(let y=0;y<r.length;y++)ec(r[y]);um(n,n.transactionQueueTree_)}(n,Dy(n,e),r),r}function wy(n,t){let e,r=n.transactionQueueTree_;for(e=Ht(t);null!==e&&void 0===pc(r);)r=Qg(r,e),e=Ht(t=un(t));return r}function Dy(n,t){const e=[];return Ty(n,t,e),e.sort((r,a)=>r.order-a.order),e}function Ty(n,t,e){const r=pc(t);if(r)for(let a=0;a<r.length;a++)e.push(r[a]);gc(t,a=>{Ty(n,a,e)})}function Xf(n,t){const e=pc(t);if(e){let r=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[r]=e[a],r++);e.length=r,qf(t,e.length>0?e:void 0)}gc(t,r=>{Xf(n,r)})}function cm(n,t){const e=rh(wy(n,t)),r=Qg(n.transactionQueueTree_,t);return function Kf(n,t,e){let r=e?n:n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,a=>{dm(n,a)}),dm(n,r),hy(r,a=>{dm(n,a)}),e}function dm(n,t){const e=pc(t);if(e){const r=[];let a=[],c=-1;for(let f=0;f<e.length;f++)3===e[f].status||(1===e[f].status?((0,L.hu)(c===f-1,"All SENT items should be at beginning of queue."),c=f,e[f].status=3,e[f].abortReason="set"):((0,L.hu)(0===e[f].status,"Unexpected transaction status in abort"),e[f].unwatcher(),a=a.concat(zr(n.serverSyncTree_,e[f].currentWriteId,!0)),e[f].onComplete&&r.push(e[f].onComplete.bind(null,new Error("set"),!1,null))));-1===c?qf(t,void 0):e.length=c+1,ss(n.eventQueue_,rh(t),a);for(let f=0;f<r.length;f++)ec(r[f])}}const Wo=function(n,t){const e=rb(n),r=e.namespace;return"firebase.com"===e.domain&&Uo(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&Uo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&si("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tc(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,t,"",r!==e.subdomain),path:new Xt(e.pathString)}},rb=function(n){let t="",e="",r="",a="",c="",f=!0,y="https",w=443;if("string"==typeof n){let I=n.indexOf("//");I>=0&&(y=n.substring(0,I-1),n=n.substring(I+2));let N=n.indexOf("/");-1===N&&(N=n.length);let P=n.indexOf("?");-1===P&&(P=n.length),t=n.substring(0,Math.min(N,P)),N<P&&(a=function VC(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let a=e[r];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}(n.substring(N,P)));const G=function hm(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):si(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,P)));I=t.indexOf(":"),I>=0?(f="https"===y||"wss"===y,w=parseInt(t.substring(I+1),10)):I=t.length;const se=t.slice(0,I);if("localhost"===se.toLowerCase())e="localhost";else if(se.split(".").length<=2)e=se;else{const le=t.indexOf(".");r=t.substring(0,le).toLowerCase(),e=t.substring(le+1),c=r}"ns"in G&&(c=G.ns)}return{host:t,port:w,domain:e,subdomain:r,secure:f,scheme:y,pathString:a,namespace:c}},UC="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",by=function(){let n=0;const t=[];return function(e){const r=e===n;let a;n=e;const c=new Array(8);for(a=7;a>=0;a--)c[a]=UC.charAt(e%64),e=Math.floor(e/64);(0,L.hu)(0===e,"Cannot push at time == 0");let f=c.join("");if(r){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)f+=UC.charAt(t[a]);return(0,L.hu)(20===f.length,"nextPushId: Length should be 20."),f}}();class Kl{constructor(t,e,r,a){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,L.Wl)(this.snapshot.exportVal())}}class fm{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Iy{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,L.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class pm{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new L.BH;return PC(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){is("OnDisconnect.remove",this._path);const t=new L.BH;return lm(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){is("OnDisconnect.set",this._path),Ha("OnDisconnect.set",t,this._path,!1);const e=new L.BH;return lm(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){is("OnDisconnect.setWithPriority",this._path),Ha("OnDisconnect.setWithPriority",t,this._path,!1),gy("OnDisconnect.setWithPriority",e,!1);const r=new L.BH;return function OC(n,t,e,r,a){const c=Un(e,r);n.server_.onDisconnectPut(t.toString(),c.val(!0),(f,y)=>{"ok"===f&&uc(n.onDisconnect_,t,c),ja(0,a,f,y)})}(this._repo,this._path,t,e,r.wrapCallback(()=>{})),r.promise}update(t){is("OnDisconnect.update",this._path),tm("OnDisconnect.update",t,this._path,!1);const e=new L.BH;return function yy(n,t,e,r){if((0,L.xb)(e))return Rr("onDisconnect().update() called with empty data.  Don't do anything."),void ja(0,r,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,c)=>{"ok"===a&&mr(e,(f,y)=>{const w=Un(y);uc(n.onDisconnect_,Vn(t,f),w)}),ja(0,r,a,c)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class os{constructor(t,e,r,a){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=a}get key(){return zt(this._path)?null:jE(this._path)}get ref(){return new as(this._repo,this._path)}get _queryIdentifier(){const t=G_(this._queryParams),e=TE(t);return"{}"===e?"default":e}get _queryObject(){return G_(this._queryParams)}isEqual(t){if(!((t=(0,L.m9)(t))instanceof os))return!1;const e=this._repo===t._repo,r=B_(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function V_(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Sy(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Yl(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===$o){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Ms)throw new Error(r);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==Bo)throw new Error(r);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===wn){if(null!=t&&!Zl(t)||null!=e&&!Zl(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,L.hu)(n.getIndex()instanceof Dg||n.getIndex()===Tg,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function gm(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class as extends os{constructor(t,e){super(t,e,new Ig,!1)}get parent(){const t=U_(this._path);return null===t?null:new as(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class yc{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Xt(t),r=vc(this.ref,t);return new yc(this._node.getChild(e),r,wn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,a)=>t(new yc(a,vc(this.ref,r),wn)))}hasChild(t){const e=new Xt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function _r(n,t){return(n=(0,L.m9)(n))._checkNotDeleted("ref"),void 0!==t?vc(n._root,t):n._root}function Ay(n,t){(n=(0,L.m9)(n))._checkNotDeleted("refFromURL");const e=Wo(t,n._repo.repoInfo_.nodeAdmin);my("refFromURL",e);const r=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Uo("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),_r(n,e.path.toString())}function vc(n,t){return null===Ht((n=(0,L.m9)(n))._path)?QT("child","path",t,!1):Jf("child","path",t,!1),new as(n._repo,Vn(n._path,t))}function mm(n,t){n=(0,L.m9)(n),is("set",n._path),Ha("set",t,n._path,!1);const e=new L.BH;return am(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function sb(n,t){tm("update",t,n._path,!1);const e=new L.BH;return function eb(n,t,e,r){_c(n,"update",{path:t.toString(),value:e});let a=!0;const c=sh(n),f={};if(mr(e,(y,w)=>{a=!1,f[y]=ZT(Vn(t,y),Un(w),n.serverSyncTree_,c)}),a)Rr("update() called with empty data.  Don't do anything."),ja(0,r,"ok",void 0);else{const y=mc(n),w=function $T(n,t,e,r){!function TT(n,t,e,r){(0,L.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:r,visible:!0}),n.visibleWrites=xg(n.visibleWrites,t,e),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r);const a=Dn.fromObject(e);return Xs(n,new Zd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,f,y);nm(n.eventQueue_,w),n.server_.merge(t.toString(),e,(I,N)=>{const P="ok"===I;P||si("update at "+t+" failed: "+I);const G=zr(n.serverSyncTree_,y,!P),se=G.length>0?ql(n,t):t;ss(n.eventQueue_,se,G),ja(0,r,I,N)}),mr(e,I=>{const N=cm(n,Vn(t,I));ql(n,N)}),ss(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function ob(n){n=(0,L.m9)(n);const t=new Iy(()=>{}),e=new lh(t);return function NC(n,t,e){const r=function eh(n,t){const e=t._path;let r=null;n.syncPointTree_.foreachOnPath(e,(I,N)=>{const P=oi(I,e);r=r||Gl(N,P)});let a=n.syncPointTree_.get(e);a?r=r||Gl(a,Kt()):(a=new Gg,n.syncPointTree_=n.syncPointTree_.set(e,a));const c=null!=r,f=c?new jl(r,!0,!1):null;return function oA(n){return Og(n.viewCache_)}(yC(a,t,rs(n.pendingWriteTree_,t._path),c?f.getNode():Ft.EMPTY_NODE,c))}(n.serverSyncTree_,t);return null!=r?Promise.resolve(r):n.server_.get(t).then(a=>{const c=Un(a).withIndex(t._queryParams.getIndex());let f;if(zl(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())f=Ua(n.serverSyncTree_,t._path,c);else{const y=Go(n.serverSyncTree_,t);f=Zg(n.serverSyncTree_,t._path,c,y)}return ss(n.eventQueue_,t._path,f),bi(n.serverSyncTree_,t,e,null,!0),c},a=>(_c(n,"get for query "+(0,L.Wl)(t)+" failed: "+a),Promise.reject(new Error(a))))}(n._repo,n,e).then(r=>new yc(r,new as(n._repo,n._path),n._queryParams.getIndex()))}class lh{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new Kl("value",this,new yc(t.snapshotNode,new as(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new fm(this,t,e):null}matches(t){return t instanceof lh&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class _m{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new fm(this,t,e):null}createEvent(t,e){(0,L.hu)(null!=t.childName,"Child events should have a childName.");const r=vc(new as(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new Kl(t.type,this,new yc(t.snapshotNode,r,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof _m&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function uh(n,t,e,r,a){let c;if("object"==typeof r&&(c=void 0,a=r),"function"==typeof r&&(c=r),a&&a.onlyOnce){const w=e,I=(N,P)=>{vy(n._repo,n,y),w(N,P)};I.userCallback=e.userCallback,I.context=e.context,e=I}const f=new Iy(e,c||void 0),y="value"===t?new lh(f):new _m(t,f);return function xC(n,t,e){let r;r=".info"===Ht(t._path)?zl(n.infoSyncTree_,t,e):zl(n.serverSyncTree_,t,e),SC(n.eventQueue_,t._path,r)}(n._repo,n,y),()=>vy(n._repo,n,y)}function jC(n,t,e,r){return uh(n,"value",t,e,r)}function ym(n,t,e,r){return uh(n,"child_added",t,e,r)}function vm(n,t,e,r){return uh(n,"child_changed",t,e,r)}function eo(n,t,e,r){return uh(n,"child_moved",t,e,r)}function $C(n,t,e,r){return uh(n,"child_removed",t,e,r)}function My(n,t,e){let r=null;const a=e?new Iy(e):null;"value"===t?r=new lh(a):t&&(r=new _m(t,a)),vy(n._repo,n,r)}class yr{}class Ns extends yr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ha("endAt",this._value,t._path,!0);const e=Ag(t._queryParams,this._value,this._key);if(gm(e),Yl(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new os(t._repo,t._path,e,t._orderByCalled)}}class GC extends yr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ha("endBefore",this._value,t._path,!1);const e=function vT(n,t,e){let r;return r=Ag(n,t,n.index_===$o||e?e:Ms),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(gm(e),Yl(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new os(t._repo,t._path,e,t._orderByCalled)}}class zC extends yr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ha("startAt",this._value,t._path,!0);const e=Sg(t._queryParams,this._value,this._key);if(gm(e),Yl(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new os(t._repo,t._path,e,t._orderByCalled)}}class lb extends yr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ha("startAfter",this._value,t._path,!1);const e=function yT(n,t,e){let r;return r=Sg(n,t,n.index_===$o||e?e:Bo),r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(gm(e),Yl(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new os(t._repo,t._path,e,t._orderByCalled)}}class Ry extends yr{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new os(t._repo,t._path,function mT(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class cb extends yr{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new os(t._repo,t._path,function _T(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class db extends yr{constructor(t){super(),this._path=t}_apply(t){Sy(t,"orderByChild");const e=new Xt(this._path);if(zt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Dg(e),a=Mg(t._queryParams,r);return Yl(a),new os(t._repo,t._path,a,!0)}}class qC extends yr{_apply(t){Sy(t,"orderByKey");const e=Mg(t._queryParams,$o);return Yl(e),new os(t._repo,t._path,e,!0)}}class Em extends yr{_apply(t){Sy(t,"orderByPriority");const e=Mg(t._queryParams,wn);return Yl(e),new os(t._repo,t._path,e,!0)}}class YC extends yr{_apply(t){Sy(t,"orderByValue");const e=Mg(t._queryParams,Tg);return Yl(e),new os(t._repo,t._path,e,!0)}}class JC extends yr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Ha("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ns(this._value,this._key)._apply(new zC(this._value,this._key)._apply(t))}}function no(n,...t){let e=(0,L.m9)(n);for(const r of t)e=r._apply(e);return e}(function VT(n){(0,L.hu)(!$f,"__referenceConstructor has already been defined"),$f=n})(as),function aA(n){(0,L.hu)(!Gf,"__referenceConstructor has already been defined"),Gf=n}(as);const ch={};function Oy(n,t,e,r,a){let c=r||n.options.databaseURL;void 0===c&&(n.options.projectId||Uo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Rr("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let w,I,f=Wo(c,a),y=f.repoInfo;typeof process<"u"&&process.env&&(I=process.env.FIREBASE_DATABASE_EMULATOR_HOST),I?(w=!0,c=`http://${I}?ns=${y.namespace}`,f=Wo(c,a),y=f.repoInfo):w=!f.repoInfo.secure;const N=a&&w?new Pn(Pn.OWNER):new qD(n.name,n.options,t);my("Invalid Firebase Database URL",f),zt(f.path)||Uo("Database URL must point to the root of a Firebase Database (not including a child path).");const P=function tw(n,t,e,r){let a=ch[t.name];a||(a={},ch[t.name]=a);let c=a[n.toURLString()];return c&&Uo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new im(n,false,e,r),a[n.toURLString()]=c,c}(y,n,N,new S_(n.name,e));return new rw(P,n)}class rw{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function sm(n,t,e){if(n.stats_=Af(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new kf(n.repoInfo_,(r,a,c,f)=>{MC(n,r,a,c,f)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>RC(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,L.Wl)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new ac(n.repoInfo_,t,(r,a,c,f)=>{MC(n,r,a,c,f)},r=>{RC(n,r)},r=>{!function XT(n,t){mr(t,(e,r)=>{oh(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function QD(n,t){const e=n.toString();return ig[e]||(ig[e]=t()),ig[e]}(n.repoInfo_,()=>new q_(n.stats_,n.server_)),n.infoData_=new Bl,n.infoSyncTree_=new EC({startListening:(r,a,c,f)=>{let y=[];const w=n.infoData_.getNode(r._path);return w.isEmpty()||(y=Ua(n.infoSyncTree_,r._path,w),setTimeout(()=>{f("ok")},0)),y},stopListening:()=>{}}),oh(n,"connected",!1),n.serverSyncTree_=new EC({startListening:(r,a,c,f)=>(n.server_.listen(r,c,a,(y,w)=>{const I=f(y,w);ss(n.eventQueue_,r._path,I)}),[]),stopListening:(r,a)=>{n.server_.unlisten(r,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new as(this._repo,Kt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function ew(n,t){const e=ch[t];(!e||e[n.key]!==n)&&Uo(`Database ${t}(${n.repoInfo_}) has already been deleted.`),Ey(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Uo("Cannot call "+t+" on a deleted database.")}}function xy(){VE.IS_TRANSPORT_INITIALIZED&&si("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function gb(){xy(),Ho.forceDisallow()}function mb(){xy(),kd.forceDisallow(),Ho.forceAllow()}function vb(n,t){wE(n,t)}const Cb={".sv":"timestamp"};class Tb{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ac.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},ac.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Eb(n){Vl(qs.SDK_VERSION),(0,qs._registerComponent)(new Pa.wA("database",(t,{instanceIdentifier:e})=>Oy(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,qs.registerVersion)(D_,"0.14.4",n),(0,qs.registerVersion)(D_,"0.14.4","esm2017")}();const Ab=new Nd.Yd("@firebase/database-compat"),ky=function(n){Ab.warn("FIREBASE WARNING: "+n)};class aw{constructor(t){this._delegate=t}cancel(t){(0,L.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,L.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),r=>t(r)),e}remove(t){(0,L.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,L.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),r=>t(r)),e}set(t,e){(0,L.Dv)("OnDisconnect.set",1,2,arguments.length),(0,L.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(t);return e&&r.then(()=>e(null),a=>e(a)),r}setWithPriority(t,e,r){(0,L.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,L.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const a=this._delegate.setWithPriority(t,e);return r&&a.then(()=>r(null),c=>r(c)),a}update(t,e){if((0,L.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,ky("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,L.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(t);return e&&r.then(()=>e(null),a=>e(a)),r}}class lw{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,L.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class $a{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,L.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,L.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,L.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,L.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,L.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Jf("DataSnapshot.child","path",t,!1),new $a(this._database,this._delegate.child(t))}hasChild(t){return(0,L.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Jf("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,L.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,L.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,L.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new $a(this._database,e)))}hasChildren(){return(0,L.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,L.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,L.Dv)("DataSnapshot.ref",0,0,arguments.length),new ji(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Nr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,r,a){var c;(0,L.Dv)("Query.on",2,4,arguments.length),(0,L.Wj)("Query.on","callback",e,!1);const f=Nr.getCancelAndContextArgs_("Query.on",r,a),y=(I,N)=>{e.call(f.context,new $a(this.database,I),N)};y.userCallback=e,y.context=f.context;const w=null===(c=f.cancel)||void 0===c?void 0:c.bind(f.context);switch(t){case"value":return jC(this._delegate,y,w),e;case"child_added":return ym(this._delegate,y,w),e;case"child_removed":return $C(this._delegate,y,w),e;case"child_changed":return vm(this._delegate,y,w),e;case"child_moved":return eo(this._delegate,y,w),e;default:throw new Error((0,L.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,r){if((0,L.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,L.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,L.Wj)("Query.off","callback",e,!0),(0,L.lb)("Query.off","context",r,!0),e){const a=()=>{};a.userCallback=e,a.context=r,My(this._delegate,t,a)}else My(this._delegate,t)}get(){return ob(this._delegate).then(t=>new $a(this.database,t))}once(t,e,r,a){(0,L.Dv)("Query.once",1,4,arguments.length),(0,L.Wj)("Query.once","callback",e,!0);const c=Nr.getCancelAndContextArgs_("Query.once",r,a),f=new L.BH,y=(I,N)=>{const P=new $a(this.database,I);e&&e.call(c.context,P,N),f.resolve(P)};y.userCallback=e,y.context=c.context;const w=I=>{c.cancel&&c.cancel.call(c.context,I),f.reject(I)};switch(t){case"value":jC(this._delegate,y,w,{onlyOnce:!0});break;case"child_added":ym(this._delegate,y,w,{onlyOnce:!0});break;case"child_removed":$C(this._delegate,y,w,{onlyOnce:!0});break;case"child_changed":vm(this._delegate,y,w,{onlyOnce:!0});break;case"child_moved":eo(this._delegate,y,w,{onlyOnce:!0});break;default:throw new Error((0,L.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return f.promise}limitToFirst(t){return(0,L.Dv)("Query.limitToFirst",1,1,arguments.length),new Nr(this.database,no(this._delegate,function ep(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ry(n)}(t)))}limitToLast(t){return(0,L.Dv)("Query.limitToLast",1,1,arguments.length),new Nr(this.database,no(this._delegate,function ZC(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new cb(n)}(t)))}orderByChild(t){return(0,L.Dv)("Query.orderByChild",1,1,arguments.length),new Nr(this.database,no(this._delegate,function hb(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Jf("orderByChild","path",n,!1),new db(n)}(t)))}orderByKey(){return(0,L.Dv)("Query.orderByKey",0,0,arguments.length),new Nr(this.database,no(this._delegate,function KC(){return new qC}()))}orderByPriority(){return(0,L.Dv)("Query.orderByPriority",0,0,arguments.length),new Nr(this.database,no(this._delegate,function fb(){return new Em}()))}orderByValue(){return(0,L.Dv)("Query.orderByValue",0,0,arguments.length),new Nr(this.database,no(this._delegate,function QC(){return new YC}()))}startAt(t=null,e){return(0,L.Dv)("Query.startAt",0,2,arguments.length),new Nr(this.database,no(this._delegate,function ab(n=null,t){return ih("startAt","key",t,!0),new zC(n,t)}(t,e)))}startAfter(t=null,e){return(0,L.Dv)("Query.startAfter",0,2,arguments.length),new Nr(this.database,no(this._delegate,function ub(n,t){return ih("startAfter","key",t,!0),new lb(n,t)}(t,e)))}endAt(t=null,e){return(0,L.Dv)("Query.endAt",0,2,arguments.length),new Nr(this.database,no(this._delegate,function to(n,t){return ih("endAt","key",t,!0),new Ns(n,t)}(t,e)))}endBefore(t=null,e){return(0,L.Dv)("Query.endBefore",0,2,arguments.length),new Nr(this.database,no(this._delegate,function WC(n,t){return ih("endBefore","key",t,!0),new GC(n,t)}(t,e)))}equalTo(t,e){return(0,L.Dv)("Query.equalTo",1,2,arguments.length),new Nr(this.database,no(this._delegate,function pb(n,t){return ih("equalTo","key",t,!0),new JC(n,t)}(t,e)))}toString(){return(0,L.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,L.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,L.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Nr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,r){const a={cancel:void 0,context:void 0};if(e&&r)a.cancel=e,(0,L.Wj)(t,"cancel",a.cancel,!0),a.context=r,(0,L.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,L.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new ji(this.database,new as(this._delegate._repo,this._delegate._path))}}class ji extends Nr{constructor(t,e){super(t,new os(e._repo,e._path,new Ig,!1)),this.database=t,this._delegate=e}getKey(){return(0,L.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,L.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ji(this.database,vc(this._delegate,t))}getParent(){(0,L.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ji(this.database,t):null}getRoot(){return(0,L.Dv)("Reference.root",0,0,arguments.length),new ji(this.database,this._delegate.root)}set(t,e){(0,L.Dv)("Reference.set",1,2,arguments.length),(0,L.Wj)("Reference.set","onComplete",e,!0);const r=mm(this._delegate,t);return e&&r.then(()=>e(null),a=>e(a)),r}update(t,e){if((0,L.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,ky("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}is("Reference.update",this._delegate._path),(0,L.Wj)("Reference.update","onComplete",e,!0);const r=sb(this._delegate,t);return e&&r.then(()=>e(null),a=>e(a)),r}setWithPriority(t,e,r){(0,L.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,L.Wj)("Reference.setWithPriority","onComplete",r,!0);const a=function ah(n,t,e){if(is("setWithPriority",n._path),Ha("setWithPriority",t,n._path,!1),gy("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new L.BH;return am(n._repo,n._path,t,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,e);return r&&a.then(()=>r(null),c=>r(c)),a}remove(t){(0,L.Dv)("Reference.remove",0,1,arguments.length),(0,L.Wj)("Reference.remove","onComplete",t,!0);const e=function ib(n){return is("remove",n._path),mm(n,null)}(this._delegate);return t&&e.then(()=>t(null),r=>t(r)),e}transaction(t,e,r){(0,L.Dv)("Reference.transaction",1,3,arguments.length),(0,L.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,L.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,L.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const a=function bb(n,t,e){var r;if(n=(0,L.m9)(n),is("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(r=e?.applyLocally)||void 0===r||r,c=new L.BH,y=jC(n,()=>{});return function nb(n,t,e,r,a,c){_c(n,"transaction on "+t);const f={path:t,update:e,onComplete:r,status:null,order:Qu(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},y=Cy(n,t,void 0);f.currentInputSnapshot=y;const w=f.update(y.val());if(void 0===w)f.unwatcher(),f.currentOutputSnapshotRaw=null,f.currentOutputSnapshotResolved=null,f.onComplete&&f.onComplete(null,!1,f.currentInputSnapshot);else{Qf("transaction failed: Data returned ",w,f.path),f.status=0;const I=Qg(n.transactionQueueTree_,t),N=pc(I)||[];let P;N.push(f),qf(I,N),"object"==typeof w&&null!==w&&(0,L.r3)(w,".priority")?(P=(0,L.DV)(w,".priority"),(0,L.hu)(Zl(P),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):P=(Ba(n.serverSyncTree_,t)||Ft.EMPTY_NODE).getPriority().val();const G=sh(n),se=Un(w,P),le=uy(se,y,G);f.currentOutputSnapshotRaw=se,f.currentOutputSnapshotResolved=le,f.currentWriteId=mc(n);const me=Wf(n.serverSyncTree_,t,le,f.currentWriteId,f.applyLocally);ss(n.eventQueue_,t,me),um(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(w,I,N)=>{let P=null;w?c.reject(w):(P=new yc(N,new as(n._repo,n._path),wn),c.resolve(new Tb(I,P)))},y,a),c.promise}(this._delegate,t,{applyLocally:r}).then(c=>new lw(c.committed,new $a(this.database,c.snapshot)));return e&&a.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),a}setPriority(t,e){(0,L.Dv)("Reference.setPriority",1,2,arguments.length),(0,L.Wj)("Reference.setPriority","onComplete",e,!0);const r=function HC(n,t){n=(0,L.m9)(n),is("setPriority",n._path),gy("setPriority",t,!1);const e=new L.BH;return am(n._repo,Vn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&r.then(()=>e(null),a=>e(a)),r}push(t,e){(0,L.Dv)("Reference.push",0,2,arguments.length),(0,L.Wj)("Reference.push","onComplete",e,!0);const r=function BC(n,t){n=(0,L.m9)(n),is("push",n._path),Ha("push",t,n._path,!0);const e=om(n._repo),r=by(e),a=vc(n,r),c=vc(n,r);let f;return f=null!=t?mm(c,t).then(()=>c):Promise.resolve(c),a.then=f.then.bind(f),a.catch=f.then.bind(f,void 0),a}(this._delegate,t),a=r.then(f=>new ji(this.database,f));e&&a.then(()=>e(null),f=>e(f));const c=new ji(this.database,r);return c.then=a.then.bind(a),c.catch=a.catch.bind(a,void 0),c}onDisconnect(){return is("Reference.onDisconnect",this._delegate._path),new aw(new pm(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class dh{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:gb,forceLongPolling:mb}}useEmulator(t,e,r={}){!function iw(n,t,e,r={}){(n=(0,L.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Uo("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let c;if(a.repoInfo_.nodeAdmin)r.mockUserToken&&Uo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Pn(Pn.OWNER);else if(r.mockUserToken){const f="string"==typeof r.mockUserToken?r.mockUserToken:(0,L.Sg)(r.mockUserToken,n.app.options.projectId);c=new Pn(f)}!function XC(n,t,e,r){n.repoInfo_=new tc(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(a,t,e,c)}(this._delegate,t,e,r)}ref(t){if((0,L.Dv)("database.ref",0,1,arguments.length),t instanceof ji){const e=Ay(this._delegate,t.toString());return new ji(this,e)}{const e=_r(this._delegate,t);return new ji(this,e)}}refFromURL(t){(0,L.Dv)("database.refFromURL",1,1,arguments.length);const r=Ay(this._delegate,t);return new ji(this,r)}goOffline(){return(0,L.Dv)("database.goOffline",0,0,arguments.length),function _b(n){(n=(0,L.m9)(n))._checkNotDeleted("goOffline"),Ey(n._repo)}(this._delegate)}goOnline(){return(0,L.Dv)("database.goOnline",0,0,arguments.length),function yb(n){(n=(0,L.m9)(n))._checkNotDeleted("goOnline"),function kC(n){n.persistentConnection_&&n.persistentConnection_.resume(rm)}(n._repo)}(this._delegate)}}dh.ServerValue={TIMESTAMP:function wb(){return Cb}(),increment:n=>function Db(n){return{".sv":{increment:n}}}(n)};var Fy=Object.freeze({__proto__:null,initStandalone:function uw({app:n,url:t,version:e,customAuthImpl:r,namespace:a,nodeAdmin:c=!1}){Vl(e);const f=new Pa.zt("auth-internal",new Pa.H0("database-standalone"));return f.setComponent(new Pa.wA("auth-internal",()=>r,"PRIVATE")),{instance:new dh(Oy(n,f,void 0,t,c),n),namespace:a}}});const Ec=dh.ServerValue;!function Mb(n){n.INTERNAL.registerComponent(new Pa.wA("database-compat",(t,{instanceIdentifier:e})=>{const r=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new dh(a,r)},"PUBLIC").setServiceProps({Reference:ji,Query:Nr,Database:dh,DataSnapshot:$a,enableLogging:vb,INTERNAL:Fy,ServerValue:Ec}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(BD.Z);var $i=O(7579),Ga=O(5363),fA=O(6063);class Ly extends $i.x{constructor(t=1/0,e=1/0,r=fA.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:a,_timestampProvider:c,_windowTime:f}=this;e||(r.push(t),!a&&r.push(c.now()+f)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:a}=this,c=a.slice();for(let f=0;f<c.length&&!t.closed;f+=r?1:2)t.next(c[f]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:a}=this,c=(a?1:2)*t;if(t<1/0&&c<r.length&&r.splice(0,r.length-c),!a){const f=e.now();let y=0;for(let w=1;w<r.length&&r[w]<=f;w+=2)y=w;y&&r.splice(0,y+1)}}}function Rb(n,t,e){let r,a=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:e}=n):r=n??1/0,(0,bf.B)({connector:()=>new Ly(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}const tp=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Wa(n,t){return(0,ns.e)((e,r)=>{let a=0;e.subscribe((0,Nn.x)(r,c=>n.call(t,c,a++)&&r.next(c)))})}var ct=O(515);function hh(n){return n<=0?()=>ct.E:(0,ns.e)((t,e)=>{let r=0;t.subscribe((0,Nn.x)(e,a=>{++r<=n&&(e.next(a),n<=r&&e.complete())}))})}function Cm(n){return(0,ns.e)((t,e)=>{let r=!1;t.subscribe((0,Nn.x)(e,a=>{r=!0,e.next(a)},()=>{r||e.next(n),e.complete()}))})}function dw(n=fh){return(0,ns.e)((t,e)=>{let r=!1;t.subscribe((0,Nn.x)(e,a=>{r=!0,e.next(a)},()=>r?e.complete():e.error(n())))})}function fh(){return new tp}function Ql(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Wa((a,c)=>n(a,c,r)):Fl.y,hh(1),e?Cm(t):dw(()=>new tp))}var Jl=O(576);function np(n,t){return(0,Jl.m)(t)?(0,Tr.w)(()=>n,t):(0,Tr.w)(()=>n)}var Bn=O(9468);O(259);const Tm=new Map,pw={activated:!1,tokenObservers:[]},ip={initialized:!1,enabled:!1};function Tn(n){return Tm.get(n)||Object.assign({},pw)}function bm(){return ip}const Uy="https://content-firebaseappcheck.googleapis.com/v1",_w="exchangeDebugToken",yw={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ub{constructor(t,e,r,a,c){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ll.Z)(function*(){e.stop();try{e.pending=new L.BH,yield function Bb(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new L.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const li=new L.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ew(n){if(!Tn(n).activated)throw li.create("use-before-activation",{appName:n.name})}function Sm(n,t){return Hy.apply(this,arguments)}function Hy(){return(Hy=(0,Ll.Z)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});if(a){const P=yield a.getHeartbeatsHeader();P&&(r["X-Firebase-Client"]=P)}const c={method:"POST",body:JSON.stringify(t),headers:r};let f,y;try{f=yield fetch(n,c)}catch(P){throw li.create("fetch-network-error",{originalErrorMessage:P?.message})}if(200!==f.status)throw li.create("fetch-status-error",{httpStatus:f.status});try{y=yield f.json()}catch(P){throw li.create("fetch-parse-error",{originalErrorMessage:P?.message})}const w=y.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw li.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const I=1e3*Number(w[1]),N=Date.now();return{token:y.token,expireTimeMillis:N+I,issuedAtTimeMillis:N}})).apply(this,arguments)}function ww(n,t){const{projectId:e,appId:r,apiKey:a}=n.options;return{url:`${Uy}/projects/${e}/apps/${r}:${_w}?key=${a}`,body:{debug_token:t}}}const Hb="firebase-app-check-database",jb=1,op="firebase-app-check-store";let Am=null;function Gy(){return(Gy=(0,Ll.Z)(function*(n,t){const r=(yield function jy(){return Am||(Am=new Promise((n,t)=>{try{const e=indexedDB.open(Hb,jb);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var a;t(li.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(op,{keyPath:"compositeKey"})}}catch(e){t(li.create("storage-open",{originalErrorMessage:e?.message}))}}),Am)}()).transaction(op,"readwrite"),c=r.objectStore(op).put({compositeKey:n,value:t});return new Promise((f,y)=>{c.onsuccess=w=>{f()},r.onerror=w=>{var I;y(li.create("storage-set",{originalErrorMessage:null===(I=w.target.error)||void 0===I?void 0:I.message}))}})})).apply(this,arguments)}const lp=new Nd.Yd("@firebase/app-check");function Mm(n,t){return(0,L.hl)()?function Wb(n,t){return function $y(n,t){return Gy.apply(this,arguments)}(function Zy(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{lp.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Qy(){return bm().enabled}function Jy(){return up.apply(this,arguments)}function up(){return(up=(0,Ll.Z)(function*(){const n=bm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Tw={error:"UNKNOWN_ERROR"};function qb(n){return L.US.encodeString(JSON.stringify(n),!1)}function Rm(n){return Xy.apply(this,arguments)}function Xy(){return(Xy=(0,Ll.Z)(function*(n,t=!1){const e=n.app;Ew(e);const r=Tn(e);let c,a=r.token;if(a&&!ph(a)&&(r.token=void 0,a=void 0),!a){const w=yield r.cachedTokenPromise;w&&(ph(w)?a=w:yield Mm(e,void 0))}if(!t&&a&&ph(a))return{token:a.token};let y,f=!1;if(Qy()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Sm(ww(e,yield Jy()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),f=!0);const w=yield r.exchangeTokenPromise;return yield Mm(e,w),r.token=w,{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),f=!0),a=yield Tn(e).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?lp.warn(w.message):lp.error(w),c=w}return a?c?y=ph(a)?{token:a.token,internalError:c}:Aw(c):(y={token:a.token},r.token=a,yield Mm(e,a)):y=Aw(c),f&&function rv(n,t){const e=Tn(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}(e,y),y})).apply(this,arguments)}function bw(n){return ev.apply(this,arguments)}function ev(){return(ev=(0,Ll.Z)(function*(n){const t=n.app;Ew(t);const{provider:e}=Tn(t);if(Qy()){const r=yield Jy(),{token:a}=yield Sm(ww(t,r),n.heartbeatServiceProvider);return{token:a}}{const{token:r}=yield e.getToken();return{token:r}}})).apply(this,arguments)}function nv(n,t){const e=Tn(n),r=e.tokenObservers.filter(a=>a.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=r}function Iw(n){const{app:t}=n,e=Tn(t);let r=e.tokenRefresher;r||(r=function Sw(n){const{app:t}=n;return new Ub((0,Ll.Z)(function*(){let r;if(r=Tn(t).token?yield Rm(n,!0):yield Rm(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const e=Tn(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},yw.RETRIAL_MIN_WAIT,yw.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=r),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function ph(n){return n.expireTimeMillis-Date.now()>0}function Aw(n){return{token:qb(Tw),error:n}}class Mw{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Tn(this.app);for(const e of t)nv(this.app,e.next);return Promise.resolve()}}const Fw="app-check-internal";!function oI(){(0,qs._registerComponent)(new Pa.wA("app-check",n=>function Kb(n,t){return new Mw(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Fw).initialize()})),(0,qs._registerComponent)(new Pa.wA(Fw,n=>function Yb(n){return{getToken:t=>Rm(n,t),getLimitedUseToken:()=>bw(n),addTokenListener:t=>function tv(n,t,e,r){const{app:a}=n,c=Tn(a);if(c.tokenObservers=[...c.tokenObservers,{next:e,error:r,type:t}],c.token&&ph(c.token)){const y=c.token;Promise.resolve().then(()=>{e({token:y.token}),Iw(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>Iw(n))}(n,"INTERNAL",t),removeTokenListener:t=>nv(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,qs.registerVersion)("@firebase/app-check","0.8.0")}();class Lm{constructor(){return(0,As.vb)("app-check")}}typeof window<"u"&&window;var dI=O(9260);const mh=new u.OlP("angularfire2.auth.use-emulator"),uv=new u.OlP("angularfire2.auth.settings"),cv=new u.OlP("angularfire2.auth.tenant-id"),dv=new u.OlP("angularfire2.auth.langugage-code"),hv=new u.OlP("angularfire2.auth.use-device-language"),fv=new u.OlP("angularfire.auth.persistence"),Vw=(n,t,e,r,a,c,f,y)=>(0,ii.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=t.runOutsideAngular(()=>n.auth());if(e&&w.useEmulator(...e),r&&(w.tenantId=r),w.languageCode=a,c&&w.useDeviceLanguage(),f)for(const[I,N]of Object.entries(f))w.settings[I]=N;return y&&w.setPersistence(y),w},[e,r,a,c,f,y]);let Uw=(()=>{class n{constructor(e,r,a,c,f,y,w,I,N,P,G,se){const le=new $i.x,me=(0,dt.of)(void 0).pipe((0,Ga.Q)(f.outsideAngular),(0,Tr.w)(()=>c.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,2644)))),(0,_t.U)(()=>(0,ii.on)(e,c,r)),(0,_t.U)(He=>Vw(He,c,y,I,N,P,w,G)),Rb({bufferSize:1,refCount:!1}));if(mo(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,dt.of)(null);else{me.pipe(Ql()).subscribe();const vt=me.pipe((0,Tr.w)(Dt=>Dt.getRedirectResult().then(zn=>zn,()=>null)),As.iC,Rb({bufferSize:1,refCount:!1})),Nt=me.pipe((0,Tr.w)(Dt=>new Kn.y(zn=>({unsubscribe:c.runOutsideAngular(()=>Dt.onAuthStateChanged(Pr=>zn.next(Pr),Pr=>zn.error(Pr),()=>zn.complete()))})))),bt=me.pipe((0,Tr.w)(Dt=>new Kn.y(zn=>({unsubscribe:c.runOutsideAngular(()=>Dt.onIdTokenChanged(Pr=>zn.next(Pr),Pr=>zn.error(Pr),()=>zn.complete()))}))));this.authState=vt.pipe(np(Nt),(0,Bn.R)(f.outsideAngular),(0,Ga.Q)(f.insideAngular)),this.user=vt.pipe(np(bt),(0,Bn.R)(f.outsideAngular),(0,Ga.Q)(f.insideAngular)),this.idToken=this.user.pipe((0,Tr.w)(Dt=>Dt?(0,gn.D)(Dt.getIdToken()):(0,dt.of)(null))),this.idTokenResult=this.user.pipe((0,Tr.w)(Dt=>Dt?(0,gn.D)(Dt.getIdTokenResult()):(0,dt.of)(null))),this.credential=(0,Ku.T)(vt,le,this.authState.pipe(Wa(Dt=>!Dt))).pipe((0,_t.U)(Dt=>Dt?.user?Dt:null),(0,Bn.R)(f.outsideAngular),(0,Ga.Q)(f.insideAngular))}return(0,ii.pX)(this,me,c,{spy:{apply:(He,vt,Nt)=>{(He.startsWith("signIn")||He.startsWith("createUser"))&&Nt.then(bt=>le.next(bt))}}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ii.Dh),u.LFG(ii.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(As.HU),u.LFG(mh,8),u.LFG(uv,8),u.LFG(cv,8),u.LFG(dv,8),u.LFG(hv,8),u.LFG(fv,8),u.LFG(Lm,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Bw(n){return null==n}function Hw(n){return"function"==typeof n.set}function jw(n,t){return Hw(t)?t:n.ref(t)}function _h(n,t){if(function fI(n){return"string"==typeof n}(n))return t.stringCase();if(Hw(n))return t.firebaseCase();if(function pI(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function cp(n,t,e="on",r=Md.z){return new Kn.y(a=>{let c=null;return c=n[e](t,(f,y)=>{r.schedule(()=>{a.next({snapshot:f,prevKey:y})}),"once"===e&&r.schedule(()=>a.complete())},f=>{r.schedule(()=>a.error(f))}),"on"===e?{unsubscribe(){null!=c&&n.off(t,c)}}:{unsubscribe(){}}}).pipe((0,_t.U)(a=>{const{snapshot:c,prevKey:f}=a;let y=null;return c.exists()&&(y=c.key),{type:t,payload:c,prevKey:f,key:y}}),(0,bf.B)())}function ro(n,t){const e=n.length;for(let r=0;r<e;r++)if(n[r].payload.key===t)return r;return-1}function gv(n,t){const{payload:e,prevKey:r,key:a}=t,c=ro(n,a),f=function gI(n,t){if(Bw(t))return 0;{const e=ro(n,t);return-1===e?n.length:e+1}}(n,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let y=null;t.payload.forEach(w=>{const I={payload:w,type:"value",prevKey:y,key:w.key};return y=w.key,n=[...n,I],!1})}return n;case"child_added":if(c>-1){const y=n[c-1];(y&&y.key||null)!==r&&(n=n.filter(w=>w.payload.key!==e.key)).splice(f,0,t)}else{if(null==r)return[t,...n];(n=n.slice()).splice(f,0,t)}return n;case"child_removed":return n.filter(y=>y.payload.key!==e.key);case"child_changed":return n.map(y=>y.payload.key===a?t:y);case"child_moved":if(c>-1){const y=n.splice(c,1)[0];return(n=n.slice()).splice(f,0,y),n}return n;default:return n}}function yh(n){return(Bw(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function $w(n,t,e){return function pv(n,t,e){return cp(n,"value","once",e).pipe((0,Tr.w)(r=>{const a=[(0,dt.of)(r)];return t.forEach(c=>a.push(cp(n,c,"on",e))),(0,Ku.T)(...a).pipe(Qp(gv,[]))}),(0,yE.x)())}(n,t=yh(t),e)}function Gw(n,t,e){const r=(t=yh(t)).map(a=>cp(n,a,"on",e));return(0,Ku.T)(...r)}function zw(n,t){return function(r,a){return _h(r,{stringCase:()=>n.child(r)[t](a),firebaseCase:()=>r[t](a),snapshotCase:()=>r.ref[t](a)})}}function _I(n){return function(e){return e?_h(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function Zw(n,t){return function(){return cp(n,"value","on",t)}}const qw=new u.OlP("angularfire2.realtimeDatabaseURL"),vI=new u.OlP("angularfire2.database.use-emulator");let Kw=(()=>{class n{constructor(e,r,a,c,f,y,w,I,N,P,G,se,le,me,He){this.schedulers=y;const vt=w,Nt=(0,ii.on)(e,f,r);I&&Vw(Nt,f,N,G,se,le,P,me),this.database=(0,ii.cc)(`${Nt.name}.database.${a}`,"AngularFireDatabase",Nt.name,()=>{const bt=f.runOutsideAngular(()=>Nt.database(a||void 0));return vt&&bt.useEmulator(...vt),bt},[vt])}list(e,r){const a=this.schedulers.ngZone.runOutsideAngular(()=>jw(this.database,e));let c=a;return r&&(c=r(a)),function mv(n,t){const e=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:zw(r,"update"),set:zw(r,"set"),push:a=>r.push(a),remove:_I(r),snapshotChanges:a=>$w(n,a,e).pipe(As.iC),stateChanges:a=>Gw(n,a,e).pipe(As.iC),auditTrail:a=>function mI(n,t,e){return function Ww(n,t,e){return function Um(n,t){return cp(n,"value","on",t).pipe((0,_t.U)(e=>{let r;return e.payload.forEach(a=>(r=a.key,!1)),{data:e,lastKeyToLoad:r}}))}(n,e).pipe(function Rd(...n){const t=(0,Hs.jO)(n);return(0,ns.e)((e,r)=>{const a=n.length,c=new Array(a);let f=n.map(()=>!1),y=!1;for(let w=0;w<a;w++)(0,Ea.Xf)(n[w]).subscribe((0,Nn.x)(r,I=>{c[w]=I,!y&&!f[w]&&(f[w]=!0,(y=f.every(Fl.y))&&(f=null))},w_.Z));e.subscribe((0,Nn.x)(r,w=>{if(y){const I=[w,...c];r.next(t?t(...I):I)}}))})}(t),(0,_t.U)(([a,c])=>{const f=a.lastKeyToLoad,y=c.map(w=>w.key);return{actions:c,lastKeyToLoad:f,loadedKeys:y}}),function UD(n){return(0,ns.e)((t,e)=>{let r=!1,a=0;t.subscribe((0,Nn.x)(e,c=>(r||(r=!n(c,a++)))&&e.next(c)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,_t.U)(a=>a.actions))}(n,Gw(n,t).pipe(Qp((a,c)=>[...a,c],[])),e)}(n,a,e).pipe(As.iC),valueChanges:(a,c)=>$w(n,a,e).pipe((0,_t.U)(y=>y.map(w=>c&&c.idField?Object.assign(Object.assign({},w.payload.val()),{[c.idField]:w.key}):w.payload.val())),As.iC)}}(c,this)}object(e){return function yI(n,t){return{query:n,snapshotChanges:()=>Zw(n,t.schedulers.outsideAngular)().pipe(As.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>Zw(n,t.schedulers.outsideAngular)().pipe(As.iC,(0,_t.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>jw(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ii.Dh),u.LFG(ii.xv,8),u.LFG(qw,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(As.HU),u.LFG(vI,8),u.LFG(Uw,8),u.LFG(mh,8),u.LFG(uv,8),u.LFG(cv,8),u.LFG(dv,8),u.LFG(hv,8),u.LFG(fv,8),u.LFG(Lm,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Yw=(()=>{class n{constructor(){dI.Z.registerVersion("angularfire",As.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Kw]}),n})();const Bm_firebase={apiKey:"AIzaSyD0-fJViNe8ComHqnnddoTCrJqXMpo5V38",authDomain:"crud-angular-74351.firebaseapp.com",databaseURL:"https://crud-angular-74351-default-rtdb.firebaseio.com",projectId:"crud-angular-74351",storageBucket:"crud-angular-74351.appspot.com",messagingSenderId:"711847779722",appId:"1:711847779722:web:39ca0e7101f20374387c73"};var Ii=O(5577);function vh(n,t){return(0,Jl.m)(t)?(0,Ii.z)(n,t,1):(0,Ii.z)(n,1)}function Eh(n){return(0,ns.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class dp{}class hp{}class io{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const a=e.slice(0,r),c=a.toLowerCase(),f=e.slice(r+1).trim();this.maybeSetNormalizedName(a,c),this.headers.has(c)?this.headers.get(c).push(f):this.headers.set(c,[f])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{let a;if(a="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(c=>c.toString()),a.length>0){const c=e.toLowerCase();this.headers.set(c,a),this.maybeSetNormalizedName(e,c)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof io?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new io;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof io?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const a=("a"===t.op?this.headers.get(e):void 0)||[];a.push(...r),this.headers.set(e,a);break;case"d":const c=t.value;if(c){let f=this.headers.get(e);if(!f)return;f=f.filter(y=>-1===c.indexOf(y)),0===f.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,f)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Qw{encodeKey(t){return Hm(t)}encodeValue(t){return Hm(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const EI=/%(\d[a-f0-9])/gi,CI={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Hm(n){return encodeURIComponent(n).replace(EI,(t,e)=>CI[e]??t)}function Ch(n){return`${n}`}class za{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Qw,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Jw(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{const c=a.indexOf("="),[f,y]=-1==c?[t.decodeKey(a),""]:[t.decodeKey(a.slice(0,c)),t.decodeValue(a.slice(c+1))],w=e.get(f)||[];w.push(y),e.set(f,w)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],a=Array.isArray(r)?r.map(Ch):[Ch(r)];this.map.set(e,a)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const a=t[r];Array.isArray(a)?a.forEach(c=>{e.push({param:r,value:c,op:"a"})}):e.push({param:r,value:a,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new za({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Ch(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const a=r.indexOf(Ch(t.value));-1!==a&&r.splice(a,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class _v{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function e0(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function t0(n){return typeof Blob<"u"&&n instanceof Blob}function n0(n){return typeof FormData<"u"&&n instanceof FormData}class wc{constructor(t,e,r,a){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function wI(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==r?r:null,c=a):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new io),this.context||(this.context=new _v),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=e;else{const y=e.indexOf("?");this.urlWithParams=e+(-1===y?"?":y<e.length-1?"&":"")+f}}else this.params=new za,this.urlWithParams=e}serializeBody(){return null===this.body?null:e0(this.body)||t0(this.body)||n0(this.body)||function r0(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof za?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||n0(this.body)?null:t0(this.body)?this.body.type||null:e0(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof za?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,a=t.responseType||this.responseType,c=void 0!==t.body?t.body:this.body,f=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,y=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let w=t.headers||this.headers,I=t.params||this.params;const N=t.context??this.context;return void 0!==t.setHeaders&&(w=Object.keys(t.setHeaders).reduce((P,G)=>P.set(G,t.setHeaders[G]),w)),t.setParams&&(I=Object.keys(t.setParams).reduce((P,G)=>P.set(G,t.setParams[G]),I)),new wc(e,r,c,{params:I,headers:w,context:N,reportProgress:y,responseType:a,withCredentials:f})}}var ar=(()=>((ar=ar||{})[ar.Sent=0]="Sent",ar[ar.UploadProgress=1]="UploadProgress",ar[ar.ResponseHeader=2]="ResponseHeader",ar[ar.DownloadProgress=3]="DownloadProgress",ar[ar.Response=4]="Response",ar[ar.User=5]="User",ar))();class yv{constructor(t,e=200,r="OK"){this.headers=t.headers||new io,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class jm extends yv{constructor(t={}){super(t),this.type=ar.ResponseHeader}clone(t={}){return new jm({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Dc extends yv{constructor(t={}){super(t),this.type=ar.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Dc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class s0 extends yv{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function $m(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let vv=(()=>{class n{constructor(e){this.handler=e}request(e,r,a={}){let c;if(e instanceof wc)c=e;else{let w,I;w=a.headers instanceof io?a.headers:new io(a.headers),a.params&&(I=a.params instanceof za?a.params:new za({fromObject:a.params})),c=new wc(e,r,void 0!==a.body?a.body:null,{headers:w,context:a.context,params:I,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const f=(0,dt.of)(c).pipe(vh(w=>this.handler.handle(w)));if(e instanceof wc||"events"===a.observe)return f;const y=f.pipe(Wa(w=>w instanceof Dc));switch(a.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return y.pipe((0,_t.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return y.pipe((0,_t.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return y.pipe((0,_t.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return y.pipe((0,_t.U)(w=>w.body))}case"response":return y;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new za).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,a={}){return this.request("PATCH",e,$m(a,r))}post(e,r,a={}){return this.request("POST",e,$m(a,r))}put(e,r,a={}){return this.request("PUT",e,$m(a,r))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(dp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function o0(n,t){return t(n)}function a0(n,t){return(e,r)=>t.intercept(e,{handle:a=>n(a,r)})}const Si=new u.OlP(""),zo=new u.OlP(""),l0=new u.OlP("");function TI(){let n=null;return(t,e)=>{null===n&&(n=((0,u.f3M)(Si,{optional:!0})??[]).reduceRight(a0,o0));const r=(0,u.f3M)(u.HDt),a=r.add();return n(t,e).pipe(Eh(()=>r.remove(a)))}}let bI=(()=>{class n extends dp{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null,this.pendingTasks=(0,u.f3M)(u.HDt)}handle(e){if(null===this.chain){const a=Array.from(new Set([...this.injector.get(zo),...this.injector.get(l0,[])]));this.chain=a.reduceRight((c,f)=>function DI(n,t,e){return(r,a)=>e.runInContext(()=>t(r,c=>n(c,a)))}(c,f,this.injector),o0)}const r=this.pendingTasks.add();return this.chain(e,a=>this.backend.handle(a)).pipe(Eh(()=>this.pendingTasks.remove(r)))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(hp),u.LFG(u.lqb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ev=/^\)\]\}',?\n/;let p0=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new u.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,gn.D)(r.\u0275loadImpl()):(0,dt.of)(null)).pipe((0,Tr.w)(()=>new Kn.y(c=>{const f=r.build();if(f.open(e.method,e.urlWithParams),e.withCredentials&&(f.withCredentials=!0),e.headers.forEach((me,He)=>f.setRequestHeader(me,He.join(","))),e.headers.has("Accept")||f.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const me=e.detectContentTypeHeader();null!==me&&f.setRequestHeader("Content-Type",me)}if(e.responseType){const me=e.responseType.toLowerCase();f.responseType="json"!==me?me:"text"}const y=e.serializeBody();let w=null;const I=()=>{if(null!==w)return w;const me=f.statusText||"OK",He=new io(f.getAllResponseHeaders()),vt=function f0(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(f)||e.url;return w=new jm({headers:He,status:f.status,statusText:me,url:vt}),w},N=()=>{let{headers:me,status:He,statusText:vt,url:Nt}=I(),bt=null;204!==He&&(bt=typeof f.response>"u"?f.responseText:f.response),0===He&&(He=bt?200:0);let Dt=He>=200&&He<300;if("json"===e.responseType&&"string"==typeof bt){const zn=bt;bt=bt.replace(Ev,"");try{bt=""!==bt?JSON.parse(bt):null}catch(Pr){bt=zn,Dt&&(Dt=!1,bt={error:Pr,text:bt})}}Dt?(c.next(new Dc({body:bt,headers:me,status:He,statusText:vt,url:Nt||void 0})),c.complete()):c.error(new s0({error:bt,headers:me,status:He,statusText:vt,url:Nt||void 0}))},P=me=>{const{url:He}=I(),vt=new s0({error:me,status:f.status||0,statusText:f.statusText||"Unknown Error",url:He||void 0});c.error(vt)};let G=!1;const se=me=>{G||(c.next(I()),G=!0);let He={type:ar.DownloadProgress,loaded:me.loaded};me.lengthComputable&&(He.total=me.total),"text"===e.responseType&&f.responseText&&(He.partialText=f.responseText),c.next(He)},le=me=>{let He={type:ar.UploadProgress,loaded:me.loaded};me.lengthComputable&&(He.total=me.total),c.next(He)};return f.addEventListener("load",N),f.addEventListener("error",P),f.addEventListener("timeout",P),f.addEventListener("abort",P),e.reportProgress&&(f.addEventListener("progress",se),null!==y&&f.upload&&f.upload.addEventListener("progress",le)),f.send(y),c.next({type:ar.Sent}),()=>{f.removeEventListener("error",P),f.removeEventListener("abort",P),f.removeEventListener("load",N),f.removeEventListener("timeout",P),e.reportProgress&&(f.removeEventListener("progress",se),null!==y&&f.upload&&f.upload.removeEventListener("progress",le)),f.readyState!==f.DONE&&f.abort()}})))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG($n))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const wh=new u.OlP("XSRF_ENABLED"),MI=new u.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),m0=new u.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class wv{}let Dh=(()=>{class n{constructor(e,r,a){this.doc=e,this.platform=r,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=gs(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ae),u.LFG(u.Lbi),u.LFG(MI))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function RI(n,t){const e=n.url.toLowerCase();if(!(0,u.f3M)(wh)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const r=(0,u.f3M)(wv).getToken(),a=(0,u.f3M)(m0);return null!=r&&!n.headers.has(a)&&(n=n.clone({headers:n.headers.set(a,r)})),t(n)}var Wn=(()=>((Wn=Wn||{})[Wn.Interceptors=0]="Interceptors",Wn[Wn.LegacyInterceptors=1]="LegacyInterceptors",Wn[Wn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Wn[Wn.NoXsrfProtection=3]="NoXsrfProtection",Wn[Wn.JsonpSupport=4]="JsonpSupport",Wn[Wn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Wn))();function fp(n,t){return{\u0275kind:n,\u0275providers:t}}function PI(...n){const t=[vv,p0,bI,{provide:dp,useExisting:bI},{provide:hp,useExisting:p0},{provide:zo,useValue:RI,multi:!0},{provide:wh,useValue:!0},{provide:wv,useClass:Dh}];for(const e of n)t.push(...e.\u0275providers);return(0,u.MR2)(t)}const _0=new u.OlP("LEGACY_INTERCEPTOR_FN");let y0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[PI(fp(Wn.LegacyInterceptors,[{provide:_0,useFactory:TI},{provide:zo,useExisting:_0,multi:!0}]))]}),n})();class D0{}class UI{}const Xl="*";function T0(n,t){return{type:7,name:n,definitions:t,options:{}}}function BI(n,t=null){return{type:4,styles:t,timings:n}}function HI(n,t=null){return{type:2,steps:n,options:t}}function zm(n){return{type:6,styles:n,offset:null}}function b0(n,t,e){return{type:0,name:n,styles:t,options:e}}function jI(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function S0(n){Promise.resolve().then(n)}class eu{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){S0(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class A0{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,a=0;const c=this.players.length;0==c?S0(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++e==c&&this._onFinish()}),f.onDestroy(()=>{++r==c&&this._onDestroy()}),f.onStart(()=>{++a==c&&this._onStart()})}),this.totalTime=this.players.reduce((f,y)=>Math.max(f,y.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const a=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(a)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const M0="!";function WI(n){return new u.vHH(3e3,!1)}function nu(n){switch(n.length){case 0:return new eu;case 1:return n[0];default:return new A0(n)}}function iS(n,t,e=new Map,r=new Map){const a=[],c=[];let f=-1,y=null;if(t.forEach(w=>{const I=w.get("offset"),N=I==f,P=N&&y||new Map;w.forEach((G,se)=>{let le=se,me=G;if("offset"!==se)switch(le=n.normalizePropertyName(le,a),me){case M0:me=e.get(se);break;case Xl:me=r.get(se);break;default:me=n.normalizeStyleValue(se,le,me,a)}P.set(le,me)}),N||c.push(P),y=P,f=I}),a.length)throw function eS(n){return new u.vHH(3502,!1)}();return c}function Zm(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&Mv(e,"start",n)));break;case"done":n.onDone(()=>r(e&&Mv(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&Mv(e,"destroy",n)))}}function Mv(n,t,e){const c=Rv(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),f=n._data;return null!=f&&(c._data=f),c}function Rv(n,t,e,r,a="",c=0,f){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:a,totalTime:c,disabled:!!f}}function ls(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function H0(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const j0=(()=>typeof document>"u"?null:document.documentElement)();function $0(n){const t=n.parentNode||n.host||null;return t===j0?null:t}let Tc=null,Nv=!1;function Pv(n,t){for(;t;){if(t===n)return!0;t=$0(t)}return!1}function Z0(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]}let Ov=(()=>{class n{validateStyleProperty(e){return function VA(n){Tc||(Tc=function z0(){return typeof document<"u"?document.body:null}()||{},Nv=!!Tc.style&&"WebkitAppearance"in Tc.style);let t=!0;return Tc.style&&!function G0(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Tc.style,!t&&Nv&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Tc.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return Pv(e,r)}getParentElement(e){return $0(e)}query(e,r,a){return Z0(e,r,a)}computeStyle(e,r,a){return a||""}animate(e,r,a,c,f,y=[],w){return new eu(a,c)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ru=(()=>{class n{}return n.NOOP=new Ov,n})();const qm=1e3,kv="ng-enter",Km="ng-leave",Fv="ng-trigger",pp=".ng-trigger",K0="ng-animating",Lv=".ng-animating";function iu(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Y0(parseFloat(t[1]),t[2])}function Y0(n,t){return"s"===t?n*qm:n}function Vv(n,t,e){return n.hasOwnProperty("duration")?n:function Q0(n,t,e){let a,c=0,f="";if("string"==typeof n){const y=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===y)return t.push(WI()),{duration:0,delay:0,easing:""};a=Y0(parseFloat(y[1]),y[2]);const w=y[3];null!=w&&(c=Y0(parseFloat(w),y[4]));const I=y[5];I&&(f=I)}else a=n;if(!e){let y=!1,w=t.length;a<0&&(t.push(function R0(){return new u.vHH(3100,!1)}()),y=!0),c<0&&(t.push(function zI(){return new u.vHH(3101,!1)}()),y=!0),y&&t.splice(w,0,WI())}return{duration:a,delay:c,easing:f}}(n,t,e)}function gp(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function J0(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function bc(n,t=new Map,e){if(e)for(let[r,a]of e)t.set(r,a);for(let[r,a]of n)t.set(r,a);return t}function Za(n,t,e){t.forEach((r,a)=>{const c=Qm(a);e&&!e.has(a)&&e.set(a,n.style[c]),n.style[c]=r})}function Th(n,t){t.forEach((e,r)=>{const a=Qm(r);n.style[a]=""})}function Ym(n){return Array.isArray(n)?1==n.length?n[0]:HI(n):n}const bh=new RegExp("{{\\s*(.+?)\\s*}}","g");function X0(n){let t=[];if("string"==typeof n){let e;for(;e=bh.exec(n);)t.push(e[1]);bh.lastIndex=0}return t}function mp(n,t,e){const r=n.toString(),a=r.replace(bh,(c,f)=>{let y=t[f];return null==y&&(e.push(function qI(n){return new u.vHH(3003,!1)}()),y=""),y.toString()});return a==r?n:a}function _p(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Ic=/-+([a-z0-9])/g;function Qm(n){return n.replace(Ic,(...t)=>t[1].toUpperCase())}function Mi(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function xA(n){return new u.vHH(3004,!1)}()}}function Jm(n,t){return window.getComputedStyle(n)[t]}const Xm="*";function dS(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function hS(n,t,e){if(":"==n[0]){const w=function tD(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function XI(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof w)return void t.push(w);n=w}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function JI(n){return new u.vHH(3015,!1)}()),t;const a=r[1],c=r[2],f=r[3];t.push(nD(a,f));"<"==c[0]&&!(a==Xm&&f==Xm)&&t.push(nD(f,a))}(r,e,t)):e.push(n),e}const yp=new Set(["true","1"]),vp=new Set(["false","0"]);function nD(n,t){const e=yp.has(n)||vp.has(n),r=yp.has(t)||vp.has(t);return(a,c)=>{let f=n==Xm||n==a,y=t==Xm||t==c;return!f&&e&&"boolean"==typeof a&&(f=a?yp.has(n):vp.has(n)),!y&&r&&"boolean"==typeof c&&(y=c?yp.has(t):vp.has(t)),f&&y}}const iD=new RegExp("s*:selfs*,?","g");function Ep(n,t,e,r){return new sD(n).build(t,e,r)}class sD{constructor(t){this._driver=t}build(t,e,r){const a=new gS(e);return this._resetContextStyleTimingState(a),Mi(this,Ym(t),a)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,a=e.depCount=0;const c=[],f=[];return"@"==t.name.charAt(0)&&e.errors.push(function N0(){return new u.vHH(3006,!1)}()),t.definitions.forEach(y=>{if(this._resetContextStyleTimingState(e),0==y.type){const w=y,I=w.name;I.toString().split(/\s*,\s*/).forEach(N=>{w.name=N,c.push(this.visitState(w,e))}),w.name=I}else if(1==y.type){const w=this.visitTransition(y,e);r+=w.queryCount,a+=w.depCount,f.push(w)}else e.errors.push(function P0(){return new u.vHH(3007,!1)}())}),{type:7,name:t.name,states:c,transitions:f,queryCount:r,depCount:a,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),a=t.options&&t.options.params||null;if(r.containsDynamicStyles){const c=new Set,f=a||{};r.styles.forEach(y=>{y instanceof Map&&y.forEach(w=>{X0(w).forEach(I=>{f.hasOwnProperty(I)||c.add(I)})})}),c.size&&(_p(c.values()),e.errors.push(function kA(n,t){return new u.vHH(3008,!1)}()))}return{type:0,name:t.name,style:r,options:a?{params:a}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Mi(this,Ym(t.animation),e);return{type:1,matchers:dS(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Sc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Mi(this,r,e)),options:Sc(t.options)}}visitGroup(t,e){const r=e.currentTime;let a=0;const c=t.steps.map(f=>{e.currentTime=r;const y=Mi(this,f,e);return a=Math.max(a,e.currentTime),y});return e.currentTime=a,{type:3,steps:c,options:Sc(t.options)}}visitAnimate(t,e){const r=function HA(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return jv(Vv(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=jv(0,0,"");return c.dynamic=!0,c.strValue=e,c}const a=Vv(e,t);return jv(a.duration,a.delay,a.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let a,c=t.styles?t.styles:zm({});if(5==c.type)a=this.visitKeyframes(c,e);else{let f=t.styles,y=!1;if(!f){y=!0;const I={};r.easing&&(I.easing=r.easing),f=zm(I)}e.currentTime+=r.duration+r.delay;const w=this.visitStyle(f,e);w.isEmptyStep=y,a=w}return e.currentAnimateTimings=null,{type:4,timings:r,style:a,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],a=Array.isArray(t.styles)?t.styles:[t.styles];for(let y of a)"string"==typeof y?y===Xl?r.push(y):e.errors.push(new u.vHH(3002,!1)):r.push(J0(y));let c=!1,f=null;return r.forEach(y=>{if(y instanceof Map&&(y.has("easing")&&(f=y.get("easing"),y.delete("easing")),!c))for(let w of y.values())if(w.toString().indexOf("{{")>=0){c=!0;break}}),{type:6,styles:r,easing:f,offset:t.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let a=e.currentTime,c=e.currentTime;r&&c>0&&(c-=r.duration+r.delay),t.styles.forEach(f=>{"string"!=typeof f&&f.forEach((y,w)=>{const I=e.collectedStyles.get(e.currentQuerySelector),N=I.get(w);let P=!0;N&&(c!=a&&c>=N.startTime&&a<=N.endTime&&(e.errors.push(function Dv(n,t,e,r,a){return new u.vHH(3010,!1)}()),P=!1),c=N.startTime),P&&I.set(w,{startTime:c,endTime:a}),e.options&&function lS(n,t,e){const r=t.params||{},a=X0(n);a.length&&a.forEach(c=>{r.hasOwnProperty(c)||e.push(function ZI(n){return new u.vHH(3001,!1)}())})}(y,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function O0(){return new u.vHH(3011,!1)}()),r;let c=0;const f=[];let y=!1,w=!1,I=0;const N=t.steps.map(vt=>{const Nt=this._makeStyleAst(vt,e);let bt=null!=Nt.offset?Nt.offset:function BA(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Nt.styles),Dt=0;return null!=bt&&(c++,Dt=Nt.offset=bt),w=w||Dt<0||Dt>1,y=y||Dt<I,I=Dt,f.push(Dt),Nt});w&&e.errors.push(function YI(){return new u.vHH(3012,!1)}()),y&&e.errors.push(function LA(){return new u.vHH(3200,!1)}());const P=t.steps.length;let G=0;c>0&&c<P?e.errors.push(function Ai(){return new u.vHH(3202,!1)}()):0==c&&(G=1/(P-1));const se=P-1,le=e.currentTime,me=e.currentAnimateTimings,He=me.duration;return N.forEach((vt,Nt)=>{const bt=G>0?Nt==se?1:G*Nt:f[Nt],Dt=bt*He;e.currentTime=le+me.delay+Dt,me.duration=Dt,this._validateStyleAst(vt,e),vt.offset=bt,r.styles.push(vt)}),r}visitReference(t,e){return{type:8,animation:Mi(this,Ym(t.animation),e),options:Sc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Sc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Sc(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,a=t.options||{};e.queryCount++,e.currentQuery=t;const[c,f]=function Hv(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(iD,"")),n=n.replace(/@\*/g,pp).replace(/@\w+/g,e=>pp+"-"+e.slice(1)).replace(/:animating/g,Lv),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+c:c,ls(e.collectedStyles,e.currentQuerySelector,new Map);const y=Mi(this,Ym(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:c,limit:a.limit||0,optional:!!a.optional,includeSelf:f,animation:y,originalSelector:t.selector,options:Sc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function QI(){return new u.vHH(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Vv(t.timings,e.errors,!0);return{type:12,animation:Mi(this,Ym(t.animation),e),timings:r,options:null}}}class gS{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Sc(n){return n?(n=gp(n)).params&&(n.params=function pS(n){return n?gp(n):null}(n.params)):n={},n}function jv(n,t,e){return{duration:n,delay:t,easing:e}}function $v(n,t,e,r,a,c,f=null,y=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:a,delay:c,totalTime:a+c,easing:f,subTimeline:y}}class e_{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const jA=new RegExp(":enter","g"),Gv=new RegExp(":leave","g");function t_(n,t,e,r,a,c=new Map,f=new Map,y,w,I=[]){return(new lD).buildKeyframes(n,t,e,r,a,c,f,y,w,I)}class lD{buildKeyframes(t,e,r,a,c,f,y,w,I,N=[]){I=I||new e_;const P=new Cp(t,e,I,a,c,N,[]);P.options=w;const G=w.delay?iu(w.delay):0;P.currentTimeline.delayNextStep(G),P.currentTimeline.setStyles([f],null,P.errors,w),Mi(this,r,P);const se=P.timelines.filter(le=>le.containsAnimation());if(se.length&&y.size){let le;for(let me=se.length-1;me>=0;me--){const He=se[me];if(He.element===e){le=He;break}}le&&!le.allowOnlyTimelineStyles()&&le.setStyles([y],null,P.errors,w)}return se.length?se.map(le=>le.buildKeyframes()):[$v(e,[],[],[],0,G,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const a=e.createSubContext(t.options),c=e.currentTimeline.currentTime,f=this._visitSubInstructions(r,a,a.options);c!=f&&e.transformIntoNewTimeline(f)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(const a of t){const c=a?.delay;if(c){const f="number"==typeof c?c:iu(mp(c,a?.params??{},e.errors));r.delayNextStep(f)}}}_visitSubInstructions(t,e,r){let c=e.currentTimeline.currentTime;const f=null!=r.duration?iu(r.duration):null,y=null!=r.delay?iu(r.delay):null;return 0!==f&&t.forEach(w=>{const I=e.appendInstructionToTimeline(w,f,y);c=Math.max(c,I.duration+I.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),Mi(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let a=e;const c=t.options;if(c&&(c.params||c.delay)&&(a=e.createSubContext(c),a.transformIntoNewTimeline(),null!=c.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=n_);const f=iu(c.delay);a.delayNextStep(f)}t.steps.length&&(t.steps.forEach(f=>Mi(this,f,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let a=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?iu(t.options.delay):0;t.steps.forEach(f=>{const y=e.createSubContext(t.options);c&&y.delayNextStep(c),Mi(this,f,y),a=Math.max(a,y.currentTimeline.currentTime),r.push(y.currentTimeline)}),r.forEach(f=>e.currentTimeline.mergeTimelineCollectedStyles(f)),e.transformIntoNewTimeline(a),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Vv(e.params?mp(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),a=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),a.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(r.duration),this.visitStyle(c,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,a=e.currentAnimateTimings;!a&&r.hasCurrentStyleProperties()&&r.forwardFrame();const c=a&&a.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(c):r.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,a=e.currentTimeline.duration,c=r.duration,y=e.createSubContext().currentTimeline;y.easing=r.easing,t.styles.forEach(w=>{y.forwardTime((w.offset||0)*c),y.setStyles(w.styles,w.easing,e.errors,e.options),y.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(y),e.transformIntoNewTimeline(a+c),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,a=t.options||{},c=a.delay?iu(a.delay):0;c&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=n_);let f=r;const y=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=y.length;let w=null;y.forEach((I,N)=>{e.currentQueryIndex=N;const P=e.createSubContext(t.options,I);c&&P.delayNextStep(c),I===e.element&&(w=P.currentTimeline),Mi(this,t.animation,P),P.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,P.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(f),w&&(e.currentTimeline.mergeTimelineCollectedStyles(w),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,a=e.currentTimeline,c=t.timings,f=Math.abs(c.duration),y=f*(e.currentQueryTotal-1);let w=f*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":w=y-w;break;case"full":w=r.currentStaggerTime}const N=e.currentTimeline;w&&N.delayNextStep(w);const P=N.currentTime;Mi(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=a.currentTime-P+(a.startTime-r.currentTimeline.startTime)}}const n_={};class Cp{constructor(t,e,r,a,c,f,y,w){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=c,this.errors=f,this.timelines=y,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=n_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new r_(this._driver,e,0),y.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let a=this.options;null!=r.duration&&(a.duration=iu(r.duration)),null!=r.delay&&(a.delay=iu(r.delay));const c=r.params;if(c){let f=a.params;f||(f=this.options.params={}),Object.keys(c).forEach(y=>{(!e||!f.hasOwnProperty(y))&&(f[y]=mp(c[y],f,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(a=>{r[a]=e[a]})}}return t}createSubContext(t=null,e,r){const a=e||this.element,c=new Cp(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=n_,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const a={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},c=new _S(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,a,t.stretchStartingKeyframe);return this.timelines.push(c),a}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,a,c,f){let y=[];if(a&&y.push(this.element),t.length>0){t=(t=t.replace(jA,"."+this._enterClassName)).replace(Gv,"."+this._leaveClassName);let I=this._driver.query(this.element,t,1!=r);0!==r&&(I=r<0?I.slice(I.length+r,I.length):I.slice(0,r)),y.push(...I)}return!c&&0==y.length&&f.push(function Tv(n){return new u.vHH(3014,!1)}()),y}}class r_{constructor(t,e,r,a){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new r_(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||Xl),this._currentKeyframe.set(e,Xl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,a){e&&this._previousKeyframe.set("easing",e);const c=a&&a.params||{},f=function uD(n,t){const e=new Map;let r;return n.forEach(a=>{if("*"===a){r=r||t.keys();for(let c of r)e.set(c,Xl)}else bc(a,e)}),e}(t,this._globalTimelineStyles);for(let[y,w]of f){const I=mp(w,c,r);this._pendingStyles.set(y,I),this._localTimelineStyles.has(y)||this._backFill.set(y,this._globalTimelineStyles.get(y)??Xl),this._updateStyle(y,I)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const a=this._styleSummary.get(r);(!a||e.time>a.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((y,w)=>{const I=bc(y,new Map,this._backFill);I.forEach((N,P)=>{N===M0?t.add(P):N===Xl&&e.add(P)}),r||I.set("offset",w/this.duration),a.push(I)});const c=t.size?_p(t.values()):[],f=e.size?_p(e.values()):[];if(r){const y=a[0],w=new Map(y);y.set("offset",0),w.set("offset",1),a=[y,w]}return $v(this.element,a,c,f,this.duration,this.startTime,this.easing,!1)}}class _S extends r_{constructor(t,e,r,a,c,f,y=!1){super(t,e,f.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=c,this._stretchStartingKeyframe=y,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],f=r+e,y=e/f,w=bc(t[0]);w.set("offset",0),c.push(w);const I=bc(t[0]);I.set("offset",Wv(y)),c.push(I);const N=t.length-1;for(let P=1;P<=N;P++){let G=bc(t[P]);const se=G.get("offset");G.set("offset",Wv((e+se*r)/f)),c.push(G)}r=f,e=0,a="",t=c}return $v(this.element,t,this.preStyleProps,this.postStyleProps,r,e,a,!0)}}function Wv(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class zv{}const $A=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class yS extends zv{normalizePropertyName(t,e){return Qm(t)}normalizeStyleValue(t,e,r,a){let c="";const f=r.toString().trim();if($A.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const y=r.match(/^[+-]?[\d\.]+([a-z]*)$/);y&&0==y[1].length&&a.push(function KI(n,t){return new u.vHH(3005,!1)}())}return f+c}}function vS(n,t,e,r,a,c,f,y,w,I,N,P,G){return{type:0,element:n,triggerName:t,isRemovalTransition:a,fromState:e,fromStyles:c,toState:r,toStyles:f,timelines:y,queriedElements:w,preStyleProps:I,postStyleProps:N,totalTime:P,errors:G}}const cD={};class dD{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,a){return function GA(n,t,e,r,a){return n.some(c=>c(t,e,r,a))}(this.ast.matchers,t,e,r,a)}buildStyles(t,e,r){let a=this._stateStyles.get("*");return void 0!==t&&(a=this._stateStyles.get(t?.toString())||a),a?a.buildStyles(e,r):new Map}build(t,e,r,a,c,f,y,w,I,N){const P=[],G=this.ast.options&&this.ast.options.params||cD,le=this.buildStyles(r,y&&y.params||cD,P),me=w&&w.params||cD,He=this.buildStyles(a,me,P),vt=new Set,Nt=new Map,bt=new Map,Dt="void"===a,zn={params:WA(me,G),delay:this.ast.options?.delay},Pr=N?[]:t_(t,e,this.ast.animation,c,f,le,He,zn,I,P);let cs=0;if(Pr.forEach(Nc=>{cs=Math.max(Nc.duration+Nc.delay,cs)}),P.length)return vS(e,this._triggerName,r,a,Dt,le,He,[],[],Nt,bt,cs,P);Pr.forEach(Nc=>{const Pc=Nc.element,mR=ls(Nt,Pc,new Set);Nc.preStyleProps.forEach(Ip=>mR.add(Ip));const dE=ls(bt,Pc,new Set);Nc.postStyleProps.forEach(Ip=>dE.add(Ip)),Pc!==e&&vt.add(Pc)});const Rc=_p(vt.values());return vS(e,this._triggerName,r,a,Dt,le,He,Pr,Rc,Nt,bt,cs)}}function WA(n,t){const e=gp(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class zA{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,a=gp(this.defaultParams);return Object.keys(t).forEach(c=>{const f=t[c];null!==f&&(a[c]=f)}),this.styles.styles.forEach(c=>{"string"!=typeof c&&c.forEach((f,y)=>{f&&(f=mp(f,a,e));const w=this.normalizer.normalizePropertyName(y,e);f=this.normalizer.normalizeStyleValue(y,w,f,e),r.set(y,f)})}),r}}class ZA{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(a=>{this.states.set(a.name,new zA(a.style,a.options&&a.options.params||{},r))}),CS(this.states,"true","1"),CS(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new dD(t,a,this.states))}),this.fallbackTransition=function qA(n,t,e){return new dD(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,y)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,a){return this.transitionFactories.find(f=>f.match(t,e,r,a))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function CS(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const KA=new e_;class YA{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],c=Ep(this._driver,e,r,[]);if(r.length)throw function F0(n){return new u.vHH(3503,!1)}();this._animations.set(t,c)}_buildPlayer(t,e,r){const a=t.element,c=iS(this._normalizer,t.keyframes,e,r);return this._driver.animate(a,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const a=[],c=this._animations.get(t);let f;const y=new Map;if(c?(f=t_(this._driver,e,c,kv,Km,new Map,new Map,r,KA,a),f.forEach(N=>{const P=ls(y,N.element,new Map);N.postStyleProps.forEach(G=>P.set(G,null))})):(a.push(function L0(){return new u.vHH(3300,!1)}()),f=[]),a.length)throw function V0(n){return new u.vHH(3504,!1)}();y.forEach((N,P)=>{N.forEach((G,se)=>{N.set(se,this._driver.computeStyle(P,se,Xl))})});const I=nu(f.map(N=>{const P=y.get(N.element);return this._buildPlayer(N,new Map,P)}));return this._playersById.set(t,I),I.onDestroy(()=>this.destroy(t)),this.players.push(I),I}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function U0(n){return new u.vHH(3301,!1)}();return e}listen(t,e,r,a){const c=Rv(e,"","","");return Zm(this._getPlayer(t),r,c,a),()=>{}}command(t,e,r,a){if("register"==r)return void this.register(t,a[0]);if("create"==r)return void this.create(t,e,a[0]||{});const c=this._getPlayer(t);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(t)}}}const hD="ng-animate-queued",i="ng-animate-disabled",d=[],p={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},m={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},E="__ng_removed";class D{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function Re(n){return n??null}(r?t.value:t),r){const c=gp(t);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(a=>{null==r[a]&&(r[a]=e[a])})}}}const S="void",R=new D(S);class F{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Vt(e,this._hostClassName)}listen(t,e,r,a){if(!this._triggers.has(e))throw function tS(n,t){return new u.vHH(3302,!1)}();if(null==r||0==r.length)throw function B0(n){return new u.vHH(3303,!1)}();if(!function at(n){return"start"==n||"done"==n}(r))throw function nS(n,t){return new u.vHH(3400,!1)}();const c=ls(this._elementListeners,t,[]),f={name:e,phase:r,callback:a};c.push(f);const y=ls(this._engine.statesByElement,t,new Map);return y.has(e)||(Vt(t,Fv),Vt(t,Fv+"-"+e),y.set(e,R)),()=>{this._engine.afterFlush(()=>{const w=c.indexOf(f);w>=0&&c.splice(w,1),this._triggers.has(e)||y.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Iv(n){return new u.vHH(3401,!1)}();return e}trigger(t,e,r,a=!0){const c=this._getTrigger(e),f=new K(this.id,e,t);let y=this._engine.statesByElement.get(t);y||(Vt(t,Fv),Vt(t,Fv+"-"+e),this._engine.statesByElement.set(t,y=new Map));let w=y.get(e);const I=new D(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&w&&I.absorbOptions(w.options),y.set(e,I),w||(w=R),I.value!==S&&w.value===I.value){if(!function LR(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let a=0;a<e.length;a++){const c=e[a];if(!t.hasOwnProperty(c)||n[c]!==t[c])return!1}return!0}(w.params,I.params)){const me=[],He=c.matchStyles(w.value,w.params,me),vt=c.matchStyles(I.value,I.params,me);me.length?this._engine.reportError(me):this._engine.afterFlush(()=>{Th(t,He),Za(t,vt)})}return}const G=ls(this._engine.playersByElement,t,[]);G.forEach(me=>{me.namespaceId==this.id&&me.triggerName==e&&me.queued&&me.destroy()});let se=c.matchTransition(w.value,I.value,t,I.params),le=!1;if(!se){if(!a)return;se=c.fallbackTransition,le=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:se,fromState:w,toState:I,player:f,isFallbackTransition:le}),le||(Vt(t,hD),f.onStart(()=>{ui(t,hD)})),f.onDone(()=>{let me=this.players.indexOf(f);me>=0&&this.players.splice(me,1);const He=this._engine.playersByElement.get(t);if(He){let vt=He.indexOf(f);vt>=0&&He.splice(vt,1)}}),this.players.push(f),G.push(f),f}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(a=>a.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,pp,!0);r.forEach(a=>{if(a[E])return;const c=this._engine.fetchNamespacesByElement(a);c.size?c.forEach(f=>f.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(t,e,r,a){const c=this._engine.statesByElement.get(t),f=new Map;if(c){const y=[];if(c.forEach((w,I)=>{if(f.set(I,w.value),this._triggers.has(I)){const N=this.trigger(t,I,S,a);N&&y.push(N)}}),y.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,f),r&&nu(y).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const a=new Set;e.forEach(c=>{const f=c.name;if(a.has(f))return;a.add(f);const w=this._triggers.get(f).fallbackTransition,I=r.get(f)||R,N=new D(S),P=new K(this.id,f,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:f,transition:w,fromState:I,toState:N,player:P,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let a=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(t):[];if(c&&c.length)a=!0;else{let f=t;for(;f=f.parentNode;)if(r.statesByElement.get(f)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(t),a)r.markElementAsRemoved(this.id,t,!1,e);else{const c=t[E];(!c||c===p)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Vt(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const c=r.element,f=this._elementListeners.get(c);f&&f.forEach(y=>{if(y.name==r.triggerName){const w=Rv(c,r.triggerName,r.fromState.value,r.toState.value);w._data=t,Zm(r.player,y.phase,w,y.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(r)}),this._queue=[],e.sort((r,a)=>{const c=r.transition.ast.depCount,f=a.transition.ast.depCount;return 0==c||0==f?c-f:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class W{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,c)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new F(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,a=this.namespacesByHostElement;if(r.length-1>=0){let f=!1,y=this.driver.getParentElement(e);for(;y;){const w=a.get(y);if(w){const I=r.indexOf(w);r.splice(I+1,0,t),f=!0;break}y=this.driver.getParentElement(y)}f||r.unshift(t)}else r.push(t);return a.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let a=this._namespaceLookup[t];a&&a.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let a of r.values())if(a.namespaceId){const c=this._fetchNamespace(a.namespaceId);c&&e.add(c)}return e}trigger(t,e,r,a){if(Be(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,r,a),!0}return!1}insertNode(t,e,r,a){if(!Be(e))return;const c=e[E];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const f=this.collectedLeaveElements.indexOf(e);f>=0&&this.collectedLeaveElements.splice(f,1)}if(t){const f=this._fetchNamespace(t);f&&f.insertNode(e,r)}a&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Vt(t,i)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ui(t,i))}removeNode(t,e,r){if(Be(e)){const a=t?this._fetchNamespace(t):null;a?a.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r);const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,r,a,c){this.collectedLeaveElements.push(e),e[E]={namespaceId:t,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:c}}listen(t,e,r,a,c){return Be(e)?this._fetchNamespace(t).listen(e,r,a,c):()=>{}}_buildInstruction(t,e,r,a,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,a,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,pp,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Lv,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return nu(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[E];if(e&&e.setForRemoval){if(t[E]=p,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(i)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Vt(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?nu(e).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(t){throw function tu(n){return new u.vHH(3402,!1)}()}_flushAnimations(t,e){const r=new e_,a=[],c=new Map,f=[],y=new Map,w=new Map,I=new Map,N=new Set;this.disabledNodes.forEach(lt=>{N.add(lt);const Et=this.driver.query(lt,".ng-animate-queued",!0);for(let It=0;It<Et.length;It++)N.add(Et[It])});const P=this.bodyNode,G=Array.from(this.statesByElement.keys()),se=jt(G,this.collectedEnterElements),le=new Map;let me=0;se.forEach((lt,Et)=>{const It=kv+me++;le.set(Et,It),lt.forEach(sn=>Vt(sn,It))});const He=[],vt=new Set,Nt=new Set;for(let lt=0;lt<this.collectedLeaveElements.length;lt++){const Et=this.collectedLeaveElements[lt],It=Et[E];It&&It.setForRemoval&&(He.push(Et),vt.add(Et),It.hasAnimation?this.driver.query(Et,".ng-star-inserted",!0).forEach(sn=>vt.add(sn)):Nt.add(Et))}const bt=new Map,Dt=jt(G,Array.from(vt));Dt.forEach((lt,Et)=>{const It=Km+me++;bt.set(Et,It),lt.forEach(sn=>Vt(sn,It))}),t.push(()=>{se.forEach((lt,Et)=>{const It=le.get(Et);lt.forEach(sn=>ui(sn,It))}),Dt.forEach((lt,Et)=>{const It=bt.get(Et);lt.forEach(sn=>ui(sn,It))}),He.forEach(lt=>{this.processLeaveNode(lt)})});const zn=[],Pr=[];for(let lt=this._namespaceList.length-1;lt>=0;lt--)this._namespaceList[lt].drainQueuedTransitions(e).forEach(It=>{const sn=It.player,ci=It.element;if(zn.push(sn),this.collectedEnterElements.length){const Gi=ci[E];if(Gi&&Gi.setForMove){if(Gi.previousTriggersValues&&Gi.previousTriggersValues.has(It.triggerName)){const Sp=Gi.previousTriggersValues.get(It.triggerName),Zo=this.statesByElement.get(It.element);if(Zo&&Zo.has(It.triggerName)){const xD=Zo.get(It.triggerName);xD.value=Sp,Zo.set(It.triggerName,xD)}}return void sn.destroy()}}const au=!P||!this.driver.containsElement(P,ci),lo=bt.get(ci),Sh=le.get(ci),lr=this._buildInstruction(It,r,Sh,lo,au);if(lr.errors&&lr.errors.length)return void Pr.push(lr);if(au)return sn.onStart(()=>Th(ci,lr.fromStyles)),sn.onDestroy(()=>Za(ci,lr.toStyles)),void a.push(sn);if(It.isFallbackTransition)return sn.onStart(()=>Th(ci,lr.fromStyles)),sn.onDestroy(()=>Za(ci,lr.toStyles)),void a.push(sn);const vR=[];lr.timelines.forEach(Gi=>{Gi.stretchStartingKeyframe=!0,this.disabledNodes.has(Gi.element)||vR.push(Gi)}),lr.timelines=vR,r.append(ci,lr.timelines),f.push({instruction:lr,player:sn,element:ci}),lr.queriedElements.forEach(Gi=>ls(y,Gi,[]).push(sn)),lr.preStyleProps.forEach((Gi,Sp)=>{if(Gi.size){let Zo=w.get(Sp);Zo||w.set(Sp,Zo=new Set),Gi.forEach((xD,YS)=>Zo.add(YS))}}),lr.postStyleProps.forEach((Gi,Sp)=>{let Zo=I.get(Sp);Zo||I.set(Sp,Zo=new Set),Gi.forEach((xD,YS)=>Zo.add(YS))})});if(Pr.length){const lt=[];Pr.forEach(Et=>{lt.push(function Sv(n,t){return new u.vHH(3505,!1)}())}),zn.forEach(Et=>Et.destroy()),this.reportError(lt)}const cs=new Map,Rc=new Map;f.forEach(lt=>{const Et=lt.element;r.has(Et)&&(Rc.set(Et,Et),this._beforeAnimationBuild(lt.player.namespaceId,lt.instruction,cs))}),a.forEach(lt=>{const Et=lt.element;this._getPreviousPlayers(Et,!1,lt.namespaceId,lt.triggerName,null).forEach(sn=>{ls(cs,Et,[]).push(sn),sn.destroy()})});const Nc=He.filter(lt=>XA(lt,w,I)),Pc=new Map;yt(Pc,this.driver,Nt,I,Xl).forEach(lt=>{XA(lt,w,I)&&Nc.push(lt)});const dE=new Map;se.forEach((lt,Et)=>{yt(dE,this.driver,new Set(lt),w,M0)}),Nc.forEach(lt=>{const Et=Pc.get(lt),It=dE.get(lt);Pc.set(lt,new Map([...Et?.entries()??[],...It?.entries()??[]]))});const Ip=[],_R=[],yR={};f.forEach(lt=>{const{element:Et,player:It,instruction:sn}=lt;if(r.has(Et)){if(N.has(Et))return It.onDestroy(()=>Za(Et,sn.toStyles)),It.disabled=!0,It.overrideTotalTime(sn.totalTime),void a.push(It);let ci=yR;if(Rc.size>1){let lo=Et;const Sh=[];for(;lo=lo.parentNode;){const lr=Rc.get(lo);if(lr){ci=lr;break}Sh.push(lo)}Sh.forEach(lr=>Rc.set(lr,ci))}const au=this._buildAnimation(It.namespaceId,sn,cs,c,dE,Pc);if(It.setRealPlayer(au),ci===yR)Ip.push(It);else{const lo=this.playersByElement.get(ci);lo&&lo.length&&(It.parentPlayer=nu(lo)),a.push(It)}}else Th(Et,sn.fromStyles),It.onDestroy(()=>Za(Et,sn.toStyles)),_R.push(It),N.has(Et)&&a.push(It)}),_R.forEach(lt=>{const Et=c.get(lt.element);if(Et&&Et.length){const It=nu(Et);lt.setRealPlayer(It)}}),a.forEach(lt=>{lt.parentPlayer?lt.syncPlayerEvents(lt.parentPlayer):lt.destroy()});for(let lt=0;lt<He.length;lt++){const Et=He[lt],It=Et[E];if(ui(Et,Km),It&&It.hasAnimation)continue;let sn=[];if(y.size){let au=y.get(Et);au&&au.length&&sn.push(...au);let lo=this.driver.query(Et,Lv,!0);for(let Sh=0;Sh<lo.length;Sh++){let lr=y.get(lo[Sh]);lr&&lr.length&&sn.push(...lr)}}const ci=sn.filter(au=>!au.destroyed);ci.length?fD(this,Et,ci):this.processLeaveNode(Et)}return He.length=0,Ip.forEach(lt=>{this.players.push(lt),lt.onDone(()=>{lt.destroy();const Et=this.players.indexOf(lt);this.players.splice(Et,1)}),lt.play()}),Ip}elementContainsData(t,e){let r=!1;const a=e[E];return a&&a.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,a,c){let f=[];if(e){const y=this.playersByQueriedElement.get(t);y&&(f=y)}else{const y=this.playersByElement.get(t);if(y){const w=!c||c==S;y.forEach(I=>{I.queued||!w&&I.triggerName!=a||f.push(I)})}}return(r||a)&&(f=f.filter(y=>!(r&&r!=y.namespaceId||a&&a!=y.triggerName))),f}_beforeAnimationBuild(t,e,r){const c=e.element,f=e.isRemovalTransition?void 0:t,y=e.isRemovalTransition?void 0:e.triggerName;for(const w of e.timelines){const I=w.element,N=I!==c,P=ls(r,I,[]);this._getPreviousPlayers(I,N,f,y,e.toState).forEach(se=>{const le=se.getRealPlayer();le.beforeDestroy&&le.beforeDestroy(),se.destroy(),P.push(se)})}Th(c,e.fromStyles)}_buildAnimation(t,e,r,a,c,f){const y=e.triggerName,w=e.element,I=[],N=new Set,P=new Set,G=e.timelines.map(le=>{const me=le.element;N.add(me);const He=me[E];if(He&&He.removedBeforeQueried)return new eu(le.duration,le.delay);const vt=me!==w,Nt=function FR(n){const t=[];return JA(n,t),t}((r.get(me)||d).map(cs=>cs.getRealPlayer())).filter(cs=>!!cs.element&&cs.element===me),bt=c.get(me),Dt=f.get(me),zn=iS(this._normalizer,le.keyframes,bt,Dt),Pr=this._buildPlayer(le,zn,Nt);if(le.subTimeline&&a&&P.add(me),vt){const cs=new K(t,y,me);cs.setRealPlayer(Pr),I.push(cs)}return Pr});I.forEach(le=>{ls(this.playersByQueriedElement,le.element,[]).push(le),le.onDone(()=>function _e(n,t,e){let r=n.get(t);if(r){if(r.length){const a=r.indexOf(e);r.splice(a,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,le.element,le))}),N.forEach(le=>Vt(le,K0));const se=nu(G);return se.onDestroy(()=>{N.forEach(le=>ui(le,K0)),Za(w,e.toStyles)}),P.forEach(le=>{ls(a,le,[]).push(se)}),se}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new eu(t.duration,t.delay)}}class K{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new eu,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(a=>Zm(t,r,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ls(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Be(n){return n&&1===n.nodeType}function Ce(n,t){const e=n.style.display;return n.style.display=t??"none",e}function yt(n,t,e,r,a){const c=[];e.forEach(w=>c.push(Ce(w)));const f=[];r.forEach((w,I)=>{const N=new Map;w.forEach(P=>{const G=t.computeStyle(I,P,a);N.set(P,G),(!G||0==G.length)&&(I[E]=m,f.push(I))}),n.set(I,N)});let y=0;return e.forEach(w=>Ce(w,c[y++])),f}function jt(n,t){const e=new Map;if(n.forEach(y=>e.set(y,[])),0==t.length)return e;const r=1,a=new Set(t),c=new Map;function f(y){if(!y)return r;let w=c.get(y);if(w)return w;const I=y.parentNode;return w=e.has(I)?I:a.has(I)?r:f(I),c.set(y,w),w}return t.forEach(y=>{const w=f(y);w!==r&&e.get(w).push(y)}),e}function Vt(n,t){n.classList?.add(t)}function ui(n,t){n.classList?.remove(t)}function fD(n,t,e){nu(e).onDone(()=>n.processLeaveNode(t))}function JA(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof A0?JA(r.players,t):t.push(r)}}function XA(n,t,e){const r=e.get(n);if(!r)return!1;let a=t.get(n);return a?r.forEach(c=>a.add(c)):t.set(n,r),e.delete(n),!0}class pD{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,c)=>{},this._transitionEngine=new W(t,e,r),this._timelineEngine=new YA(t,e,r),this._transitionEngine.onRemovalComplete=(a,c)=>this.onRemovalComplete(a,c)}registerTrigger(t,e,r,a,c){const f=t+"-"+a;let y=this._triggerCache[f];if(!y){const w=[],N=Ep(this._driver,c,w,[]);if(w.length)throw function k0(n,t){return new u.vHH(3404,!1)}();y=function ES(n,t,e){return new ZA(n,t,e)}(a,N,this._normalizer),this._triggerCache[f]=y}this._transitionEngine.registerTrigger(e,a,y)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,a){this._transitionEngine.insertNode(t,e,r,a)}onRemove(t,e,r){this._transitionEngine.removeNode(t,e,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,a){if("@"==r.charAt(0)){const[c,f]=H0(r);this._timelineEngine.command(c,e,f,a)}else this._transitionEngine.trigger(t,e,r,a)}listen(t,e,r,a,c){if("@"==r.charAt(0)){const[f,y]=H0(r);return this._timelineEngine.listen(f,e,y,c)}return this._transitionEngine.listen(t,e,r,a,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let UR=(()=>{class n{constructor(e,r,a){this._element=e,this._startStyles=r,this._endStyles=a,this._state=0;let c=n.initialStylesByElement.get(e);c||n.initialStylesByElement.set(e,c=new Map),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Za(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Za(this._element,this._initialStyles),this._endStyles&&(Za(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Th(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Th(this._element,this._endStyles),this._endStyles=null),Za(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function wS(n){let t=null;return n.forEach((e,r)=>{(function BR(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class eM{constructor(t,e,r,a){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,a)=>{"offset"!==a&&t.set(a,this._finished?r:Jm(this.element,a))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class HR{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return Pv(t,e)}getParentElement(t){return $0(t)}query(t,e,r){return Z0(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,a,c,f=[]){const w={duration:r,delay:a,fill:0==a?"both":"forwards"};c&&(w.easing=c);const I=new Map,N=f.filter(se=>se instanceof eM);(function Uv(n,t){return 0===n||0===t})(r,a)&&N.forEach(se=>{se.currentSnapshot.forEach((le,me)=>I.set(me,le))});let P=function oS(n){return n.length?n[0]instanceof Map?n:n.map(t=>J0(t)):[]}(e).map(se=>bc(se));P=function uS(n,t,e){if(e.size&&t.length){let r=t[0],a=[];if(e.forEach((c,f)=>{r.has(f)||a.push(f),r.set(f,c)}),a.length)for(let c=1;c<t.length;c++){let f=t[c];a.forEach(y=>f.set(y,Jm(n,y)))}}return t}(t,P,I);const G=function VR(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=wS(t[0]),t.length>1&&(r=wS(t[t.length-1]))):t instanceof Map&&(e=wS(t)),e||r?new UR(n,e,r):null}(t,P);return new eM(t,P,w,G)}}let jR=(()=>{class n extends D0{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?HI(e):e;return tM(this._renderer,null,r,"register",[a]),new $R(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.FYo),u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class $R extends UI{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new GR(this._id,t,e||{},this._renderer)}}class GR{constructor(t,e,r,a){this.id=t,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return tM(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function tM(n,t,e,r,a){return n.setProperty(t,`@@${e}:${r}`,a)}const nM="@.disabled";let WR=(()=>{class n{constructor(e,r,a){this.delegate=e,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(c,f)=>{const y=f?.parentNode(c);y&&f.removeChild(y,c)}}createRenderer(e,r){const c=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let N=this._rendererCache.get(c);return N||(N=new rM("",c,this.engine,()=>this._rendererCache.delete(c)),this._rendererCache.set(c,N)),N}const f=r.id,y=r.id+"-"+this._currentId;this._currentId++,this.engine.register(y,e);const w=N=>{Array.isArray(N)?N.forEach(w):this.engine.registerTrigger(f,y,e,N.name,N)};return r.data.animation.forEach(w),new zR(this,y,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,a){e>=0&&e<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[f,y]=c;f(y)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.FYo),u.LFG(pD),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class rM{constructor(t,e,r,a){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=a,this.destroyNode=this.delegate.destroyNode?c=>e.destroyNode(c):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,a=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,a)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,a){this.delegate.setAttribute(t,e,r,a)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,a){this.delegate.setStyle(t,e,r,a)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==nM?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class zR extends rM{constructor(t,e,r,a,c){super(e,r,a,c),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==nM?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const a=function ZR(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let c=e.slice(1),f="";return"@"!=c.charAt(0)&&([c,f]=function qR(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(c)),this.engine.listen(this.namespaceId,a,c,f,y=>{this.factory.scheduleListenerCallback(y._data||-1,r,y)})}return this.delegate.listen(t,e,r)}}const iM=[{provide:D0,useClass:jR},{provide:zv,useFactory:function YR(){return new yS}},{provide:pD,useClass:(()=>{class n extends pD{constructor(e,r,a,c){super(e.body,r,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ae),u.LFG(ru),u.LFG(zv),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})()},{provide:u.FYo,useFactory:function QR(n,t,e){return new WR(n,t,e)},deps:[cl,pD,u.R0b]}],DS=[{provide:ru,useFactory:()=>new HR},{provide:u.QbO,useValue:"BrowserAnimations"},...iM],sM=[{provide:ru,useClass:Ov},{provide:u.QbO,useValue:"NoopAnimations"},...iM];let JR=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?sM:DS}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:DS,imports:[Ds]}),n})();function qv(n){return(qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function Fe(n,t,e){return(t=function eN(n){var t=function XR(n,t){if("object"!==qv(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var r=e.call(n,t||"default");if("object"!==qv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===qv(t)?t:String(t)}(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const oM=["toast-component",""];function tN(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"button",5),u.NdJ("click",function(){u.CHM(e);const a=u.oxw();return u.KtG(a.remove())}),u.TgZ(1,"span",6),u._uU(2,"\xd7"),u.qZA()()}}function nN(n,t){if(1&n&&(u.ynx(0),u._uU(1),u.BQk()),2&n){const e=u.oxw(2);u.xp6(1),u.hij("[",e.duplicatesCount+1,"]")}}function rN(n,t){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.YNc(2,nN,2,1,"ng-container",4),u.qZA()),2&n){const e=u.oxw();u.Tol(e.options.titleClass),u.uIk("aria-label",e.title),u.xp6(1),u.hij(" ",e.title," "),u.xp6(1),u.Q6J("ngIf",e.duplicatesCount)}}function iN(n,t){if(1&n&&u._UZ(0,"div",7),2&n){const e=u.oxw();u.Tol(e.options.messageClass),u.Q6J("innerHTML",e.message,u.oJD)}}function sN(n,t){if(1&n&&(u.TgZ(0,"div",8),u._uU(1),u.qZA()),2&n){const e=u.oxw();u.Tol(e.options.messageClass),u.uIk("aria-label",e.message),u.xp6(1),u.hij(" ",e.message," ")}}function oN(n,t){if(1&n&&(u.TgZ(0,"div"),u._UZ(1,"div",9),u.qZA()),2&n){const e=u.oxw();u.xp6(1),u.Udp("width",e.width+"%")}}class fN{constructor(t,e){Fe(this,"_attachedHost",void 0),Fe(this,"component",void 0),Fe(this,"viewContainerRef",void 0),Fe(this,"injector",void 0),this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class pN{constructor(){Fe(this,"_attachedPortal",void 0),Fe(this,"_disposeFn",void 0)}attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}class gN{constructor(t){Fe(this,"_overlayRef",void 0),Fe(this,"componentInstance",void 0),Fe(this,"duplicatesCount",0),Fe(this,"_afterClosed",new $i.x),Fe(this,"_activate",new $i.x),Fe(this,"_manualClose",new $i.x),Fe(this,"_resetTimeout",new $i.x),Fe(this,"_countDuplicate",new $i.x),this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class mD{constructor(t,e,r,a,c,f){Fe(this,"toastId",void 0),Fe(this,"config",void 0),Fe(this,"message",void 0),Fe(this,"title",void 0),Fe(this,"toastType",void 0),Fe(this,"toastRef",void 0),Fe(this,"_onTap",new $i.x),Fe(this,"_onAction",new $i.x),this.toastId=t,this.config=e,this.message=r,this.title=a,this.toastType=c,this.toastRef=f,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const lM=new u.OlP("ToastConfig");class mN extends pN{constructor(t,e,r){super(),Fe(this,"_hostDomElement",void 0),Fe(this,"_componentFactoryResolver",void 0),Fe(this,"_appRef",void 0),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=r}attachComponentPortal(t,e){const r=this._componentFactoryResolver.resolveComponentFactory(t.component);let a;return a=r.create(t.injector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(a),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(a)),a}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let _N=(()=>{class n{constructor(){Fe(this,"_document",(0,u.f3M)(ae)),Fe(this,"_containerElement",void 0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}}return Fe(n,"\u0275fac",function(e){return new(e||n)}),Fe(n,"\u0275prov",u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),n})();class yN{constructor(t){Fe(this,"_portalHost",void 0),this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let vN=(()=>{class n{constructor(){Fe(this,"_overlayContainer",(0,u.f3M)(_N)),Fe(this,"_componentFactoryResolver",(0,u.f3M)(u._Vd)),Fe(this,"_appRef",(0,u.f3M)(u.z2F)),Fe(this,"_document",(0,u.f3M)(ae)),Fe(this,"_paneElements",new Map)}create(e,r){return this._createOverlayRef(this.getPaneElement(e,r))}getPaneElement(e="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[e]||(this._paneElements.get(r)[e]=this._createPaneElement(e,r)),this._paneElements.get(r)[e]}_createPaneElement(e,r){const a=this._document.createElement("div");return a.id="toast-container",a.classList.add(e),a.classList.add("toast-container"),r?r.getContainerElement().appendChild(a):this._overlayContainer.getContainerElement().appendChild(a),a}_createPortalHost(e){return new mN(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new yN(this._createPortalHost(e))}}return Fe(n,"\u0275fac",function(e){return new(e||n)}),Fe(n,"\u0275prov",u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),n})(),_D=(()=>{class n{constructor(e,r,a,c,f){Fe(this,"overlay",void 0),Fe(this,"_injector",void 0),Fe(this,"sanitizer",void 0),Fe(this,"ngZone",void 0),Fe(this,"toastrConfig",void 0),Fe(this,"currentlyActive",0),Fe(this,"toasts",[]),Fe(this,"overlayContainer",void 0),Fe(this,"previousToastMessage",void 0),Fe(this,"index",0),this.overlay=r,this._injector=a,this.sanitizer=c,this.ngZone=f,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,r,a={},c=""){return this._preBuildNotification(c,e,r,this.applyConfig(a))}success(e,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,r,this.applyConfig(a))}error(e,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,r,this.applyConfig(a))}info(e,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,r,this.applyConfig(a))}warning(e,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,r,this.applyConfig(a))}clear(e){for(const r of this.toasts)if(void 0!==e){if(r.toastId===e)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(e){const r=this._findToast(e);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const a=this.toasts[this.currentlyActive].toastRef;a.isInactive()||(this.currentlyActive=this.currentlyActive+1,a.activate())}return!0}findDuplicate(e="",r="",a,c){const{includeTitleDuplicates:f}=this.toastrConfig;for(const y of this.toasts)if((!f||f&&y.title===e)&&y.message===r)return y.toastRef.onDuplicate(a,c),y;return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===e)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(e,r,a,c){return c.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,r,a,c)):this._buildNotification(e,r,a,c)}_buildNotification(e,r,a,c){if(!c.toastComponent)throw new Error("toastComponent required");const f=this.findDuplicate(a,r,this.toastrConfig.resetTimeoutOnDuplicate&&c.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&a||r)&&this.toastrConfig.preventDuplicates&&null!==f)return f;this.previousToastMessage=r;let y=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(y=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const w=this.overlay.create(c.positionClass,this.overlayContainer);this.index=this.index+1;let I=r;r&&c.enableHtml&&(I=this.sanitizer.sanitize(u.q3G.HTML,r));const N=new gN(w),P=new mD(this.index,c,I,a,e,N),se=u.zs3.create({providers:[{provide:mD,useValue:P}],parent:this._injector}),le=new fN(c.toastComponent,se),me=w.attach(le,c.newestOnTop);N.componentInstance=me.instance;const He={toastId:this.index,title:a||"",message:r||"",toastRef:N,onShown:N.afterActivate(),onHidden:N.afterClosed(),onTap:P.onTap(),onAction:P.onAction(),portal:me};return y||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{He.toastRef.activate()})),this.toasts.push(He),He}}return Fe(n,"\u0275fac",function(e){return new(e||n)(u.LFG(lM),u.LFG(vN),u.LFG(u.zs3),u.LFG(_a),u.LFG(u.R0b))}),Fe(n,"\u0275prov",u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),n})();const EN={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(e,r,a){Fe(this,"toastrService",void 0),Fe(this,"toastPackage",void 0),Fe(this,"ngZone",void 0),Fe(this,"message",void 0),Fe(this,"title",void 0),Fe(this,"options",void 0),Fe(this,"duplicatesCount",void 0),Fe(this,"originalTimeout",void 0),Fe(this,"width",-1),Fe(this,"toastClasses",""),Fe(this,"state",void 0),Fe(this,"timeout",void 0),Fe(this,"intervalId",void 0),Fe(this,"hideTime",void 0),Fe(this,"sub",void 0),Fe(this,"sub1",void 0),Fe(this,"sub2",void 0),Fe(this,"sub3",void 0),this.toastrService=e,this.toastPackage=r,this.ngZone=a,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(c=>{this.duplicatesCount=c}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),r)):this.timeout=setTimeout(()=>e(),r)}outsideInterval(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),r)):this.intervalId=setInterval(()=>e(),r)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}}return Fe(n,"\u0275fac",function(e){return new(e||n)(u.Y36(_D),u.Y36(mD),u.Y36(u.R0b))}),Fe(n,"\u0275cmp",u.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,r){1&e&&u.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&e&&(u.d8E("@flyInOut",r.state),u.Tol(r.toastClasses),u.Udp("display",r.displayStyle))},standalone:!0,features:[u.jDz],attrs:oM,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,r){1&e&&(u.YNc(0,tN,3,0,"button",0),u.YNc(1,rN,3,5,"div",1),u.YNc(2,iN,1,3,"div",2),u.YNc(3,sN,2,4,"div",3),u.YNc(4,oN,2,2,"div",4)),2&e&&(u.Q6J("ngIf",r.options.closeButton),u.xp6(1),u.Q6J("ngIf",r.title),u.xp6(1),u.Q6J("ngIf",r.message&&r.options.enableHtml),u.xp6(1),u.Q6J("ngIf",r.message&&!r.options.enableHtml),u.xp6(1),u.Q6J("ngIf",r.options.progressBar))},dependencies:[Kr],encapsulation:2,data:{animation:[T0("flyInOut",[b0("inactive",zm({opacity:0})),b0("active",zm({opacity:1})),b0("removed",zm({opacity:0})),jI("inactive => active",BI("{{ easeTime }}ms {{ easing }}")),jI("active => removed",BI("{{ easeTime }}ms {{ easing }}"))])]}})),n})()},CN=(n={})=>(0,u.MR2)([{provide:lM,useValue:{default:EN,config:n}}]);let wN=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[CN(e)]}}}return Fe(n,"\u0275fac",function(e){return new(e||n)}),Fe(n,"\u0275mod",u.oAB({type:n})),Fe(n,"\u0275inj",u.cJS({})),n})();var qa=O(1135),TN=O(9672);function TS(...n){const t=(0,Hs.yG)(n),e=(0,Hs.jO)(n),{args:r,keys:a}=Mo(n);if(0===r.length)return(0,gn.D)([],t);const c=new Kn.y(function bN(n,t,e=Fl.y){return r=>{uM(t,()=>{const{length:a}=n,c=new Array(a);let f=a,y=a;for(let w=0;w<a;w++)uM(t,()=>{const I=(0,gn.D)(n[w],t);let N=!1;I.subscribe((0,Nn.x)(r,P=>{c[w]=P,N||(N=!0,y--),y||r.next(e(c.slice()))},()=>{--f||r.complete()}))},r)},r)}}(r,t,a?f=>Ts(a,f):Fl.y));return e?c.pipe(wa(e)):c}function uM(n,t,e){n?(0,TN.f)(e,n,t):t()}var Kv=O(8189);function bS(...n){return function IN(){return(0,Kv.J)(1)}()((0,gn.D)(n,(0,Hs.yG)(n)))}function cM(n){return new Kn.y(t=>{(0,Ea.Xf)(n()).subscribe(t)})}var SN=O(9635);function Yv(n,t){const e=(0,Jl.m)(n)?n:()=>n,r=a=>a.error(e());return new Kn.y(t?a=>t.schedule(r,0,a):r)}var dM=O(727);function IS(){return(0,ns.e)((n,t)=>{let e=null;n._refCount++;const r=(0,Nn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,c=e;e=null,a&&(!c||a===c)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class hM extends Kn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,ns.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new dM.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Nn.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=dM.w0.EMPTY)}return t}refCount(){return IS()(this)}}var us=O(8505);function wp(n){return(0,ns.e)((t,e)=>{let c,r=null,a=!1;r=t.subscribe((0,Nn.x)(e,void 0,void 0,f=>{c=(0,Ea.Xf)(n(f,wp(n)(t))),r?(r.unsubscribe(),r=null,c.subscribe(e)):a=!0})),a&&(r.unsubscribe(),r=null,c.subscribe(e))})}function SS(n){return n<=0?()=>ct.E:(0,ns.e)((t,e)=>{let r=[];t.subscribe((0,Nn.x)(e,a=>{r.push(a),n<r.length&&r.shift()},()=>{for(const a of r)e.next(a);e.complete()},void 0,()=>{r=null}))})}const $t="primary",Qv=Symbol("RouteTitle");class NN{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function i_(n){return new NN(n)}function PN(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const a={};for(let c=0;c<r.length;c++){const f=r[c],y=n[c];if(f.startsWith(":"))a[f.substring(1)]=y;else if(f!==y.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function su(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let a;for(let c=0;c<e.length;c++)if(a=e[c],!fM(n[a],t[a]))return!1;return!0}function fM(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((a,c)=>r[c]===a)}return n===t}function pM(n){return n.length>0?n[n.length-1]:null}function Ih(n){return function DN(n){return!!n&&(n instanceof Kn.y||(0,Jl.m)(n.lift)&&(0,Jl.m)(n.subscribe))}(n)?n:(0,u.QGY)(n)?(0,gn.D)(Promise.resolve(n)):(0,dt.of)(n)}const xN={exact:function _M(n,t,e){if(!Dp(n.segments,t.segments)||!yD(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!_M(n.children[r],t.children[r],e))return!1;return!0},subset:yM},gM={exact:function kN(n,t){return su(n,t)},subset:function FN(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>fM(n[e],t[e]))},ignored:()=>!0};function mM(n,t,e){return xN[e.paths](n.root,t.root,e.matrixParams)&&gM[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function yM(n,t,e){return vM(n,t,t.segments,e)}function vM(n,t,e,r){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!Dp(a,e)||t.hasChildren()||!yD(a,e,r))}if(n.segments.length===e.length){if(!Dp(n.segments,e)||!yD(n.segments,e,r))return!1;for(const a in t.children)if(!n.children[a]||!yM(n.children[a],t.children[a],r))return!1;return!0}{const a=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(Dp(n.segments,a)&&yD(n.segments,a,r)&&n.children[$t])&&vM(n.children[$t],t,c,r)}}function yD(n,t,e){return t.every((r,a)=>gM[e](n[a].parameters,r.parameters))}class s_{constructor(t=new yn([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=i_(this.queryParams)),this._queryParamMap}toString(){return UN.serialize(this)}}class yn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vD(this)}}class Jv{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=i_(this.parameters)),this._parameterMap}toString(){return wM(this)}}function Dp(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let Xv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new AS},providedIn:"root"}),n})();class AS{parse(t){const e=new YN(t);return new s_(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${eE(t.root,!0)}`,r=function jN(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(a=>`${ED(e)}=${ED(a)}`).join("&"):`${ED(e)}=${ED(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function BN(n){return encodeURI(n)}(t.fragment)}`:""}`}}const UN=new AS;function vD(n){return n.segments.map(t=>wM(t)).join("/")}function eE(n,t){if(!n.hasChildren())return vD(n);if(t){const e=n.children[$t]?eE(n.children[$t],!1):"",r=[];return Object.entries(n.children).forEach(([a,c])=>{a!==$t&&r.push(`${a}:${eE(c,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function VN(n,t){let e=[];return Object.entries(n.children).forEach(([r,a])=>{r===$t&&(e=e.concat(t(a,r)))}),Object.entries(n.children).forEach(([r,a])=>{r!==$t&&(e=e.concat(t(a,r)))}),e}(n,(r,a)=>a===$t?[eE(n.children[$t],!1)]:[`${a}:${eE(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$t]?`${vD(n)}/${e[0]}`:`${vD(n)}/(${e.join("//")})`}}function EM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ED(n){return EM(n).replace(/%3B/gi,";")}function MS(n){return EM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function CD(n){return decodeURIComponent(n)}function CM(n){return CD(n.replace(/\+/g,"%20"))}function wM(n){return`${MS(n.path)}${function HN(n){return Object.keys(n).map(t=>`;${MS(t)}=${MS(n[t])}`).join("")}(n.parameters)}`}const $N=/^[^\/()?;#]+/;function RS(n){const t=n.match($N);return t?t[0]:""}const GN=/^[^\/()?;=#]+/,zN=/^[^=?&#]+/,qN=/^[^&#]+/;class YN{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yn([],{}):new yn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[$t]=new yn(t,e)),r}parseSegment(){const t=RS(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(t),new Jv(CD(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function WN(n){const t=n.match(GN);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const a=RS(this.remaining);a&&(r=a,this.capture(r))}t[CD(e)]=CD(r)}parseQueryParam(t){const e=function ZN(n){const t=n.match(zN);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const f=function KN(n){const t=n.match(qN);return t?t[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const a=CM(e),c=CM(r);if(t.hasOwnProperty(a)){let f=t[a];Array.isArray(f)||(f=[f],t[a]=f),f.push(c)}else t[a]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=RS(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new u.vHH(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=$t);const f=this.parseChildren();e[c]=1===Object.keys(f).length?f[$t]:new yn([],f),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new u.vHH(4011,!1)}}function DM(n){return n.segments.length>0?new yn([],{[$t]:n}):n}function TM(n){const t={};for(const r of Object.keys(n.children)){const c=TM(n.children[r]);if(r===$t&&0===c.segments.length&&c.hasChildren())for(const[f,y]of Object.entries(c.children))t[f]=y;else(c.segments.length>0||c.hasChildren())&&(t[r]=c)}return function QN(n){if(1===n.numberOfChildren&&n.children[$t]){const t=n.children[$t];return new yn(n.segments.concat(t.segments),t.children)}return n}(new yn(n.segments,t))}function Tp(n){return n instanceof s_}function bM(n){let t;const a=DM(function e(c){const f={};for(const w of c.children){const I=e(w);f[w.outlet]=I}const y=new yn(c.url,f);return c===n&&(t=y),y}(n.root));return t??a}function IM(n,t,e,r){let a=n;for(;a.parent;)a=a.parent;if(0===t.length)return NS(a,a,a,e,r);const c=function XN(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new AM(!0,0,n);let t=0,e=!1;const r=n.reduce((a,c,f)=>{if("object"==typeof c&&null!=c){if(c.outlets){const y={};return Object.entries(c.outlets).forEach(([w,I])=>{y[w]="string"==typeof I?I.split("/"):I}),[...a,{outlets:y}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===f?(c.split("/").forEach((y,w)=>{0==w&&"."===y||(0==w&&""===y?e=!0:".."===y?t++:""!=y&&a.push(y))}),a):[...a,c]},[]);return new AM(e,t,r)}(t);if(c.toRoot())return NS(a,a,new yn([],{}),e,r);const f=function eP(n,t,e){if(n.isAbsolute)return new DD(t,!0,0);if(!e)return new DD(t,!1,NaN);if(null===e.parent)return new DD(e,!0,0);const r=wD(n.commands[0])?0:1;return function tP(n,t,e){let r=n,a=t,c=e;for(;c>a;){if(c-=a,r=r.parent,!r)throw new u.vHH(4005,!1);a=r.segments.length}return new DD(r,!1,a-c)}(e,e.segments.length-1+r,n.numberOfDoubleDots)}(c,a,n),y=f.processChildren?nE(f.segmentGroup,f.index,c.commands):MM(f.segmentGroup,f.index,c.commands);return NS(a,f.segmentGroup,y,e,r)}function wD(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function tE(n){return"object"==typeof n&&null!=n&&n.outlets}function NS(n,t,e,r,a){let f,c={};r&&Object.entries(r).forEach(([w,I])=>{c[w]=Array.isArray(I)?I.map(N=>`${N}`):`${I}`}),f=n===t?e:SM(n,t,e);const y=DM(TM(f));return new s_(y,c,a)}function SM(n,t,e){const r={};return Object.entries(n.children).forEach(([a,c])=>{r[a]=c===t?e:SM(c,t,e)}),new yn(n.segments,r)}class AM{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&wD(r[0]))throw new u.vHH(4003,!1);const a=r.find(tE);if(a&&a!==pM(r))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class DD{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function MM(n,t,e){if(n||(n=new yn([],{})),0===n.segments.length&&n.hasChildren())return nE(n,t,e);const r=function rP(n,t,e){let r=0,a=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=e.length)return c;const f=n.segments[a],y=e[r];if(tE(y))break;const w=`${y}`,I=r<e.length-1?e[r+1]:null;if(a>0&&void 0===w)break;if(w&&I&&"object"==typeof I&&void 0===I.outlets){if(!NM(w,I,f))return c;r+=2}else{if(!NM(w,{},f))return c;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,t,e),a=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new yn(n.segments.slice(0,r.pathIndex),{});return c.children[$t]=new yn(n.segments.slice(r.pathIndex),n.children),nE(c,0,a)}return r.match&&0===a.length?new yn(n.segments,{}):r.match&&!n.hasChildren()?PS(n,t,e):r.match?nE(n,0,a):PS(n,t,e)}function nE(n,t,e){if(0===e.length)return new yn(n.segments,{});{const r=function nP(n){return tE(n[0])?n[0].outlets:{[$t]:n}}(e),a={};if(!r[$t]&&n.children[$t]&&1===n.numberOfChildren&&0===n.children[$t].segments.length){const c=nE(n.children[$t],t,e);return new yn(n.segments,c.children)}return Object.entries(r).forEach(([c,f])=>{"string"==typeof f&&(f=[f]),null!==f&&(a[c]=MM(n.children[c],t,f))}),Object.entries(n.children).forEach(([c,f])=>{void 0===r[c]&&(a[c]=f)}),new yn(n.segments,a)}}function PS(n,t,e){const r=n.segments.slice(0,t);let a=0;for(;a<e.length;){const c=e[a];if(tE(c)){const w=iP(c.outlets);return new yn(r,w)}if(0===a&&wD(e[0])){r.push(new Jv(n.segments[t].path,RM(e[0]))),a++;continue}const f=tE(c)?c.outlets[$t]:`${c}`,y=a<e.length-1?e[a+1]:null;f&&y&&wD(y)?(r.push(new Jv(f,RM(y))),a+=2):(r.push(new Jv(f,{})),a++)}return new yn(r,{})}function iP(n){const t={};return Object.entries(n).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[e]=PS(new yn([],{}),0,r))}),t}function RM(n){const t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function NM(n,t,e){return n==e.path&&su(t,e.parameters)}const rE="imperative";class ou{constructor(t,e){this.id=t,this.url=e}}class OS extends ou{constructor(t,e,r="imperative",a=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bp extends ou{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class TD extends ou{constructor(t,e,r,a){super(t,e),this.reason=r,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class iE extends ou{constructor(t,e,r,a){super(t,e),this.reason=r,this.code=a,this.type=16}}class xS extends ou{constructor(t,e,r,a){super(t,e),this.error=r,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sP extends ou{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oP extends ou{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aP extends ou{constructor(t,e,r,a,c){super(t,e),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lP extends ou{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uP extends ou{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cP{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dP{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hP{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fP{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pP{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gP{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PM{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class mP{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new sE,this.attachRef=null}}let sE=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const a=this.getOrCreateContext(e);a.outlet=r,this.contexts.set(e,a)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new mP,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class OM{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=kS(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=kS(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=FS(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return FS(t,this._root).map(e=>e.value)}}function kS(n,t){if(n===t.value)return t;for(const e of t.children){const r=kS(n,e);if(r)return r}return null}function FS(n,t){if(n===t.value)return[t];for(const e of t.children){const r=FS(n,e);if(r.length)return r.unshift(t),r}return[]}class Ac{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function o_(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class xM extends OM{constructor(t,e){super(t),this.snapshot=e,LS(this,t)}toString(){return this.snapshot.toString()}}function kM(n,t){const e=function _P(n,t){const f=new bD([],{},{},"",{},$t,t,null,{});return new LM("",new Ac(f,[]))}(0,t),r=new qa.X([new Jv("",{})]),a=new qa.X({}),c=new qa.X({}),f=new qa.X({}),y=new qa.X(""),w=new a_(r,a,f,y,c,$t,t,e.root);return w.snapshot=e.root,new xM(new Ac(w,[]),e)}class a_{constructor(t,e,r,a,c,f,y,w){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=a,this.dataSubject=c,this.outlet=f,this.component=y,this._futureSnapshot=w,this.title=this.dataSubject?.pipe((0,_t.U)(I=>I[Qv]))??(0,dt.of)(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_t.U)(t=>i_(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_t.U)(t=>i_(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function FM(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const a=e[r],c=e[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(c.component)break;r--}}return function yP(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class bD{get title(){return this.data?.[Qv]}constructor(t,e,r,a,c,f,y,w,I){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=f,this.component=y,this.routeConfig=w,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=i_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=i_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class LM extends OM{constructor(t,e){super(e),this.url=t,LS(this,e)}toString(){return VM(this._root)}}function LS(n,t){t.value._routerState=n,t.children.forEach(e=>LS(n,e))}function VM(n){const t=n.children.length>0?` { ${n.children.map(VM).join(", ")} } `:"";return`${n.value}${t}`}function VS(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,su(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),su(t.params,e.params)||n.paramsSubject.next(e.params),function ON(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!su(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),su(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function US(n,t){const e=su(n.params,t.params)&&function LN(n,t){return Dp(n,t)&&n.every((e,r)=>su(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||US(n.parent,t.parent))}let BS=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=$t,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(sE),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb),this.inputBinder=(0,u.f3M)(ID,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:a}=e.name;if(r)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new u.vHH(4013,!1);this._activatedRoute=e;const a=this.location,f=e.snapshot.component,y=this.parentContexts.getOrCreateContext(this.name).children,w=new vP(e,y,a.injector);this.activated=a.createComponent(f,{index:a.length,injector:w,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),n})();class vP{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===a_?this.route:t===sE?this.childContexts:this.parent.get(t,e)}}const ID=new u.OlP("");let UM=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,a=TS([r.queryParams,r.params,r.data]).pipe((0,Tr.w)(([c,f,y],w)=>(y={...c,...f,...y},0===w?(0,dt.of)(y):Promise.resolve(y)))).subscribe(c=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const f=(0,u.qFp)(r.component);if(f)for(const{templateName:y}of f.inputs)e.activatedComponentRef.setInput(y,c[y]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function oE(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const a=function CP(n,t,e){return t.children.map(r=>{for(const a of e.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return oE(n,r,a);return oE(n,r)})}(n,t,e);return new Ac(r,a)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const f=c.route;return f.value._futureSnapshot=t.value,f.children=t.children.map(y=>oE(n,y)),f}}const r=function wP(n){return new a_(new qa.X(n.url),new qa.X(n.params),new qa.X(n.queryParams),new qa.X(n.fragment),new qa.X(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(c=>oE(n,c));return new Ac(r,a)}}const HS="ngNavigationCancelingError";function BM(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=Tp(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=HM(!1,0,t);return a.url=e,a.navigationBehaviorOptions=r,a}function HM(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[HS]=!0,r.cancellationCode=t,e&&(r.url=e),r}function jM(n){return $M(n)&&Tp(n.url)}function $M(n){return n&&n[HS]}let GM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(e,r){1&e&&u._UZ(0,"router-outlet")},dependencies:[BS],encapsulation:2}),n})();function jS(n){const t=n.children&&n.children.map(jS),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==$t&&(e.component=GM),e}function Ka(n){return n.outlet||$t}function aE(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class MP{constructor(t,e,r,a,c){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=a,this.inputBindingEnabled=c}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),VS(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const a=o_(e);t.children.forEach(c=>{const f=c.value.outlet;this.deactivateRoutes(c,a[f],r),delete a[f]}),Object.values(a).forEach(c=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(t,e,r){const a=t.value,c=e?e.value:null;if(a===c)if(a.component){const f=r.getContext(a.outlet);f&&this.deactivateChildRoutes(t,e,f.children)}else this.deactivateChildRoutes(t,e,r);else c&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,c=o_(t);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],a);if(r&&r.outlet){const f=r.outlet.detach(),y=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:f,route:t,contexts:y})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,c=o_(t);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],a);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){const a=o_(e);t.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],r),this.forwardEvent(new gP(c.value.snapshot))}),t.children.length&&this.forwardEvent(new fP(t.value.snapshot))}activateRoutes(t,e,r){const a=t.value,c=e?e.value:null;if(VS(a),a===c)if(a.component){const f=r.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,f.children)}else this.activateChildRoutes(t,e,r);else if(a.component){const f=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(y.contexts),f.attachRef=y.componentRef,f.route=y.route.value,f.outlet&&f.outlet.attach(y.componentRef,y.route.value),VS(y.route.value),this.activateChildRoutes(t,null,f.children)}else{const y=aE(a.snapshot);f.attachRef=null,f.route=a,f.injector=y,f.outlet&&f.outlet.activateWith(a,f.injector),this.activateChildRoutes(t,null,f.children)}}else this.activateChildRoutes(t,null,r)}}class WM{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class SD{constructor(t,e){this.component=t,this.route=e}}function RP(n,t,e){const r=n._root;return lE(r,t?t._root:null,e,[r.value])}function l_(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||(0,u.Z0I)(n)?t.get(n):n:r}function lE(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=o_(t);return n.children.forEach(f=>{(function PP(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,f=t?t.value:null,y=e?e.getContext(n.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){const w=function OP(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Dp(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Dp(n.url,t.url)||!su(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!US(n,t)||!su(n.queryParams,t.queryParams);default:return!US(n,t)}}(f,c,c.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new WM(r)):(c.data=f.data,c._resolvedData=f._resolvedData),lE(n,t,c.component?y?y.children:null:e,r,a),w&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new SD(y.outlet.component,f))}else f&&uE(t,y,a),a.canActivateChecks.push(new WM(r)),lE(n,null,c.component?y?y.children:null:e,r,a)})(f,c[f.value.outlet],e,r.concat([f.value]),a),delete c[f.value.outlet]}),Object.entries(c).forEach(([f,y])=>uE(y,e.getContext(f),a)),a}function uE(n,t,e){const r=o_(n),a=n.value;Object.entries(r).forEach(([c,f])=>{uE(f,a.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new SD(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function cE(n){return"function"==typeof n}function zM(n){return n instanceof tp||"EmptyError"===n?.name}const AD=Symbol("INITIAL_VALUE");function u_(){return(0,Tr.w)(n=>TS(n.map(t=>t.pipe(hh(1),function AN(...n){const t=(0,Hs.yG)(n);return(0,ns.e)((e,r)=>{(t?bS(n,e,t):bS(n,e)).subscribe(r)})}(AD)))).pipe((0,_t.U)(t=>{for(const e of t)if(!0!==e){if(e===AD)return AD;if(!1===e||e instanceof s_)return e}return!0}),Wa(t=>t!==AD),hh(1)))}function ZM(n){return(0,SN.z)((0,us.b)(t=>{if(Tp(t))throw BM(0,t)}),(0,_t.U)(t=>!0===t))}class MD{constructor(t){this.segmentGroup=t||null}}class qM{constructor(t){this.urlTree=t}}function c_(n){return Yv(new MD(n))}function KM(n){return Yv(new qM(n))}class XP{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new u.vHH(4002,!1)}lineralizeSegments(t,e){let r=[],a=e.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return(0,dt.of)(r);if(a.numberOfChildren>1||!a.children[$t])return Yv(new u.vHH(4e3,!1));a=a.children[$t]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,a){const c=this.createSegmentGroup(t,e.root,r,a);return new s_(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Object.entries(t).forEach(([a,c])=>{if("string"==typeof c&&c.startsWith(":")){const y=c.substring(1);r[a]=e[y]}else r[a]=c}),r}createSegmentGroup(t,e,r,a){const c=this.createSegments(t,e.segments,r,a);let f={};return Object.entries(e.children).forEach(([y,w])=>{f[y]=this.createSegmentGroup(t,w,r,a)}),new yn(c,f)}createSegments(t,e,r,a){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,a):this.findOrReturn(c,r))}findPosParam(t,e,r){const a=r[e.path.substring(1)];if(!a)throw new u.vHH(4001,!1);return a}findOrReturn(t,e){let r=0;for(const a of e){if(a.path===t.path)return e.splice(r),a;r++}return t}}const $S={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eO(n,t,e,r,a){const c=GS(n,t,e);return c.matched?(r=function DP(n,t){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,r),function YP(n,t,e,r){const a=t.canMatch;if(!a||0===a.length)return(0,dt.of)(!0);const c=a.map(f=>{const y=l_(f,n);return Ih(function UP(n){return n&&cE(n.canMatch)}(y)?y.canMatch(t,e):n.runInContext(()=>y(t,e)))});return(0,dt.of)(c).pipe(u_(),ZM())}(r,t,e).pipe((0,_t.U)(f=>!0===f?c:{...$S}))):(0,dt.of)(c)}function GS(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...$S}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||PN)(e,n,t);if(!a)return{...$S};const c={};Object.entries(a.posParams??{}).forEach(([y,w])=>{c[y]=w.path});const f=a.consumed.length>0?{...c,...a.consumed[a.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:f,positionalParamSegments:a.posParams??{}}}function YM(n,t,e,r){return e.length>0&&function rO(n,t,e){return e.some(r=>RD(n,t,r)&&Ka(r)!==$t)}(n,e,r)?{segmentGroup:new yn(t,nO(r,new yn(e,n.children))),slicedSegments:[]}:0===e.length&&function iO(n,t,e){return e.some(r=>RD(n,t,r))}(n,e,r)?{segmentGroup:new yn(n.segments,tO(n,0,e,r,n.children)),slicedSegments:e}:{segmentGroup:new yn(n.segments,n.children),slicedSegments:e}}function tO(n,t,e,r,a){const c={};for(const f of r)if(RD(n,e,f)&&!a[Ka(f)]){const y=new yn([],{});c[Ka(f)]=y}return{...a,...c}}function nO(n,t){const e={};e[$t]=t;for(const r of n)if(""===r.path&&Ka(r)!==$t){const a=new yn([],{});e[Ka(r)]=a}return e}function RD(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class lO{constructor(t,e,r,a,c,f,y){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=a,this.urlTree=c,this.paramsInheritanceStrategy=f,this.urlSerializer=y,this.allowRedirects=!0,this.applyRedirects=new XP(this.urlSerializer,this.urlTree)}noMatchError(t){return new u.vHH(4002,!1)}recognize(){const t=YM(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,$t).pipe(wp(e=>{if(e instanceof qM)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof MD?this.noMatchError(e):e}),(0,_t.U)(e=>{const r=new bD([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,{}),a=new Ac(r,e),c=new LM("",a),f=function JN(n,t,e=null,r=null){return IM(bM(n),t,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return f.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(f),this.inheritParamsAndData(c._root),{state:c,tree:f}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,$t).pipe(wp(r=>{throw r instanceof MD?this.noMatchError(r):r}))}inheritParamsAndData(t){const e=t.value,r=FM(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,r,a){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,a,!0)}processChildren(t,e,r){const a=[];for(const c of Object.keys(r.children))"primary"===c?a.unshift(c):a.push(c);return(0,gn.D)(a).pipe(vh(c=>{const f=r.children[c],y=function SP(n,t){const e=n.filter(r=>Ka(r)===t);return e.push(...n.filter(r=>Ka(r)!==t)),e}(e,c);return this.processSegmentGroup(t,y,f,c)}),Qp((c,f)=>(c.push(...f),c)),Cm(null),function MN(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Wa((a,c)=>n(a,c,r)):Fl.y,SS(1),e?Cm(t):dw(()=>new tp))}(),(0,Ii.z)(c=>{if(null===c)return c_(r);const f=QM(c);return function uO(n){n.sort((t,e)=>t.value.outlet===$t?-1:e.value.outlet===$t?1:t.value.outlet.localeCompare(e.value.outlet))}(f),(0,dt.of)(f)}))}processSegment(t,e,r,a,c,f){return(0,gn.D)(e).pipe(vh(y=>this.processSegmentAgainstRoute(y._injector??t,e,y,r,a,c,f).pipe(wp(w=>{if(w instanceof MD)return(0,dt.of)(null);throw w}))),Ql(y=>!!y),wp(y=>{if(zM(y))return function oO(n,t,e){return 0===t.length&&!n.children[e]}(r,a,c)?(0,dt.of)([]):c_(r);throw y}))}processSegmentAgainstRoute(t,e,r,a,c,f,y){return function sO(n,t,e,r){return!!(Ka(n)===r||r!==$t&&RD(t,e,n))&&("**"===n.path||GS(t,n,e).matched)}(r,a,c,f)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,a,r,c,f,y):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,a,e,r,c,f):c_(a):c_(a)}expandSegmentAgainstRouteUsingRedirect(t,e,r,a,c,f){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,a,f):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,c,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,a){const c=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?KM(c):this.applyRedirects.lineralizeSegments(r,c).pipe((0,Ii.z)(f=>{const y=new yn(f,{});return this.processSegment(t,e,y,f,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,c,f){const{matched:y,consumedSegments:w,remainingSegments:I,positionalParamSegments:N}=GS(e,a,c);if(!y)return c_(e);const P=this.applyRedirects.applyRedirectCommands(w,a.redirectTo,N);return a.redirectTo.startsWith("/")?KM(P):this.applyRedirects.lineralizeSegments(a,P).pipe((0,Ii.z)(G=>this.processSegment(t,r,e,G.concat(I),f,!1)))}matchSegmentAgainstRoute(t,e,r,a,c,f){let y;if("**"===r.path){const w=a.length>0?pM(a).parameters:{},I=new bD(a,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JM(r),Ka(r),r.component??r._loadedComponent??null,r,XM(r));y=(0,dt.of)({snapshot:I,consumedSegments:[],remainingSegments:[]}),e.children={}}else y=eO(e,r,a,t).pipe((0,_t.U)(({matched:w,consumedSegments:I,remainingSegments:N,parameters:P})=>w?{snapshot:new bD(I,P,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JM(r),Ka(r),r.component??r._loadedComponent??null,r,XM(r)),consumedSegments:I,remainingSegments:N}:null));return y.pipe((0,Tr.w)(w=>null===w?c_(e):this.getChildConfig(t=r._injector??t,r,a).pipe((0,Tr.w)(({routes:I})=>{const N=r._loadedInjector??t,{snapshot:P,consumedSegments:G,remainingSegments:se}=w,{segmentGroup:le,slicedSegments:me}=YM(e,G,se,I);if(0===me.length&&le.hasChildren())return this.processChildren(N,I,le).pipe((0,_t.U)(vt=>null===vt?null:[new Ac(P,vt)]));if(0===I.length&&0===me.length)return(0,dt.of)([new Ac(P,[])]);const He=Ka(r)===c;return this.processSegment(N,I,le,me,He?$t:c,!0).pipe((0,_t.U)(vt=>[new Ac(P,vt)]))}))))}getChildConfig(t,e,r){return e.children?(0,dt.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,dt.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function KP(n,t,e,r){const a=t.canLoad;if(void 0===a||0===a.length)return(0,dt.of)(!0);const c=a.map(f=>{const y=l_(f,n);return Ih(function kP(n){return n&&cE(n.canLoad)}(y)?y.canLoad(t,e):n.runInContext(()=>y(t,e)))});return(0,dt.of)(c).pipe(u_(),ZM())}(t,e,r).pipe((0,Ii.z)(a=>a?this.configLoader.loadChildren(t,e).pipe((0,us.b)(c=>{e._loadedRoutes=c.routes,e._loadedInjector=c.injector})):function JP(n){return Yv(HM(!1,3))}())):(0,dt.of)({routes:[],injector:t})}}function cO(n){const t=n.value.routeConfig;return t&&""===t.path}function QM(n){const t=[],e=new Set;for(const r of n){if(!cO(r)){t.push(r);continue}const a=t.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...r.children),e.add(a)):t.push(r)}for(const r of e){const a=QM(r.children);t.push(new Ac(r.value,a))}return t.filter(r=>!e.has(r))}function JM(n){return n.data||{}}function XM(n){return n.resolve||{}}function eR(n){return"string"==typeof n.title||null===n.title}function WS(n){return(0,Tr.w)(t=>{const e=n(t);return e?(0,gn.D)(e).pipe((0,_t.U)(()=>t)):(0,dt.of)(t)})}const d_=new u.OlP("ROUTES");let zS=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,dt.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Ih(e.loadComponent()).pipe((0,_t.U)(tR),(0,us.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=c}),Eh(()=>{this.componentLoaders.delete(e)})),a=new hM(r,()=>new $i.x).pipe(IS());return this.componentLoaders.set(e,a),a}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,dt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,_t.U)(y=>{this.onLoadEndListener&&this.onLoadEndListener(r);let w,I;return Array.isArray(y)?I=y:(w=y.create(e).injector,I=w.get(d_,[],u.XFs.Self|u.XFs.Optional).flat()),{routes:I.map(jS),injector:w}}),Eh(()=>{this.childrenLoaders.delete(r)})),f=new hM(c,()=>new $i.x).pipe(IS());return this.childrenLoaders.set(r,f),f}loadModuleFactoryOrRoutes(e){return Ih(e()).pipe((0,_t.U)(tR),(0,Ii.z)(r=>r instanceof u.YKP||Array.isArray(r)?(0,dt.of)(r):(0,gn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tR(n){return function _O(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let ND=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new $i.x,this.configLoader=(0,u.f3M)(zS),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(Xv),this.rootContexts=(0,u.f3M)(sE),this.inputBindingEnabled=null!==(0,u.f3M)(ID,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,dt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=a=>this.events.next(new dP(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new cP(a))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e){return this.transitions=new qa.X({id:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:rE,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Wa(r=>0!==r.id),(0,_t.U)(r=>({...r,extractedUrl:e.urlHandlingStrategy.extract(r.rawUrl)})),(0,Tr.w)(r=>{let a=!1,c=!1;return(0,dt.of)(r).pipe((0,us.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Tr.w)(f=>{const y=e.browserUrlTree.toString(),w=!e.navigated||f.extractedUrl.toString()!==y||y!==e.currentUrlTree.toString();if(!w&&"reload"!==(f.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const N="";return this.events.next(new iE(f.id,e.serializeUrl(r.rawUrl),N,0)),e.rawUrlTree=f.rawUrl,f.resolve(null),ct.E}if(e.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return nR(f.source)&&(e.browserUrlTree=f.extractedUrl),(0,dt.of)(f).pipe((0,Tr.w)(N=>{const P=this.transitions?.getValue();return this.events.next(new OS(N.id,this.urlSerializer.serialize(N.extractedUrl),N.source,N.restoredState)),P!==this.transitions?.getValue()?ct.E:Promise.resolve(N)}),function dO(n,t,e,r,a,c){return(0,Ii.z)(f=>function aO(n,t,e,r,a,c,f="emptyOnly"){return new lO(n,t,e,r,a,f,c).recognize()}(n,t,e,r,f.extractedUrl,a,c).pipe((0,_t.U)(({state:y,tree:w})=>({...f,targetSnapshot:y,urlAfterRedirects:w}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,us.b)(N=>{if(r.targetSnapshot=N.targetSnapshot,r.urlAfterRedirects=N.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:N.urlAfterRedirects},"eager"===e.urlUpdateStrategy){if(!N.extras.skipLocationChange){const G=e.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl);e.setBrowserUrl(G,N)}e.browserUrlTree=N.urlAfterRedirects}const P=new sP(N.id,this.urlSerializer.serialize(N.extractedUrl),this.urlSerializer.serialize(N.urlAfterRedirects),N.targetSnapshot);this.events.next(P)}));if(w&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:N,extractedUrl:P,source:G,restoredState:se,extras:le}=f,me=new OS(N,this.urlSerializer.serialize(P),G,se);this.events.next(me);const He=kM(0,this.rootComponentType).snapshot;return r={...f,targetSnapshot:He,urlAfterRedirects:P,extras:{...le,skipLocationChange:!1,replaceUrl:!1}},(0,dt.of)(r)}{const N="";return this.events.next(new iE(f.id,e.serializeUrl(r.extractedUrl),N,1)),e.rawUrlTree=f.rawUrl,f.resolve(null),ct.E}}),(0,us.b)(f=>{const y=new oP(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}),(0,_t.U)(f=>r={...f,guards:RP(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function HP(n,t){return(0,Ii.z)(e=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:f}}=e;return 0===f.length&&0===c.length?(0,dt.of)({...e,guardsResult:!0}):function jP(n,t,e,r){return(0,gn.D)(n).pipe((0,Ii.z)(a=>function qP(n,t,e,r,a){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,dt.of)(!0);const f=c.map(y=>{const w=aE(t)??a,I=l_(y,w);return Ih(function VP(n){return n&&cE(n.canDeactivate)}(I)?I.canDeactivate(n,t,e,r):w.runInContext(()=>I(n,t,e,r))).pipe(Ql())});return(0,dt.of)(f).pipe(u_())}(a.component,a.route,e,t,r)),Ql(a=>!0!==a,!0))}(f,r,a,n).pipe((0,Ii.z)(y=>y&&function xP(n){return"boolean"==typeof n}(y)?function $P(n,t,e,r){return(0,gn.D)(t).pipe(vh(a=>bS(function WP(n,t){return null!==n&&t&&t(new hP(n)),(0,dt.of)(!0)}(a.route.parent,r),function GP(n,t){return null!==n&&t&&t(new pP(n)),(0,dt.of)(!0)}(a.route,r),function ZP(n,t,e){const r=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(f=>function NP(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(f)).filter(f=>null!==f).map(f=>cM(()=>{const y=f.guards.map(w=>{const I=aE(f.node)??e,N=l_(w,I);return Ih(function LP(n){return n&&cE(n.canActivateChild)}(N)?N.canActivateChild(r,n):I.runInContext(()=>N(r,n))).pipe(Ql())});return(0,dt.of)(y).pipe(u_())}));return(0,dt.of)(c).pipe(u_())}(n,a.path,e),function zP(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,dt.of)(!0);const a=r.map(c=>cM(()=>{const f=aE(t)??e,y=l_(c,f);return Ih(function FP(n){return n&&cE(n.canActivate)}(y)?y.canActivate(t,n):f.runInContext(()=>y(t,n))).pipe(Ql())}));return(0,dt.of)(a).pipe(u_())}(n,a.route,e))),Ql(a=>!0!==a,!0))}(r,c,n,t):(0,dt.of)(y)),(0,_t.U)(y=>({...e,guardsResult:y})))})}(this.environmentInjector,f=>this.events.next(f)),(0,us.b)(f=>{if(r.guardsResult=f.guardsResult,Tp(f.guardsResult))throw BM(0,f.guardsResult);const y=new aP(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(y)}),Wa(f=>!!f.guardsResult||(e.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),WS(f=>{if(f.guards.canActivateChecks.length)return(0,dt.of)(f).pipe((0,us.b)(y=>{const w=new lP(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(w)}),(0,Tr.w)(y=>{let w=!1;return(0,dt.of)(y).pipe(function hO(n,t){return(0,Ii.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=e;if(!a.length)return(0,dt.of)(e);let c=0;return(0,gn.D)(a).pipe(vh(f=>function fO(n,t,e,r){const a=n.routeConfig,c=n._resolve;return void 0!==a?.title&&!eR(a)&&(c[Qv]=a.title),function pO(n,t,e,r){const a=function gO(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===a.length)return(0,dt.of)({});const c={};return(0,gn.D)(a).pipe((0,Ii.z)(f=>function mO(n,t,e,r){const a=aE(t)??r,c=l_(n,a);return Ih(c.resolve?c.resolve(t,e):a.runInContext(()=>c(t,e)))}(n[f],t,e,r).pipe(Ql(),(0,us.b)(y=>{c[f]=y}))),SS(1),function RN(n){return(0,_t.U)(()=>n)}(c),wp(f=>zM(f)?ct.E:Yv(f)))}(c,n,t,r).pipe((0,_t.U)(f=>(n._resolvedData=f,n.data=FM(n,e).resolve,a&&eR(a)&&(n.data[Qv]=a.title),null)))}(f.route,r,n,t)),(0,us.b)(()=>c++),SS(1),(0,Ii.z)(f=>c===a.length?(0,dt.of)(e):ct.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,us.b)({next:()=>w=!0,complete:()=>{w||(e.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,us.b)(y=>{const w=new uP(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(w)}))}),WS(f=>{const y=w=>{const I=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,us.b)(N=>{w.component=N}),(0,_t.U)(()=>{})));for(const N of w.children)I.push(...y(N));return I};return TS(y(f.targetSnapshot.root)).pipe(Cm(),hh(1))}),WS(()=>this.afterPreactivation()),(0,_t.U)(f=>{const y=function EP(n,t,e){const r=oE(n,t._root,e?e._root:void 0);return new xM(r,t)}(e.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return r={...f,targetRouterState:y}}),(0,us.b)(f=>{e.currentUrlTree=f.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),e.routerState=f.targetRouterState,"deferred"===e.urlUpdateStrategy&&(f.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,f),e.browserUrlTree=f.urlAfterRedirects)}),((n,t,e,r)=>(0,_t.U)(a=>(new MP(t,a.targetRouterState,a.currentRouterState,e,r).activate(n),a)))(this.rootContexts,e.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),hh(1),(0,us.b)({next:f=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new bp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{a=!0}}),Eh(()=>{a||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),wp(f=>{if(c=!0,$M(f)){jM(f)||(e.navigated=!0,e.restoreHistory(r,!0));const y=new TD(r.id,this.urlSerializer.serialize(r.extractedUrl),f.message,f.cancellationCode);if(this.events.next(y),jM(f)){const w=e.urlHandlingStrategy.merge(f.url,e.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||nR(r.source)};e.scheduleNavigation(w,rE,null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{e.restoreHistory(r,!0);const y=new xS(r.id,this.urlSerializer.serialize(r.extractedUrl),f,r.targetSnapshot??void 0);this.events.next(y);try{r.resolve(e.errorHandler(f))}catch(w){r.reject(w)}}return ct.E}))}))}cancelNavigationTransition(e,r,a){const c=new TD(e.id,this.urlSerializer.serialize(e.extractedUrl),r,a);this.events.next(c),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nR(n){return n!==rE}let rR=(()=>{class n{buildTitle(e){let r,a=e.root;for(;void 0!==a;)r=this.getResolvedTitleForRoute(a)??r,a=a.children.find(c=>c.outlet===$t);return r}getResolvedTitleForRoute(e){return e.data[Qv]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(yO)},providedIn:"root"}),n})(),yO=(()=>{class n extends rR{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(pa))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(CO)},providedIn:"root"}),n})();class EO{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let CO=(()=>{class n extends EO{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PD=new u.OlP("",{providedIn:"root",factory:()=>({})});let wO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(DO)},providedIn:"root"}),n})(),DO=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var oo=(()=>((oo=oo||{})[oo.COMPLETE=0]="COMPLETE",oo[oo.FAILED=1]="FAILED",oo[oo.REDIRECTING=2]="REDIRECTING",oo))();function iR(n,t){n.events.pipe(Wa(e=>e instanceof bp||e instanceof TD||e instanceof xS||e instanceof iE),(0,_t.U)(e=>e instanceof bp||e instanceof iE?oo.COMPLETE:e instanceof TD&&(0===e.code||1===e.code)?oo.REDIRECTING:oo.FAILED),Wa(e=>e!==oo.REDIRECTING),hh(1)).subscribe(()=>{t()})}function TO(n){throw n}function bO(n,t,e){return t.parse("/")}const IO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},SO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ao=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this.options=(0,u.f3M)(PD,{optional:!0})||{},this.pendingTasks=(0,u.f3M)(u.HDt),this.errorHandler=this.options.errorHandler||TO,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||bO,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(wO),this.routeReuseStrategy=(0,u.f3M)(vO),this.titleStrategy=(0,u.f3M)(rR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,u.f3M)(d_,{optional:!0})?.flat()??[],this.navigationTransitions=(0,u.f3M)(ND),this.urlSerializer=(0,u.f3M)(Xv),this.location=(0,u.f3M)(je),this.componentInputBindingEnabled=!!(0,u.f3M)(ID,{optional:!0}),this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new s_,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=kM(0,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),rE,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,a){const c={replaceUrl:!0},f=a?.navigationId?a:null;if(a){const w={...a};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(c.state=w)}const y=this.parseUrl(e);this.scheduleNavigation(y,r,f,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(jS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:a,queryParams:c,fragment:f,queryParamsHandling:y,preserveFragment:w}=r,I=w?this.currentUrlTree.fragment:f;let P,N=null;switch(y){case"merge":N={...this.currentUrlTree.queryParams,...c};break;case"preserve":N=this.currentUrlTree.queryParams;break;default:N=c||null}null!==N&&(N=this.removeEmptyProps(N));try{P=bM(a?a.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),P=this.currentUrlTree.root}return IM(P,e,N,I??null)}navigateByUrl(e,r={skipLocationChange:!1}){const a=Tp(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,rE,null,r)}navigate(e,r={skipLocationChange:!1}){return function AO(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new u.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return r}isActive(e,r){let a;if(a=!0===r?{...IO}:!1===r?{...SO}:r,Tp(e))return mM(this.currentUrlTree,e,a);const c=this.parseUrl(e);return mM(this.currentUrlTree,c,a)}removeEmptyProps(e){return Object.keys(e).reduce((r,a)=>{const c=e[a];return null!=c&&(r[a]=c),r},{})}scheduleNavigation(e,r,a,c,f){if(this.disposed)return Promise.resolve(!1);let y,w,I;f?(y=f.resolve,w=f.reject,I=f.promise):I=new Promise((P,G)=>{y=P,w=G});const N=this.pendingTasks.add();return iR(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(N))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:c,resolve:y,reject:w,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(P=>Promise.reject(P))}setBrowserUrl(e,r){const a=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl){const f={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(a,"",f)}else{const c={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(a,"",c)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-(this.browserPageId??this.currentPageId);0!==c?this.location.historyGo(c):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===c&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OD=(()=>{class n{constructor(e,r,a,c,f,y){this.router=e,this.route=r,this.tabIndexAttribute=a,this.renderer=c,this.el=f,this.locationStrategy=y,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new $i.x;const w=f.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===w||"area"===w,this.isAnchorElement?this.subscription=e.events.subscribe(I=>{I instanceof bp&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,u.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,u.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,u.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,a,c,f){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||r||a||c||f||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){const a=this.renderer,c=this.el.nativeElement;null!==r?a.setAttribute(c,e,r):a.removeAttribute(c,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(ao),u.Y36(a_),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Pe))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,r){1&e&&u.NdJ("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&e&&u.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})();class sR{}let NO=(()=>{class n{constructor(e,r,a,c,f){this.router=e,this.injector=a,this.preloadingStrategy=c,this.loader=f}setUpPreloading(){this.subscription=this.router.events.pipe(Wa(e=>e instanceof bp),vh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const a=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,u.MMx)(c.providers,e,`Route: ${c.path}`));const f=c._injector??e,y=c._loadedInjector??f;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&a.push(this.preloadConfig(f,c)),(c.children||c._loadedRoutes)&&a.push(this.processRoutes(y,c.children??c._loadedRoutes))}return(0,gn.D)(a).pipe((0,Kv.J)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let a;a=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):(0,dt.of)(null);const c=a.pipe((0,Ii.z)(f=>null===f?(0,dt.of)(void 0):(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,this.processRoutes(f.injector??e,f.routes))));if(r.loadComponent&&!r._loadedComponent){const f=this.loader.loadComponent(r);return(0,gn.D)([c,f]).pipe((0,Kv.J)())}return c})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ao),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(sR),u.LFG(zS))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZS=new u.OlP("");let oR=(()=>{class n{constructor(e,r,a,c,f={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=a,this.zone=c,this.options=f,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},f.scrollPositionRestoration=f.scrollPositionRestoration||"disabled",f.anchorScrolling=f.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof OS?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof bp?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof iE&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof PM&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new PM(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Mc(n,t){return{\u0275kind:n,\u0275providers:t}}function lR(){const n=(0,u.f3M)(u.zs3);return t=>{const e=n.get(u.z2F);if(t!==e.components[0])return;const r=n.get(ao),a=n.get(uR);1===n.get(qS)&&r.initialNavigation(),n.get(cR,null,u.XFs.Optional)?.setUpPreloading(),n.get(ZS,null,u.XFs.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}const uR=new u.OlP("",{factory:()=>new $i.x}),qS=new u.OlP("",{providedIn:"root",factory:()=>1}),cR=new u.OlP("");function kO(n){return Mc(0,[{provide:cR,useExisting:NO},{provide:sR,useExisting:n}])}const dR=new u.OlP("ROUTER_FORROOT_GUARD"),LO=[je,{provide:Xv,useClass:AS},ao,sE,{provide:a_,useFactory:function aR(n){return n.routerState.root},deps:[ao]},zS,[]];function VO(){return new u.PXZ("Router",ao)}let hR=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[LO,[],{provide:d_,multi:!0,useValue:e},{provide:dR,useFactory:jO,deps:[[ao,new u.FiY,new u.tp0]]},{provide:PD,useValue:r||{}},r?.useHash?{provide:Pe,useClass:be}:{provide:Pe,useClass:$e},{provide:ZS,useFactory:()=>{const n=(0,u.f3M)(ki),t=(0,u.f3M)(u.R0b),e=(0,u.f3M)(PD),r=(0,u.f3M)(ND),a=(0,u.f3M)(Xv);return e.scrollOffset&&n.setOffset(e.scrollOffset),new oR(a,r,n,t,e)}},r?.preloadingStrategy?kO(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:VO},r?.initialNavigation?$O(r):[],r?.bindToComponentInputs?Mc(8,[UM,{provide:ID,useExisting:UM}]).\u0275providers:[],[{provide:fR,useFactory:lR},{provide:u.tb,multi:!0,useExisting:fR}]]}}static forChild(e){return{ngModule:n,providers:[{provide:d_,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(dR,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function jO(n){return"guarded"}function $O(n){return["disabled"===n.initialNavigation?Mc(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const t=(0,u.f3M)(ao);return()=>{t.setUpLocationChangeListener()}}},{provide:qS,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Mc(2,[{provide:qS,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:t=>{const e=t.get(Se,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const a=t.get(ao),c=t.get(uR);iR(a,()=>{r(!0)}),t.get(ND).afterPreactivation=()=>(r(!0),c.closed?(0,dt.of)(void 0):c),a.initialNavigation()}))}}]).\u0275providers:[]]}const fR=new u.OlP("");let KS=(()=>{class n{constructor(e,r){this.db=e,this.httpClient=r,this.dbPath="/tutorials",this.tutorialsRef=e.list(this.dbPath)}getAll(){return this.tutorialsRef}create(e){return this.tutorialsRef.push(e)}update(e,r){return this.tutorialsRef.update(e,r)}delete(e){return this.tutorialsRef.remove(e)}deleteAll(){return this.tutorialsRef.remove()}buscarCep(e){return this.httpClient.get(`https://viacep.com.br/ws/${e}/json/`)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Kw),u.LFG(vv))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WO(n,t){1&n&&(u.TgZ(0,"div",48),u._uU(1," Tem que ter 8 d\xedgitos "),u.qZA())}function zO(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"button",49),u.NdJ("click",function(){u.CHM(e);const a=u.oxw(2);return u.KtG(a.updatePublished(!1))}),u._uU(1," UnPublish "),u.qZA()}}function ZO(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"button",49),u.NdJ("click",function(){u.CHM(e);const a=u.oxw(2);return u.KtG(a.updatePublished(!0))}),u._uU(1," Publicado! "),u.qZA()}}function qO(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",2)(1,"h4"),u._uU(2,"Tutorial"),u.qZA(),u.TgZ(3,"form")(4,"div",3)(5,"label",4),u._uU(6,"nome"),u.qZA(),u.TgZ(7,"input",5),u.NdJ("ngModelChange",function(a){u.CHM(e);const c=u.oxw();return u.KtG(c.currentTutorial.nome=a)}),u.qZA()(),u.TgZ(8,"div",3)(9,"label",6),u._uU(10,"Description"),u.qZA(),u.TgZ(11,"input",7),u.NdJ("ngModelChange",function(a){u.CHM(e);const c=u.oxw();return u.KtG(c.currentTutorial.description=a)}),u.qZA()(),u.TgZ(12,"div",3)(13,"label",8),u._uU(14,"CEP"),u.qZA(),u.TgZ(15,"input",9),u.NdJ("ngModelChange",function(a){u.CHM(e);const c=u.oxw();return u.KtG(c.currentTutorial.cep=a)})("input",function(){u.CHM(e);const a=u.oxw();return u.KtG(a.consultaCep(a.currentTutorial.cep))})("blur",function(){u.CHM(e);const a=u.oxw();return u.KtG(a.updateCepCaracters(a.currentTutorial.cep))}),u.qZA(),u.YNc(16,WO,2,0,"div",10),u.qZA(),u.TgZ(17,"div",3)(18,"label",11),u._uU(19,"Rua"),u.qZA(),u.TgZ(20,"input",12),u.NdJ("ngModelChange",function(a){u.CHM(e);const c=u.oxw();return u.KtG(c.currentTutorial.rua=a)}),u.qZA()(),u.TgZ(21,"div",3)(22,"label",13),u._uU(23,"Estado"),u.qZA(),u.TgZ(24,"select",14),u.NdJ("ngModelChange",function(a){u.CHM(e);const c=u.oxw();return u.KtG(c.currentTutorial.estado=a)}),u.TgZ(25,"option",15),u._uU(26,"Selecione o estado"),u.qZA(),u.TgZ(27,"option",16),u._uU(28,"AC"),u.qZA(),u.TgZ(29,"option",17),u._uU(30,"AL"),u.qZA(),u.TgZ(31,"option",18),u._uU(32,"AM"),u.qZA(),u.TgZ(33,"option",19),u._uU(34,"AP"),u.qZA(),u.TgZ(35,"option",20),u._uU(36,"BA"),u.qZA(),u.TgZ(37,"option",21),u._uU(38,"CE"),u.qZA(),u.TgZ(39,"option",22),u._uU(40,"DF"),u.qZA(),u.TgZ(41,"option",23),u._uU(42,"ES"),u.qZA(),u.TgZ(43,"option",24),u._uU(44,"GO"),u.qZA(),u.TgZ(45,"option",25),u._uU(46,"MA"),u.qZA(),u.TgZ(47,"option",26),u._uU(48,"MG"),u.qZA(),u.TgZ(49,"option",27),u._uU(50,"MS"),u.qZA(),u.TgZ(51,"option",28),u._uU(52,"MT"),u.qZA(),u.TgZ(53,"option",29),u._uU(54,"PA"),u.qZA(),u.TgZ(55,"option",30),u._uU(56,"PB"),u.qZA(),u.TgZ(57,"option",31),u._uU(58,"PE"),u.qZA(),u.TgZ(59,"option",32),u._uU(60,"PI"),u.qZA(),u.TgZ(61,"option",33),u._uU(62,"PR"),u.qZA(),u.TgZ(63,"option",34),u._uU(64,"RJ"),u.qZA(),u.TgZ(65,"option",35),u._uU(66,"RN"),u.qZA(),u.TgZ(67,"option",36),u._uU(68,"RO"),u.qZA(),u.TgZ(69,"option",37),u._uU(70,"RR"),u.qZA(),u.TgZ(71,"option",38),u._uU(72,"RS"),u.qZA(),u.TgZ(73,"option",39),u._uU(74,"SC"),u.qZA(),u.TgZ(75,"option",40),u._uU(76,"SE"),u.qZA(),u.TgZ(77,"option",41),u._uU(78,"SP"),u.qZA(),u.TgZ(79,"option",42),u._uU(80,"TO"),u.qZA()()(),u.TgZ(81,"div",3)(82,"label",43),u._uU(83,"Cidade"),u.qZA(),u.TgZ(84,"input",44),u.NdJ("ngModelChange",function(a){u.CHM(e);const c=u.oxw();return u.KtG(c.currentTutorial.cidade=a)}),u.qZA()(),u.TgZ(85,"div",3)(86,"label")(87,"strong"),u._uU(88,"Status:"),u.qZA()(),u._uU(89),u.qZA()(),u.YNc(90,zO,2,0,"button",45),u.YNc(91,ZO,2,0,"button",45),u.TgZ(92,"button",46),u.NdJ("click",function(){u.CHM(e);const a=u.oxw();return u.KtG(a.deleteTutorial())}),u._uU(93," Delete "),u.qZA(),u.TgZ(94,"button",47),u.NdJ("click",function(){u.CHM(e);const a=u.oxw();return u.KtG(a.updateTutorial())}),u._uU(95," Update "),u.qZA(),u.TgZ(96,"p"),u._uU(97),u.qZA()()}if(2&n){const e=u.oxw();u.xp6(7),u.Q6J("ngModel",e.currentTutorial.nome),u.xp6(4),u.Q6J("ngModel",e.currentTutorial.description),u.xp6(4),u.Q6J("ngModel",e.currentTutorial.cep),u.xp6(1),u.Q6J("ngIf",e.CepCaracters),u.xp6(4),u.Q6J("ngModel",e.currentTutorial.rua),u.xp6(4),u.Q6J("ngModel",e.currentTutorial.estado),u.xp6(60),u.Q6J("ngModel",e.currentTutorial.cidade),u.xp6(5),u.hij(" ",e.currentTutorial.published?"Published":"Pending"," "),u.xp6(1),u.Q6J("ngIf",e.currentTutorial.published),u.xp6(1),u.Q6J("ngIf",!e.currentTutorial.published),u.xp6(6),u.Oqu(e.message)}}function KO(n,t){1&n&&(u.TgZ(0,"div"),u._UZ(1,"br"),u.TgZ(2,"p"),u._uU(3,"N\xe3o foi possivel acessar..."),u.qZA()())}let YO=(()=>{class n{constructor(e,r){this.tutorialService=e,this.toastr=r,this.refreshList=new u.vpe,this.currentTutorial={nome:"",description:"",cep:"",rua:"",estado:"",cidade:"",published:!1},this.message="",this.CEPvalid=!1,this.CepCaracters=!1}ngOnInit(){this.message=""}ngOnChanges(){this.message="",this.currentTutorial={...this.tutorial}}updatePublished(e){this.currentTutorial.id&&this.tutorialService.update(this.currentTutorial.id,{published:e}).then(()=>{this.currentTutorial.published=e,this.message="The status was updated successfully!"}).catch(r=>console.log(r))}updateTutorial(){this.currentTutorial.id&&this.tutorialService.update(this.currentTutorial.id,{nome:this.currentTutorial.nome,description:this.currentTutorial.description,cep:this.currentTutorial.cep,rua:this.currentTutorial.rua,estado:this.currentTutorial.estado,cidade:this.currentTutorial.cidade}).then(()=>this.message="Atualizado com sucesso!").catch(r=>console.log(r))}deleteTutorial(){this.currentTutorial.id&&this.tutorialService.delete(this.currentTutorial.id).then(()=>{this.refreshList.emit(),this.message="Deletado com sucesso!"}).catch(e=>console.log(e))}consultaCep(e){const r=e??"";"string"==typeof r&&r.length>7&&this.tutorialService.buscarCep(r).subscribe(a=>this.populaDadosForm(a))}populaDadosForm(e){if(e.erro)return this.CEPvalid=!1,void this.toastr.error("Ops. CEP infomado incorreto");this.CEPvalid=!0,this.currentTutorial.cep=e.cep,this.currentTutorial.rua=e.logradouro,this.currentTutorial.estado=e.uf,this.currentTutorial.cidade=e.localidade}updateCepCaracters(e){const r=e??"";if("string"==typeof r){if(r&&r.length>7)return void(this.CepCaracters=!1);this.CepCaracters=!0}}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(KS),u.Y36(_D))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-tutorial-details"]],inputs:{tutorial:"tutorial"},outputs:{refreshList:"refreshList"},features:[u.TTD],decls:2,vars:2,consts:[["class","edit-form",4,"ngIf"],[4,"ngIf"],[1,"edit-form"],[1,"form-group"],["for","nome"],["type","text","id","nome","name","nome",1,"form-control",3,"ngModel","ngModelChange"],["for","description"],["type","text","id","description","name","description",1,"form-control",3,"ngModel","ngModelChange"],["for","cep"],["id","cep","required","","name","cep","mask","00000-000","placeholder","Digite o CEP","maxlength","9",1,"form-control",3,"ngModel","ngModelChange","input","blur"],["class","alert alert-danger",4,"ngIf"],["for","rua"],["id","rua","required","","name","rua","placeholder","Digite a rua","maxlength","9",1,"form-control",3,"ngModel","ngModelChange"],["for","estado"],["id","estado","name","estado",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],["value","AC"],["value","AL"],["value","AM"],["value","AP"],["value","BA"],["value","CE"],["value","DF"],["value","ES"],["value","GO"],["value","MA"],["value","MG"],["value","MS"],["value","MT"],["value","PA"],["value","PB"],["value","PE"],["value","PI"],["value","PR"],["value","RJ"],["value","RN"],["value","RO"],["value","RR"],["value","RS"],["value","SC"],["value","SE"],["value","SP"],["value","TO"],["for","cidade"],["id","cidade","required","","name","cidade","placeholder","Digite a cidade","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["class","badge badge-primary mr-2",3,"click",4,"ngIf"],[1,"badge","badge-danger","mr-2",3,"click"],["type","submit",1,"badge","badge-success",3,"click"],[1,"alert","alert-danger"],[1,"badge","badge-primary","mr-2",3,"click"]],template:function(e,r){1&e&&(u.YNc(0,qO,98,11,"div",0),u.YNc(1,KO,4,0,"div",1)),2&e&&(u.Q6J("ngIf",r.currentTutorial),u.xp6(1),u.Q6J("ngIf",!r.currentTutorial))},dependencies:[Kr,uf,_f,kl,Li,xl,Is,Al,Na,M,zu,zs],styles:[".edit-form[_ngcontent-%COMP%]{max-width:300px;margin:auto}"]}),n})();function QO(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"li",5),u.NdJ("click",function(){const a=u.CHM(e),c=a.$implicit,f=a.index,y=u.oxw();return u.KtG(y.setActiveTutorial(c,f))}),u._uU(1),u.qZA()}if(2&n){const e=t.$implicit,r=t.index,a=u.oxw();u.ekj("active",r==a.currentIndex),u.xp6(1),u.hij(" ",e.nome," ")}}function JO(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div")(1,"app-tutorial-details",6),u.NdJ("refreshList",function(){u.CHM(e);const a=u.oxw();return u.KtG(a.refreshList())}),u.qZA()()}if(2&n){const e=u.oxw();u.xp6(1),u.Q6J("tutorial",e.currentTutorial)}}function XO(n,t){1&n&&(u.TgZ(0,"div"),u._UZ(1,"br"),u.TgZ(2,"p"),u._uU(3,"Por favor adicione os clientees na outra aba..."),u.qZA()())}let ex=(()=>{class n{constructor(e){this.tutorialService=e,this.currentIndex=-1,this.nome=""}ngOnInit(){this.retrieveTutorials()}refreshList(){this.currentTutorial=void 0,this.currentIndex=-1,this.retrieveTutorials()}retrieveTutorials(){this.tutorialService.getAll().snapshotChanges().pipe((0,_t.U)(e=>e.map(r=>({key:r.payload.key,...r.payload.val()})))).subscribe(e=>{this.tutorials=e})}setActiveTutorial(e,r){this.currentTutorial=e,this.currentIndex=r}removeAllTutorials(){this.tutorialService.deleteAll().then(()=>this.refreshList()).catch(e=>console.log(e))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(KS))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-tutorials-list"]],decls:9,vars:3,consts:[[1,"list","row"],[1,"col-md-6"],[1,"list-group"],["class","list-group-item",3,"active","click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"list-group-item",3,"click"],[3,"tutorial","refreshList"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h4"),u._uU(3,"Lista de clientes"),u.qZA(),u.TgZ(4,"ul",2),u.YNc(5,QO,2,3,"li",3),u.qZA()(),u.TgZ(6,"div",1),u.YNc(7,JO,2,1,"div",4),u.YNc(8,XO,4,0,"div",4),u.qZA()()),2&e&&(u.xp6(5),u.Q6J("ngForOf",r.tutorials),u.xp6(2),u.Q6J("ngIf",r.currentTutorial),u.xp6(1),u.Q6J("ngIf",!r.currentTutorial))},dependencies:[Ya,Kr,YO],styles:[".list[_ngcontent-%COMP%]{text-align:left;max-width:750px;margin:auto}"]}),n})();class pR{}function tx(n,t){1&n&&(u.TgZ(0,"div",45),u._uU(1," Tem que ter 8 d\xedgitos "),u.qZA())}function nx(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div")(1,"div",2)(2,"label",3),u._uU(3,"Nome"),u.qZA(),u.TgZ(4,"input",4),u.NdJ("ngModelChange",function(a){u.CHM(e);const c=u.oxw();return u.KtG(c.tutorial.nome=a)}),u.qZA()(),u.TgZ(5,"div",2)(6,"label",5),u._uU(7,"Descri\xe7\xe3o"),u.qZA(),u.TgZ(8,"input",6),u.NdJ("ngModelChange",function(a){u.CHM(e);const c=u.oxw();return u.KtG(c.tutorial.description=a)}),u.qZA()(),u.TgZ(9,"div",2)(10,"label",7),u._uU(11,"CEP"),u.qZA(),u.TgZ(12,"input",8),u.NdJ("ngModelChange",function(a){u.CHM(e);const c=u.oxw();return u.KtG(c.tutorial.cep=a)})("input",function(){u.CHM(e);const a=u.oxw();return u.KtG(a.consultaCep(a.tutorial.cep))})("blur",function(){u.CHM(e);const a=u.oxw();return u.KtG(a.updateCepCaracters(a.tutorial.cep))}),u.qZA(),u.YNc(13,tx,2,0,"div",9),u.qZA(),u.TgZ(14,"div",2)(15,"label",10),u._uU(16,"Rua"),u.qZA(),u.TgZ(17,"input",11),u.NdJ("ngModelChange",function(a){u.CHM(e);const c=u.oxw();return u.KtG(c.tutorial.rua=a)}),u.qZA()(),u.TgZ(18,"div",2)(19,"label",12),u._uU(20,"Estado"),u.qZA(),u.TgZ(21,"select",13),u.NdJ("ngModelChange",function(a){u.CHM(e);const c=u.oxw();return u.KtG(c.tutorial.estado=a)}),u.TgZ(22,"option",14),u._uU(23,"Selecione o estado"),u.qZA(),u.TgZ(24,"option",15),u._uU(25,"AC"),u.qZA(),u.TgZ(26,"option",16),u._uU(27,"AL"),u.qZA(),u.TgZ(28,"option",17),u._uU(29,"AM"),u.qZA(),u.TgZ(30,"option",18),u._uU(31,"AP"),u.qZA(),u.TgZ(32,"option",19),u._uU(33,"BA"),u.qZA(),u.TgZ(34,"option",20),u._uU(35,"CE"),u.qZA(),u.TgZ(36,"option",21),u._uU(37,"DF"),u.qZA(),u.TgZ(38,"option",22),u._uU(39,"ES"),u.qZA(),u.TgZ(40,"option",23),u._uU(41,"GO"),u.qZA(),u.TgZ(42,"option",24),u._uU(43,"MA"),u.qZA(),u.TgZ(44,"option",25),u._uU(45,"MG"),u.qZA(),u.TgZ(46,"option",26),u._uU(47,"MS"),u.qZA(),u.TgZ(48,"option",27),u._uU(49,"MT"),u.qZA(),u.TgZ(50,"option",28),u._uU(51,"PA"),u.qZA(),u.TgZ(52,"option",29),u._uU(53,"PB"),u.qZA(),u.TgZ(54,"option",30),u._uU(55,"PE"),u.qZA(),u.TgZ(56,"option",31),u._uU(57,"PI"),u.qZA(),u.TgZ(58,"option",32),u._uU(59,"PR"),u.qZA(),u.TgZ(60,"option",33),u._uU(61,"RJ"),u.qZA(),u.TgZ(62,"option",34),u._uU(63,"RN"),u.qZA(),u.TgZ(64,"option",35),u._uU(65,"RO"),u.qZA(),u.TgZ(66,"option",36),u._uU(67,"RR"),u.qZA(),u.TgZ(68,"option",37),u._uU(69,"RS"),u.qZA(),u.TgZ(70,"option",38),u._uU(71,"SC"),u.qZA(),u.TgZ(72,"option",39),u._uU(73,"SE"),u.qZA(),u.TgZ(74,"option",40),u._uU(75,"SP"),u.qZA(),u.TgZ(76,"option",41),u._uU(77,"TO"),u.qZA()()(),u.TgZ(78,"div",2)(79,"label",42),u._uU(80,"Cidade"),u.qZA(),u.TgZ(81,"input",43),u.NdJ("ngModelChange",function(a){u.CHM(e);const c=u.oxw();return u.KtG(c.tutorial.cidade=a)}),u.qZA()(),u.TgZ(82,"button",44),u.NdJ("click",function(){u.CHM(e);const a=u.oxw();return u.KtG(a.saveTutorial())}),u._uU(83,"Submit"),u.qZA()()}if(2&n){const e=u.oxw();u.xp6(4),u.Q6J("ngModel",e.tutorial.nome),u.xp6(4),u.Q6J("ngModel",e.tutorial.description),u.xp6(4),u.Q6J("ngModel",e.tutorial.cep),u.xp6(1),u.Q6J("ngIf",e.CepCaracters),u.xp6(4),u.Q6J("ngModel",e.tutorial.rua),u.xp6(4),u.Q6J("ngModel",e.tutorial.estado),u.xp6(60),u.Q6J("ngModel",e.tutorial.cidade)}}function rx(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div")(1,"h4"),u._uU(2,"You submitted successfully!"),u.qZA(),u.TgZ(3,"button",44),u.NdJ("click",function(){u.CHM(e);const a=u.oxw();return u.KtG(a.newTutorial())}),u._uU(4,"Add"),u.qZA()()}}let ix=(()=>{class n{constructor(e,r){this.tutorialService=e,this.toastr=r,this.tutorial=new pR,this.submitted=!1,this.CEPvalid=!1,this.CepCaracters=!1}saveTutorial(){console.log("imprime porra"),this.tutorialService.create(this.tutorial).then(()=>{console.log("Created new item successfully!"),this.submitted=!0})}newTutorial(){this.submitted=!1,this.tutorial=new pR}consultaCep(e){const r=e??"";"string"==typeof r&&r.length>7&&this.tutorialService.buscarCep(r).subscribe(a=>this.populaDadosForm(a))}updateCepCaracters(e){const r=e??"";if("string"==typeof r){if(r&&r.length>7)return void(this.CepCaracters=!1);this.CepCaracters=!0}}populaDadosForm(e){if(e.erro)return this.CEPvalid=!1,void this.toastr.error("Ops. CEP infomado incorreto");this.CEPvalid=!0,this.tutorial.cep=e.cep,this.tutorial.rua=e.logradouro,this.tutorial.estado=e.uf,this.tutorial.cidade=e.localidade}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(KS),u.Y36(_D))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-add-tutorial"]],decls:3,vars:2,consts:[[1,"submit-form"],[4,"ngIf"],[1,"form-group"],["for","nome"],["type","text","id","nome","required","","name","nome",1,"form-control",3,"ngModel","ngModelChange"],["for","description"],["id","description","required","","name","description",1,"form-control",3,"ngModel","ngModelChange"],["for","cep"],["id","cep","required","","name","cep","mask","00000-000","placeholder","Digite o CEP","maxlength","8",1,"form-control",3,"ngModel","ngModelChange","input","blur"],["class","alert alert-danger",4,"ngIf"],["for","rua"],["id","rua","required","","name","rua","placeholder","Digite a rua","maxlength","9",1,"form-control",3,"ngModel","ngModelChange"],["for","estado"],["id","estado","name","estado",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],["value","AC"],["value","AL"],["value","AM"],["value","AP"],["value","BA"],["value","CE"],["value","DF"],["value","ES"],["value","GO"],["value","MA"],["value","MG"],["value","MS"],["value","MT"],["value","PA"],["value","PB"],["value","PE"],["value","PI"],["value","PR"],["value","RJ"],["value","RN"],["value","RO"],["value","RR"],["value","RS"],["value","SC"],["value","SE"],["value","SP"],["value","TO"],["for","cidade"],["id","cidade","required","","name","cidade","placeholder","Digite a cidade","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[1,"alert","alert-danger"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.YNc(1,nx,84,7,"div",1),u.YNc(2,rx,5,0,"div",1),u.qZA()),2&e&&(u.xp6(1),u.Q6J("ngIf",!r.submitted),u.xp6(1),u.Q6J("ngIf",r.submitted))},dependencies:[Kr,_f,kl,Li,xl,Is,Na,M,zu],styles:[".submit-form[_ngcontent-%COMP%]{max-width:300px;margin:auto}"]}),n})(),gR=(()=>{class n{constructor(){this.isAuthenticated=!1}login(e,r){return"Aluno1213"===e&&"acab"===r?(this.isAuthenticated=!0,!0):(this.isAuthenticated=!1,!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sx(n,t){1&n&&(u.TgZ(0,"div",14),u._uU(1," Credenciais inv\xe1lidas! Por favor, tente novamente. "),u.qZA())}const ox=[{path:"",component:(()=>{class n{constructor(e,r){this.router=e,this.loginService=r,this.username="",this.password="",this.isAuthenticated=!1,this.showAlert=!1}onSubmit(){this.loginService.login(this.username,this.password)?(console.log("Autentica\xe7\xe3o bem-sucedida!"),this.router.navigate(["/tutorials"])):(console.log("Credenciais inv\xe1lidas!"),this.showAlert=!0)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(ao),u.Y36(gR))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:19,vars:3,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["class","alert alert-danger mt-3",4,"ngIf"],["type","submit",1,"btn","btn-primary"],[1,"alert","alert-danger","mt-3"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),u._uU(5,"Login"),u.qZA(),u.TgZ(6,"div",5)(7,"form",6),u.NdJ("submit",function(){return r.onSubmit()}),u.TgZ(8,"div",7)(9,"label",8),u._uU(10,"Usu\xe1rio:"),u.qZA(),u.TgZ(11,"input",9),u.NdJ("ngModelChange",function(c){return r.username=c}),u.qZA()(),u.TgZ(12,"div",7)(13,"label",10),u._uU(14,"Senha:"),u.qZA(),u.TgZ(15,"input",11),u.NdJ("ngModelChange",function(c){return r.password=c}),u.qZA()(),u.YNc(16,sx,2,0,"div",12),u.TgZ(17,"button",13),u._uU(18,"Entrar"),u.qZA()()()()()()()),2&e&&(u.xp6(11),u.Q6J("ngModel",r.username),u.xp6(4),u.Q6J("ngModel",r.password),u.xp6(1),u.Q6J("ngIf",r.showAlert))},dependencies:[Kr,uf,Li,Is,Al,zu,zs]}),n})()},{path:"tutorials",component:ex},{path:"add",component:ix}];let ax=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[hR.forRoot(ox),hR]}),n})();function lx(n,t){1&n&&(u.TgZ(0,"nav",2)(1,"a",3),u._uU(2,"Codigan"),u.qZA(),u.TgZ(3,"div",4)(4,"li",5)(5,"a",6),u._uU(6,"Lista de Clientes"),u.qZA()(),u.TgZ(7,"li",5)(8,"a",7),u._uU(9,"Adicionar clientes"),u.qZA()()()())}let ux=(()=>{class n{constructor(e){this.loginService=e,this.title="Prova de CRUD + Firebase + Vercell"}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(gR))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:6,vars:2,consts:[["class","navbar navbar-expand navbar-dark bg-dark",4,"ngIf"],[1,"container","mt-3"],[1,"navbar","navbar-expand","navbar-dark","bg-dark"],["href","#",1,"navbar-brand"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLink","tutorials",1,"nav-link"],["routerLink","add",1,"nav-link"]],template:function(e,r){1&e&&(u.TgZ(0,"div"),u.YNc(1,lx,10,0,"nav",0),u.TgZ(2,"div",1)(3,"h2"),u._uU(4),u.qZA(),u._UZ(5,"router-outlet"),u.qZA()()),2&e&&(u.xp6(1),u.Q6J("ngIf",r.loginService.isAuthenticated),u.xp6(3),u.Oqu(r.title))},dependencies:[Kr,BS,OD],styles:[".container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;margin:25px auto}"]}),n})(),cx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[ux]}),n.\u0275inj=u.cJS({imports:[Ds,ax,y0,Sd,JR,wN.forRoot(),ii.hO.initializeApp(Bm_firebase),Yw]}),n})();ed().bootstrapModule(cx).catch(n=>console.error(n))},1135:(Xe,ve,O)=>{O.d(ve,{X:()=>Z});var u=O(7579);class Z extends u.x{constructor(X){super(),this._value=X}get value(){return this.getValue()}_subscribe(X){const ee=super._subscribe(X);return!ee.closed&&X.next(this._value),ee}getValue(){const{hasError:X,thrownError:ee,_value:ae}=this;if(X)throw ee;return this._throwIfClosed(),ae}next(X){super.next(this._value=X)}}},9751:(Xe,ve,O)=>{O.d(ve,{y:()=>Se});var u=O(930),Z=O(727),x=O(8822),X=O(9635),ee=O(2416),ae=O(576),he=O(2806);let Se=(()=>{class Q{constructor(we){we&&(this._subscribe=we)}lift(we){const $e=new Q;return $e.source=this,$e.operator=we,$e}subscribe(we,$e,be){const je=function j(Q){return Q&&Q instanceof u.Lv||function U(Q){return Q&&(0,ae.m)(Q.next)&&(0,ae.m)(Q.error)&&(0,ae.m)(Q.complete)}(Q)&&(0,Z.Nn)(Q)}(we)?we:new u.Hp(we,$e,be);return(0,he.x)(()=>{const{operator:Ne,source:ut}=this;je.add(Ne?Ne.call(je,ut):ut?this._subscribe(je):this._trySubscribe(je))}),je}_trySubscribe(we){try{return this._subscribe(we)}catch($e){we.error($e)}}forEach(we,$e){return new($e=ue($e))((be,je)=>{const Ne=new u.Hp({next:ut=>{try{we(ut)}catch(tt){je(tt),Ne.unsubscribe()}},error:je,complete:be});this.subscribe(Ne)})}_subscribe(we){var $e;return null===($e=this.source)||void 0===$e?void 0:$e.subscribe(we)}[x.L](){return this}pipe(...we){return(0,X.U)(we)(this)}toPromise(we){return new(we=ue(we))(($e,be)=>{let je;this.subscribe(Ne=>je=Ne,Ne=>be(Ne),()=>$e(je))})}}return Q.create=Pe=>new Q(Pe),Q})();function ue(Q){var Pe;return null!==(Pe=Q??ee.config.Promise)&&void 0!==Pe?Pe:Promise}},7579:(Xe,ve,O)=>{O.d(ve,{x:()=>he});var u=O(9751),Z=O(727);const X=(0,O(3888).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=O(8737),ae=O(2806);let he=(()=>{class ue extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const Q=new Se(this,this);return Q.operator=j,Q}_throwIfClosed(){if(this.closed)throw new X}next(j){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(j)}})}error(j){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:Q}=this;for(;Q.length;)Q.shift().error(j)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:Q,isStopped:Pe,observers:we}=this;return Q||Pe?Z.Lc:(this.currentObservers=null,we.push(j),new Z.w0(()=>{this.currentObservers=null,(0,ee.P)(we,j)}))}_checkFinalizedStatuses(j){const{hasError:Q,thrownError:Pe,isStopped:we}=this;Q?j.error(Pe):we&&j.complete()}asObservable(){const j=new u.y;return j.source=this,j}}return ue.create=(U,j)=>new Se(U,j),ue})();class Se extends he{constructor(U,j){super(),this.destination=U,this.source=j}next(U){var j,Q;null===(Q=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===Q||Q.call(j,U)}error(U){var j,Q;null===(Q=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===Q||Q.call(j,U)}complete(){var U,j;null===(j=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===j||j.call(U)}_subscribe(U){var j,Q;return null!==(Q=null===(j=this.source)||void 0===j?void 0:j.subscribe(U))&&void 0!==Q?Q:Z.Lc}}},930:(Xe,ve,O)=>{O.d(ve,{Hp:()=>be,Lv:()=>Q});var u=O(576),Z=O(727),x=O(2416),X=O(7849),ee=O(5032);const ae=ue("C",void 0,void 0);function ue(ne,pe,Y){return{kind:ne,value:pe,error:Y}}var U=O(3410),j=O(2806);class Q extends Z.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,Z.Nn)(pe)&&pe.add(this)):this.destination=tt}static create(pe,Y,fe){return new be(pe,Y,fe)}next(pe){this.isStopped?ut(function Se(ne){return ue("N",ne,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?ut(function he(ne){return ue("E",void 0,ne)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?ut(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function we(ne,pe){return Pe.call(ne,pe)}class $e{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:Y}=this;if(Y.next)try{Y.next(pe)}catch(fe){je(fe)}}error(pe){const{partialObserver:Y}=this;if(Y.error)try{Y.error(pe)}catch(fe){je(fe)}else je(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(Y){je(Y)}}}class be extends Q{constructor(pe,Y,fe){let Te;if(super(),(0,u.m)(pe)||!pe)Te={next:pe??void 0,error:Y??void 0,complete:fe??void 0};else{let Oe;this&&x.config.useDeprecatedNextContext?(Oe=Object.create(pe),Oe.unsubscribe=()=>this.unsubscribe(),Te={next:pe.next&&we(pe.next,Oe),error:pe.error&&we(pe.error,Oe),complete:pe.complete&&we(pe.complete,Oe)}):Te=pe}this.destination=new $e(Te)}}function je(ne){x.config.useDeprecatedSynchronousErrorHandling?(0,j.O)(ne):(0,X.h)(ne)}function ut(ne,pe){const{onStoppedNotification:Y}=x.config;Y&&U.z.setTimeout(()=>Y(ne,pe))}const tt={closed:!0,next:ee.Z,error:function Ne(ne){throw ne},complete:ee.Z}},727:(Xe,ve,O)=>{O.d(ve,{Lc:()=>ae,w0:()=>ee,Nn:()=>he});var u=O(576);const x=(0,O(3888).d)(ue=>function(j){ue(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((Q,Pe)=>`${Pe+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var X=O(8737);class ee{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const we of j)we.remove(this);else j.remove(this);const{initialTeardown:Q}=this;if((0,u.m)(Q))try{Q()}catch(we){U=we instanceof x?we.errors:[we]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const we of Pe)try{Se(we)}catch($e){U=U??[],$e instanceof x?U=[...U,...$e.errors]:U.push($e)}}if(U)throw new x(U)}}add(U){var j;if(U&&U!==this)if(this.closed)Se(U);else{if(U instanceof ee){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(U)}}_hasParent(U){const{_parentage:j}=this;return j===U||Array.isArray(j)&&j.includes(U)}_addParent(U){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(U),j):j?[j,U]:U}_removeParent(U){const{_parentage:j}=this;j===U?this._parentage=null:Array.isArray(j)&&(0,X.P)(j,U)}remove(U){const{_finalizers:j}=this;j&&(0,X.P)(j,U),U instanceof ee&&U._removeParent(this)}}ee.EMPTY=(()=>{const ue=new ee;return ue.closed=!0,ue})();const ae=ee.EMPTY;function he(ue){return ue instanceof ee||ue&&"closed"in ue&&(0,u.m)(ue.remove)&&(0,u.m)(ue.add)&&(0,u.m)(ue.unsubscribe)}function Se(ue){(0,u.m)(ue)?ue():ue.unsubscribe()}},2416:(Xe,ve,O)=>{O.d(ve,{config:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Xe,ve,O)=>{O.d(ve,{E:()=>Z});const Z=new(O(9751).y)(ee=>ee.complete())},8996:(Xe,ve,O)=>{O.d(ve,{D:()=>pe});var u=O(8421),Z=O(5363),x=O(9468),ae=O(9751),Se=O(2202),ue=O(576),U=O(9672);function Q(Y,fe){if(!Y)throw new Error("Iterable cannot be null");return new ae.y(Te=>{(0,U.f)(Te,fe,()=>{const Oe=Y[Symbol.asyncIterator]();(0,U.f)(Te,fe,()=>{Oe.next().then(re=>{re.done?Te.complete():Te.next(re.value)})},0,!0)})})}var Pe=O(3670),we=O(8239),$e=O(1144),be=O(6495),je=O(2206),Ne=O(4532),ut=O(3260);function pe(Y,fe){return fe?function ne(Y,fe){if(null!=Y){if((0,Pe.c)(Y))return function X(Y,fe){return(0,u.Xf)(Y).pipe((0,x.R)(fe),(0,Z.Q)(fe))}(Y,fe);if((0,$e.z)(Y))return function he(Y,fe){return new ae.y(Te=>{let Oe=0;return fe.schedule(function(){Oe===Y.length?Te.complete():(Te.next(Y[Oe++]),Te.closed||this.schedule())})})}(Y,fe);if((0,we.t)(Y))return function ee(Y,fe){return(0,u.Xf)(Y).pipe((0,x.R)(fe),(0,Z.Q)(fe))}(Y,fe);if((0,je.D)(Y))return Q(Y,fe);if((0,be.T)(Y))return function j(Y,fe){return new ae.y(Te=>{let Oe;return(0,U.f)(Te,fe,()=>{Oe=Y[Se.h](),(0,U.f)(Te,fe,()=>{let re,Le;try{({value:re,done:Le}=Oe.next())}catch(xt){return void Te.error(xt)}Le?Te.complete():Te.next(re)},0,!0)}),()=>(0,ue.m)(Oe?.return)&&Oe.return()})}(Y,fe);if((0,ut.L)(Y))return function tt(Y,fe){return Q((0,ut.Q)(Y),fe)}(Y,fe)}throw(0,Ne.z)(Y)}(Y,fe):(0,u.Xf)(Y)}},8421:(Xe,ve,O)=>{O.d(ve,{Xf:()=>Pe});var u=O(7582),Z=O(1144),x=O(8239),X=O(9751),ee=O(3670),ae=O(2206),he=O(4532),Se=O(6495),ue=O(3260),U=O(576),j=O(7849),Q=O(8822);function Pe(ne){if(ne instanceof X.y)return ne;if(null!=ne){if((0,ee.c)(ne))return function we(ne){return new X.y(pe=>{const Y=ne[Q.L]();if((0,U.m)(Y.subscribe))return Y.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ne);if((0,Z.z)(ne))return function $e(ne){return new X.y(pe=>{for(let Y=0;Y<ne.length&&!pe.closed;Y++)pe.next(ne[Y]);pe.complete()})}(ne);if((0,x.t)(ne))return function be(ne){return new X.y(pe=>{ne.then(Y=>{pe.closed||(pe.next(Y),pe.complete())},Y=>pe.error(Y)).then(null,j.h)})}(ne);if((0,ae.D)(ne))return Ne(ne);if((0,Se.T)(ne))return function je(ne){return new X.y(pe=>{for(const Y of ne)if(pe.next(Y),pe.closed)return;pe.complete()})}(ne);if((0,ue.L)(ne))return function ut(ne){return Ne((0,ue.Q)(ne))}(ne)}throw(0,he.z)(ne)}function Ne(ne){return new X.y(pe=>{(function tt(ne,pe){var Y,fe,Te,Oe;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Y=(0,u.KL)(ne);!(fe=yield Y.next()).done;)if(pe.next(fe.value),pe.closed)return}catch(re){Te={error:re}}finally{try{fe&&!fe.done&&(Oe=Y.return)&&(yield Oe.call(Y))}finally{if(Te)throw Te.error}}pe.complete()})})(ne,pe).catch(Y=>pe.error(Y))})}},6451:(Xe,ve,O)=>{O.d(ve,{T:()=>ae});var u=O(8189),Z=O(8421),x=O(515),X=O(7669),ee=O(8996);function ae(...he){const Se=(0,X.yG)(he),ue=(0,X._6)(he,1/0),U=he;return U.length?1===U.length?(0,Z.Xf)(U[0]):(0,u.J)(ue)((0,ee.D)(U,Se)):x.E}},9646:(Xe,ve,O)=>{O.d(ve,{of:()=>x});var u=O(7669),Z=O(8996);function x(...X){const ee=(0,u.yG)(X);return(0,Z.D)(X,ee)}},5403:(Xe,ve,O)=>{O.d(ve,{x:()=>Z});var u=O(930);function Z(X,ee,ae,he,Se){return new x(X,ee,ae,he,Se)}class x extends u.Lv{constructor(ee,ae,he,Se,ue,U){super(ee),this.onFinalize=ue,this.shouldUnsubscribe=U,this._next=ae?function(j){try{ae(j)}catch(Q){ee.error(Q)}}:super._next,this._error=Se?function(j){try{Se(j)}catch(Q){ee.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(j){ee.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(ee=this.onFinalize)||void 0===ee||ee.call(this))}}}},1884:(Xe,ve,O)=>{O.d(ve,{x:()=>X});var u=O(4671),Z=O(4482),x=O(5403);function X(ae,he=u.y){return ae=ae??ee,(0,Z.e)((Se,ue)=>{let U,j=!0;Se.subscribe((0,x.x)(ue,Q=>{const Pe=he(Q);(j||!ae(U,Pe))&&(j=!1,U=Pe,ue.next(Q))}))})}function ee(ae,he){return ae===he}},4004:(Xe,ve,O)=>{O.d(ve,{U:()=>x});var u=O(4482),Z=O(5403);function x(X,ee){return(0,u.e)((ae,he)=>{let Se=0;ae.subscribe((0,Z.x)(he,ue=>{he.next(X.call(ee,ue,Se++))}))})}},8189:(Xe,ve,O)=>{O.d(ve,{J:()=>x});var u=O(5577),Z=O(4671);function x(X=1/0){return(0,u.z)(Z.y,X)}},5577:(Xe,ve,O)=>{O.d(ve,{z:()=>Se});var u=O(4004),Z=O(8421),x=O(4482),X=O(9672),ee=O(5403),he=O(576);function Se(ue,U,j=1/0){return(0,he.m)(U)?Se((Q,Pe)=>(0,u.U)((we,$e)=>U(Q,we,Pe,$e))((0,Z.Xf)(ue(Q,Pe))),j):("number"==typeof U&&(j=U),(0,x.e)((Q,Pe)=>function ae(ue,U,j,Q,Pe,we,$e,be){const je=[];let Ne=0,ut=0,tt=!1;const ne=()=>{tt&&!je.length&&!Ne&&U.complete()},pe=fe=>Ne<Q?Y(fe):je.push(fe),Y=fe=>{we&&U.next(fe),Ne++;let Te=!1;(0,Z.Xf)(j(fe,ut++)).subscribe((0,ee.x)(U,Oe=>{Pe?.(Oe),we?pe(Oe):U.next(Oe)},()=>{Te=!0},void 0,()=>{if(Te)try{for(Ne--;je.length&&Ne<Q;){const Oe=je.shift();$e?(0,X.f)(U,$e,()=>Y(Oe)):Y(Oe)}ne()}catch(Oe){U.error(Oe)}}))};return ue.subscribe((0,ee.x)(U,pe,()=>{tt=!0,ne()})),()=>{be?.()}}(Q,Pe,ue,j)))}},5363:(Xe,ve,O)=>{O.d(ve,{Q:()=>X});var u=O(9672),Z=O(4482),x=O(5403);function X(ee,ae=0){return(0,Z.e)((he,Se)=>{he.subscribe((0,x.x)(Se,ue=>(0,u.f)(Se,ee,()=>Se.next(ue),ae),()=>(0,u.f)(Se,ee,()=>Se.complete(),ae),ue=>(0,u.f)(Se,ee,()=>Se.error(ue),ae)))})}},3099:(Xe,ve,O)=>{O.d(ve,{B:()=>ee});var u=O(8421),Z=O(7579),x=O(930),X=O(4482);function ee(he={}){const{connector:Se=(()=>new Z.x),resetOnError:ue=!0,resetOnComplete:U=!0,resetOnRefCountZero:j=!0}=he;return Q=>{let Pe,we,$e,be=0,je=!1,Ne=!1;const ut=()=>{we?.unsubscribe(),we=void 0},tt=()=>{ut(),Pe=$e=void 0,je=Ne=!1},ne=()=>{const pe=Pe;tt(),pe?.unsubscribe()};return(0,X.e)((pe,Y)=>{be++,!Ne&&!je&&ut();const fe=$e=$e??Se();Y.add(()=>{be--,0===be&&!Ne&&!je&&(we=ae(ne,j))}),fe.subscribe(Y),!Pe&&be>0&&(Pe=new x.Hp({next:Te=>fe.next(Te),error:Te=>{Ne=!0,ut(),we=ae(tt,ue,Te),fe.error(Te)},complete:()=>{je=!0,ut(),we=ae(tt,U),fe.complete()}}),(0,u.Xf)(pe).subscribe(Pe))})(Q)}}function ae(he,Se,...ue){if(!0===Se)return void he();if(!1===Se)return;const U=new x.Hp({next:()=>{U.unsubscribe(),he()}});return(0,u.Xf)(Se(...ue)).subscribe(U)}},9468:(Xe,ve,O)=>{O.d(ve,{R:()=>Z});var u=O(4482);function Z(x,X=0){return(0,u.e)((ee,ae)=>{ae.add(x.schedule(()=>ee.subscribe(ae),X))})}},3900:(Xe,ve,O)=>{O.d(ve,{w:()=>X});var u=O(8421),Z=O(4482),x=O(5403);function X(ee,ae){return(0,Z.e)((he,Se)=>{let ue=null,U=0,j=!1;const Q=()=>j&&!ue&&Se.complete();he.subscribe((0,x.x)(Se,Pe=>{ue?.unsubscribe();let we=0;const $e=U++;(0,u.Xf)(ee(Pe,$e)).subscribe(ue=(0,x.x)(Se,be=>Se.next(ae?ae(Pe,be,$e,we++):be),()=>{ue=null,Q()}))},()=>{j=!0,Q()}))})}},8505:(Xe,ve,O)=>{O.d(ve,{b:()=>ee});var u=O(576),Z=O(4482),x=O(5403),X=O(4671);function ee(ae,he,Se){const ue=(0,u.m)(ae)||he||Se?{next:ae,error:he,complete:Se}:ae;return ue?(0,Z.e)((U,j)=>{var Q;null===(Q=ue.subscribe)||void 0===Q||Q.call(ue);let Pe=!0;U.subscribe((0,x.x)(j,we=>{var $e;null===($e=ue.next)||void 0===$e||$e.call(ue,we),j.next(we)},()=>{var we;Pe=!1,null===(we=ue.complete)||void 0===we||we.call(ue),j.complete()},we=>{var $e;Pe=!1,null===($e=ue.error)||void 0===$e||$e.call(ue,we),j.error(we)},()=>{var we,$e;Pe&&(null===(we=ue.unsubscribe)||void 0===we||we.call(ue)),null===($e=ue.finalize)||void 0===$e||$e.call(ue)}))}):X.y}},4408:(Xe,ve,O)=>{O.d(ve,{o:()=>ee});var u=O(727);class Z extends u.w0{constructor(he,Se){super()}schedule(he,Se=0){return this}}const x={setInterval(ae,he,...Se){const{delegate:ue}=x;return ue?.setInterval?ue.setInterval(ae,he,...Se):setInterval(ae,he,...Se)},clearInterval(ae){const{delegate:he}=x;return(he?.clearInterval||clearInterval)(ae)},delegate:void 0};var X=O(8737);class ee extends Z{constructor(he,Se){super(he,Se),this.scheduler=he,this.work=Se,this.pending=!1}schedule(he,Se=0){var ue;if(this.closed)return this;this.state=he;const U=this.id,j=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(j,U,Se)),this.pending=!0,this.delay=Se,this.id=null!==(ue=this.id)&&void 0!==ue?ue:this.requestAsyncId(j,this.id,Se),this}requestAsyncId(he,Se,ue=0){return x.setInterval(he.flush.bind(he,this),ue)}recycleAsyncId(he,Se,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return Se;null!=Se&&x.clearInterval(Se)}execute(he,Se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(he,Se);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,Se){let U,ue=!1;try{this.work(he)}catch(j){ue=!0,U=j||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:he,scheduler:Se}=this,{actions:ue}=Se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,X.P)(ue,this),null!=he&&(this.id=this.recycleAsyncId(Se,he,null)),this.delay=null,super.unsubscribe()}}}},7565:(Xe,ve,O)=>{O.d(ve,{v:()=>x});var u=O(6063);class Z{constructor(ee,ae=Z.now){this.schedulerActionCtor=ee,this.now=ae}schedule(ee,ae=0,he){return new this.schedulerActionCtor(this,ee).schedule(he,ae)}}Z.now=u.l.now;class x extends Z{constructor(ee,ae=Z.now){super(ee,ae),this.actions=[],this._active=!1}flush(ee){const{actions:ae}=this;if(this._active)return void ae.push(ee);let he;this._active=!0;do{if(he=ee.execute(ee.state,ee.delay))break}while(ee=ae.shift());if(this._active=!1,he){for(;ee=ae.shift();)ee.unsubscribe();throw he}}}},4986:(Xe,ve,O)=>{O.d(ve,{z:()=>x});var u=O(4408);const x=new(O(7565).v)(u.o)},6063:(Xe,ve,O)=>{O.d(ve,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(Xe,ve,O)=>{O.d(ve,{z:()=>u});const u={setTimeout(Z,x,...X){const{delegate:ee}=u;return ee?.setTimeout?ee.setTimeout(Z,x,...X):setTimeout(Z,x,...X)},clearTimeout(Z){const{delegate:x}=u;return(x?.clearTimeout||clearTimeout)(Z)},delegate:void 0}},2202:(Xe,ve,O)=>{O.d(ve,{h:()=>Z});const Z=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Xe,ve,O)=>{O.d(ve,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Xe,ve,O)=>{O.d(ve,{_6:()=>ae,jO:()=>X,yG:()=>ee});var u=O(576);function x(he){return he[he.length-1]}function X(he){return(0,u.m)(x(he))?he.pop():void 0}function ee(he){return function Z(he){return he&&(0,u.m)(he.schedule)}(x(he))?he.pop():void 0}function ae(he,Se){return"number"==typeof x(he)?he.pop():Se}},8737:(Xe,ve,O)=>{function u(Z,x){if(Z){const X=Z.indexOf(x);0<=X&&Z.splice(X,1)}}O.d(ve,{P:()=>u})},3888:(Xe,ve,O)=>{function u(Z){const X=Z(ee=>{Error.call(ee),ee.stack=(new Error).stack});return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}O.d(ve,{d:()=>u})},2806:(Xe,ve,O)=>{O.d(ve,{O:()=>X,x:()=>x});var u=O(2416);let Z=null;function x(ee){if(u.config.useDeprecatedSynchronousErrorHandling){const ae=!Z;if(ae&&(Z={errorThrown:!1,error:null}),ee(),ae){const{errorThrown:he,error:Se}=Z;if(Z=null,he)throw Se}}else ee()}function X(ee){u.config.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=ee)}},9672:(Xe,ve,O)=>{function u(Z,x,X,ee=0,ae=!1){const he=x.schedule(function(){X(),ae?Z.add(this.schedule(null,ee)):this.unsubscribe()},ee);if(Z.add(he),!ae)return he}O.d(ve,{f:()=>u})},4671:(Xe,ve,O)=>{function u(Z){return Z}O.d(ve,{y:()=>u})},1144:(Xe,ve,O)=>{O.d(ve,{z:()=>u});const u=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},2206:(Xe,ve,O)=>{O.d(ve,{D:()=>Z});var u=O(576);function Z(x){return Symbol.asyncIterator&&(0,u.m)(x?.[Symbol.asyncIterator])}},576:(Xe,ve,O)=>{function u(Z){return"function"==typeof Z}O.d(ve,{m:()=>u})},3670:(Xe,ve,O)=>{O.d(ve,{c:()=>x});var u=O(8822),Z=O(576);function x(X){return(0,Z.m)(X[u.L])}},6495:(Xe,ve,O)=>{O.d(ve,{T:()=>x});var u=O(2202),Z=O(576);function x(X){return(0,Z.m)(X?.[u.h])}},8239:(Xe,ve,O)=>{O.d(ve,{t:()=>Z});var u=O(576);function Z(x){return(0,u.m)(x?.then)}},3260:(Xe,ve,O)=>{O.d(ve,{L:()=>X,Q:()=>x});var u=O(7582),Z=O(576);function x(ee){return(0,u.FC)(this,arguments,function*(){const he=ee.getReader();try{for(;;){const{value:Se,done:ue}=yield(0,u.qq)(he.read());if(ue)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(Se)}}finally{he.releaseLock()}})}function X(ee){return(0,Z.m)(ee?.getReader)}},4482:(Xe,ve,O)=>{O.d(ve,{A:()=>Z,e:()=>x});var u=O(576);function Z(X){return(0,u.m)(X?.lift)}function x(X){return ee=>{if(Z(ee))return ee.lift(function(ae){try{return X(ae,this)}catch(he){this.error(he)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Xe,ve,O)=>{function u(){}O.d(ve,{Z:()=>u})},9635:(Xe,ve,O)=>{O.d(ve,{U:()=>x,z:()=>Z});var u=O(4671);function Z(...X){return x(X)}function x(X){return 0===X.length?u.y:1===X.length?X[0]:function(ae){return X.reduce((he,Se)=>Se(he),ae)}}},7849:(Xe,ve,O)=>{O.d(ve,{h:()=>x});var u=O(2416),Z=O(3410);function x(X){Z.z.setTimeout(()=>{const{onUnhandledError:ee}=u.config;if(!ee)throw X;ee(X)})}},4532:(Xe,ve,O)=>{function u(Z){return new TypeError(`You provided ${null!==Z&&"object"==typeof Z?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(ve,{z:()=>u})},2223:(Xe,ve,O)=>{O.d(ve,{$8M:()=>Bu,$WT:()=>ms,$Z:()=>uc,AFp:()=>UE,AaK:()=>Q,BQk:()=>mc,CHM:()=>dl,CRH:()=>Dc,D6c:()=>dD,EJc:()=>A0,EiD:()=>Od,EpF:()=>PC,F4k:()=>OC,FYo:()=>Rf,FiY:()=>Ei,GfV:()=>ZE,Gpc:()=>$e,HDt:()=>R0,JOm:()=>Zs,JVY:()=>If,JZr:()=>tt,KtG:()=>Au,L6k:()=>Ju,LAX:()=>wE,LFG:()=>qt,Lbi:()=>cg,Lck:()=>Xb,MMx:()=>tI,MR2:()=>Af,NdJ:()=>yy,Ojb:()=>nT,OlP:()=>rn,Oqu:()=>Ny,P3R:()=>ng,PXZ:()=>Rv,Q6J:()=>_y,QGY:()=>lm,QbO:()=>BE,Qsj:()=>Ks,R0b:()=>Ai,RDi:()=>Ll,Rgc:()=>yh,SBq:()=>Ud,Sil:()=>ZI,Suo:()=>jm,TTD:()=>il,TgZ:()=>im,Tol:()=>My,Udp:()=>ym,X6Q:()=>Lv,XFs:()=>Ge,Xpm:()=>Os,Xts:()=>xd,Y36:()=>Fa,YKP:()=>Pw,YNc:()=>is,Yjl:()=>cu,Yz7:()=>Gt,Z0I:()=>On,ZZ4:()=>Ep,_Bn:()=>Om,_UZ:()=>om,_Vd:()=>kt,_c5:()=>Sc,_uU:()=>QC,aQg:()=>Hv,c2e:()=>GI,cJS:()=>bn,cg1:()=>Ly,d8E:()=>Fy,dDg:()=>tS,dqk:()=>Yt,eBb:()=>CE,eFA:()=>G0,eJc:()=>u0,ekj:()=>vm,eoX:()=>B0,f3M:()=>Ut,g9A:()=>ug,h0i:()=>gh,hGG:()=>jv,hij:()=>ch,iGM:()=>ar,ifc:()=>ln,ip1:()=>$I,jDz:()=>rI,kL8:()=>cw,lG2:()=>uu,lqb:()=>rc,lri:()=>V0,mCW:()=>Xu,n5z:()=>Ia,oAB:()=>zi,oJD:()=>Sf,oxw:()=>ja,pB0:()=>Rr,q3G:()=>Pn,q4F:()=>yg,qFp:()=>hD,qLn:()=>Ys,qOj:()=>Gg,qZA:()=>sm,qzn:()=>Qu,rWj:()=>U0,rg0:()=>Wc,sBO:()=>gp,s_b:()=>Bm,soG:()=>eu,tb:()=>Av,tp0:()=>jr,uIk:()=>Zg,vHH:()=>ne,vpe:()=>ro,wAp:()=>ct,xp6:()=>bg,ynx:()=>oh,z2F:()=>ru,z3N:()=>Bi,zSh:()=>x_,zs3:()=>Bl});var u=O(7579),Z=O(727),x=O(1135),X=O(9751),ee=O(6451),ae=O(9646),he=O(3099),Se=O(3900),ue=O(1884);function U(i){for(let s in i)if(i[s]===U)return s;throw Error("Could not find renamed property on target object.")}function j(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function Q(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Q).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function Pe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const we=U({__forward_ref__:U});function $e(i){return i.__forward_ref__=$e,i.toString=function(){return Q(this())},i}function be(i){return je(i)?i():i}function je(i){return"function"==typeof i&&i.hasOwnProperty(we)&&i.__forward_ref__===$e}function Ne(i){return i&&!!i.\u0275providers}const tt="https://g.co/ng/security#xss";class ne extends Error{constructor(s,o){super(function pe(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,o)),this.code=s}}function Y(i){return"string"==typeof i?i:null==i?"":String(i)}function Le(i,s){throw new ne(-201,!1)}function Ke(i,s){null==i&&function nt(i,s,o,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Gt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function bn(i){return{providers:i.providers||[],imports:i.imports||[]}}function vr(i){return hs(i,xr)||hs(i,fs)}function On(i){return null!==vr(i)}function hs(i,s){return i.hasOwnProperty(s)?i[s]:null}function uo(i){return i&&(i.hasOwnProperty(kr)||i.hasOwnProperty(qo))?i[kr]:null}const xr=U({\u0275prov:U}),kr=U({\u0275inj:U}),fs=U({ngInjectableDef:U}),qo=U({ngInjectorDef:U});var Ge=(()=>((Ge=Ge||{})[Ge.Default=0]="Default",Ge[Ge.Host=1]="Host",Ge[Ge.Self=2]="Self",Ge[Ge.SkipSelf=4]="SkipSelf",Ge[Ge.Optional=8]="Optional",Ge))();let rt;function en(i){const s=rt;return rt=i,s}function mn(i,s,o){const l=vr(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&Ge.Optional?null:void 0!==s?s:void Le(Q(i))}const Yt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ur={},Rt="__NG_DI_FLAG__",di="ngTempTokenPath",ho=/\n/gm,Ri="__source";let er;function an(i){const s=er;return er=i,s}function Ni(i,s=Ge.Default){if(void 0===er)throw new ne(-203,!1);return null===er?mn(i,void 0,s):er.get(i,s&Ge.Optional?null:void 0,s)}function qt(i,s=Ge.Default){return(function it(){return rt}()||Ni)(be(i),s)}function Ut(i,s=Ge.Default){return qt(i,B(s))}function B(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function V(i){const s=[];for(let o=0;o<i.length;o++){const l=be(i[o]);if(Array.isArray(l)){if(0===l.length)throw new ne(900,!1);let d,p=Ge.Default;for(let m=0;m<l.length;m++){const E=l[m],D=ye(E);"number"==typeof D?-1===D?d=E.token:p|=D:d=E}s.push(qt(d,p))}else s.push(qt(l))}return s}function z(i,s){return i[Rt]=s,i.prototype[Rt]=s,i}function ye(i){return i[Rt]}function st(i){return{toString:i}.toString()}var Ct=(()=>((Ct=Ct||{})[Ct.OnPush=0]="OnPush",Ct[Ct.Default=1]="Default",Ct))(),ln=(()=>{return(i=ln||(ln={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",ln;var i})();const tn={},gt=[],Lt=U({\u0275cmp:U}),tr=U({\u0275dir:U}),Zr=U({\u0275pipe:U}),Oi=U({\u0275mod:U}),Lr=U({\u0275fac:U}),ce=U({__NG_ELEMENT_ID__:U}),te=U({__NG_ENV_ID__:U});function Me(i,s,o){let l=i.length;for(;;){const d=i.indexOf(s,o);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=s.length;if(d+p===l||i.charCodeAt(d+p)<=32)return d}o=d+1}}function et(i,s,o){let l=0;for(;l<o.length;){const d=o[l];if("number"==typeof d){if(0!==d)break;l++;const p=o[l++],m=o[l++],E=o[l++];i.setAttribute(s,m,E,p)}else{const p=d,m=o[++l];St(p)?i.setProperty(s,p,m):i.setAttribute(s,p,m),l++}}return l}function mt(i){return 3===i||4===i||6===i}function St(i){return 64===i.charCodeAt(0)}function Wt(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?o=d:0===o||jn(i,o,d,null,-1===o||2===o?s[++l]:null)}}return i}function jn(i,s,o,l,d){let p=0,m=i.length;if(-1===s)m=-1;else for(;p<i.length;){const E=i[p++];if("number"==typeof E){if(E===s){m=-1;break}if(E>s){m=p-1;break}}}for(;p<i.length;){const E=i[p];if("number"==typeof E)break;if(E===o){if(null===l)return void(null!==d&&(i[p+1]=d));if(l===i[p+1])return void(i[p+2]=d)}p++,null!==l&&p++,null!==d&&p++}-1!==m&&(i.splice(m,0,s),p=m+1),i.splice(p++,0,o),null!==l&&i.splice(p++,0,l),null!==d&&i.splice(p++,0,d)}const xn="ng-template";function Wi(i,s,o){let l=0,d=!0;for(;l<i.length;){let p=i[l++];if("string"==typeof p&&d){const m=i[l++];if(o&&"class"===p&&-1!==Me(m.toLowerCase(),s,0))return!0}else{if(1===p){for(;l<i.length&&"string"==typeof(p=i[l++]);)if(p.toLowerCase()===s)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function gs(i){return 4===i.type&&i.value!==xn}function Ko(i,s,o){return s===(4!==i.type||o?i.value:xn)}function Oc(i,s,o){let l=4;const d=i.attrs||[],p=function Ya(i){for(let s=0;s<i.length;s++)if(mt(i[s]))return s;return i.length}(d);let m=!1;for(let E=0;E<s.length;E++){const D=s[E];if("number"!=typeof D){if(!m)if(4&l){if(l=2|1&l,""!==D&&!Ko(i,D,o)||""===D&&1===s.length){if(Vr(l))return!1;m=!0}}else{const S=8&l?D:s[++E];if(8&l&&null!==i.attrs){if(!Wi(i.attrs,S,o)){if(Vr(l))return!1;m=!0}continue}const F=xc(8&l?"class":D,d,gs(i),o);if(-1===F){if(Vr(l))return!1;m=!0;continue}if(""!==S){let W;W=F>p?"":d[F+1].toLowerCase();const K=8&l?W:null;if(K&&-1!==Me(K,S,0)||2&l&&S!==W){if(Vr(l))return!1;m=!0}}}}else{if(!m&&!Vr(l)&&!Vr(D))return!1;if(m&&Vr(D))continue;m=!1,l=D|1&l}}return Vr(l)||m}function Vr(i){return 0==(1&i)}function xc(i,s,o,l){if(null===s)return-1;let d=0;if(l||!o){let p=!1;for(;d<s.length;){const m=s[d];if(m===i)return d;if(3===m||6===m)p=!0;else{if(1===m||2===m){let E=s[++d];for(;"string"==typeof E;)E=s[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=p?1:2}return-1}return function kc(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const l=i[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,i)}function qr(i,s,o=!1){for(let l=0;l<s.length;l++)if(Oc(i,s[l],o))return!0;return!1}function Kr(i,s){return i?":not("+s.trim()+")":s}function Ap(i){let s=i[0],o=1,l=2,d="",p=!1;for(;o<i.length;){let m=i[o];if("string"==typeof m)if(2&l){const E=i[++o];d+="["+m+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?d+="."+m:4&l&&(d+=" "+m);else""!==d&&!Vr(m)&&(s+=Kr(p,d),d=""),l=m,p=p||!Vr(l);o++}return""!==d&&(s+=Kr(p,d)),s}function Os(i){return st(()=>{const s=Ja(i),o={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Ct.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||ln.Emulated,styles:i.styles||gt,_:null,schemas:i.schemas||null,tView:null,id:""};du(o);const l=i.dependencies;return o.directiveDefs=fo(l,!1),o.pipeDefs=fo(l,!0),o.id=function Vc(i){let s=0;const o=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const d of o)s=Math.imul(31,s)+d.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(o),o})}function Lc(i){return At(i)||Zn(i)}function Mp(i){return null!==i}function zi(i){return st(()=>({type:i.type,bootstrap:i.bootstrap||gt,declarations:i.declarations||gt,imports:i.imports||gt,exports:i.exports||gt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Yo(i,s){if(null==i)return tn;const o={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),o[d]=l,s&&(s[d]=p)}return o}function uu(i){return st(()=>{const s=Ja(i);return du(s),s})}function cu(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function At(i){return i[Lt]||null}function Zn(i){return i[tr]||null}function Jt(i){return i[Zr]||null}function ms(i){const s=At(i)||Zn(i)||Jt(i);return null!==s&&s.standalone}function cr(i,s){const o=i[Oi]||null;if(!o&&!0===s)throw new Error(`Type ${Q(i)} does not have '\u0275mod' property.`);return o}function Ja(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||gt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Yo(i.inputs,s),outputs:Yo(i.outputs)}}function du(i){i.features?.forEach(s=>s(i))}function fo(i,s){if(!i)return null;const o=s?Jt:Lc;return()=>("function"==typeof i?i():i).map(l=>o(l)).filter(Mp)}const In=0,ze=1,Tt=2,cn=3,Ur=4,_s=5,Er=6,xs=7,dn=8,nr=9,Zi=10,wt=11,Sr=12,Uc=13,xi=14,En=15,po=16,Jo=17,Yr=18,go=19,Bc=20,Br=21,Sn=22,hu=23,mo=24,Ot=25,Xa=1,ki=2,Ar=7,Qr=8,ks=9,$n=11;function An(i){return Array.isArray(i)&&"object"==typeof i[Xa]}function Hr(i){return Array.isArray(i)&&!0===i[Xa]}function _o(i){return 0!=(4&i.flags)}function qi(i){return i.componentOffset>-1}function Ki(i){return 1==(1&i.flags)}function rr(i){return!!i.template}function dr(i){return 0!=(512&i[Tt])}function ys(i,s){return i.hasOwnProperty(Lr)?i[Lr]:null}let ra=Yt.WeakRef??class el{constructor(s){this.ref=s}deref(){return this.ref}},kp=0,Cr=null,tl=!1;function Fn(i){const s=Cr;return Cr=i,s}class nl{constructor(){this.id=kp++,this.ref=function Gc(i){return new ra(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[s,o]of this.producers){const l=o.producerNode.deref();if(void 0!==l&&o.atTrackingVersion===this.trackingVersion){if(l.producerPollStatus(o.seenValueVersion))return!0}else this.producers.delete(s),l?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const s=tl;tl=!0;try{for(const[o,l]of this.consumers){const d=l.consumerNode.deref();void 0!==d&&d.trackingVersion===l.atTrackingVersion?d.onConsumerDependencyMayHaveChanged():(this.consumers.delete(o),d?.producers.delete(this.id))}}finally{tl=s}}producerAccessed(){if(tl)throw new Error("");if(null===Cr)return;let s=Cr.producers.get(this.id);void 0===s?(s={consumerNode:Cr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Cr.trackingVersion},Cr.producers.set(this.id,s),this.consumers.set(Cr.id,s)):(s.seenValueVersion=this.valueVersion,s.atTrackingVersion=Cr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Cr?.consumerAllowSignalWrites}producerPollStatus(s){return this.valueVersion!==s||(this.onProducerUpdateValueVersion(),this.valueVersion!==s)}}let oa=null;function Wc(i){const s=Fn(null);try{return i()}finally{Fn(s)}}const vu=()=>{};class zc extends nl{constructor(s,o,l){super(),this.watch=s,this.schedule=o,this.dirty=!1,this.cleanupFn=vu,this.registerOnCleanup=d=>{this.cleanupFn=d},this.consumerAllowSignalWrites=l}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const s=Fn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=vu,this.watch(this.registerOnCleanup)}finally{Fn(s)}}cleanup(){this.cleanupFn()}}class Eu{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function il(){return aa}function aa(i){return i.type.prototype.ngOnChanges&&(i.setInput=sl),Cu}function Cu(){const i=ol(this),s=i?.current;if(s){const o=i.previous;if(o===tn)i.previous=s;else for(let l in s)o[l]=s[l];i.current=null,this.ngOnChanges(s)}}function sl(i,s,o,l){const d=this.declaredInputs[o],p=ol(i)||function Lp(i,s){return i[wu]=s}(i,{previous:tn,current:null}),m=p.current||(p.current={}),E=p.previous,D=E[d];m[d]=new Eu(D&&D.currentValue,s,E===tn),i[l]=s}il.ngInherit=!0;const wu="__ngSimpleChanges__";function ol(i){return i[wu]||null}const fi=function(i,s,o){};function hn(i){for(;Array.isArray(i);)i=i[In];return i}function al(i,s){return hn(s[i])}function Dr(i,s){return hn(s[i.index])}function Du(i,s){return i.data[s]}function qn(i,s){const o=s[i];return An(o)?o:o[In]}function wo(i){return 128==(128&i[Tt])}function Es(i,s){return null==s?null:i[s]}function Tu(i){i[Jo]=0}function Kc(i){1024&i[Tt]||(i[Tt]|=1024,ul(i,1))}function bu(i){1024&i[Tt]&&(i[Tt]&=-1025,ul(i,-1))}function ul(i,s){let o=i[cn];if(null===o)return;o[_s]+=s;let l=o;for(o=o[cn];null!==o&&(1===s&&1===l[_s]||-1===s&&0===l[_s]);)o[_s]+=s,l=o,o=o[cn]}const ot={lFrame:Ru(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Jc(){return ot.bindingsEnabled}function De(){return ot.lFrame.lView}function Bt(){return ot.lFrame.tView}function dl(i){return ot.lFrame.contextLView=i,i[dn]}function Au(i){return ot.lFrame.contextLView=null,i}function _n(){let i=Vh();for(;null!==i&&64===i.type;)i=i.parent;return i}function Vh(){return ot.lFrame.currentTNode}function Qi(i,s){const o=ot.lFrame;o.currentTNode=i,o.isParent=s}function da(){return ot.lFrame.isParent}function Io(){ot.lFrame.isParent=!1}function ws(){return ot.lFrame.bindingIndex++}function nn(i){const s=ot.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function ha(i,s){const o=ot.lFrame;o.bindingIndex=o.bindingRootIndex=i,Ds(s)}function Ds(i){ot.lFrame.currentDirectiveIndex=i}function fa(i){const s=ot.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function td(){return ot.lFrame.currentQueryIndex}function pl(i){ot.lFrame.currentQueryIndex=i}function gl(i){const s=i[ze];return 2===s.type?s.declTNode:1===s.type?i[Er]:null}function pa(i,s,o){if(o&Ge.SkipSelf){let d=s,p=i;for(;!(d=d.parent,null!==d||o&Ge.Host||(d=gl(p),null===d||(p=p[xi],10&d.type))););if(null===d)return!1;s=d,i=p}const l=ot.lFrame=pi();return l.currentTNode=s,l.lView=i,!0}function So(i){const s=pi(),o=i[ze];ot.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function pi(){const i=ot.lFrame,s=null===i?null:i.child;return null===s?Ru(i):s}function Ru(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function nd(){const i=ot.lFrame;return ot.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ml=nd;function Nu(){const i=nd();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Mr(){return ot.lFrame.selectedIndex}function Bs(i){ot.lFrame.selectedIndex=i}function pn(){const i=ot.lFrame;return Du(i.tView,i.selectedIndex)}let _a=!0;function _l(){return _a}function gi(i){_a=i}function ya(i,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const p=i.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:R}=p;m&&(i.contentHooks??=[]).push(-o,m),E&&((i.contentHooks??=[]).push(o,E),(i.contentCheckHooks??=[]).push(o,E)),D&&(i.viewHooks??=[]).push(-o,D),S&&((i.viewHooks??=[]).push(o,S),(i.viewCheckHooks??=[]).push(o,S)),null!=R&&(i.destroyHooks??=[]).push(o,R)}}function Pu(i,s,o){Ou(i,s,3,o)}function Ao(i,s,o,l){(3&i[Tt])===o&&Ou(i,s,o,l)}function sd(i,s){let o=i[Tt];(3&o)===s&&(o&=4095,o+=1,i[Tt]=o)}function Ou(i,s,o,l){const p=l??-1,m=s.length-1;let E=0;for(let D=void 0!==l?65535&i[Jo]:0;D<m;D++)if("number"==typeof s[D+1]){if(E=s[D],null!=l&&E>=l)break}else s[D]<0&&(i[Jo]+=65536),(E<p||-1==p)&&(yl(i,o,s,D),i[Jo]=(4294901760&i[Jo])+D+2),D++}function jh(i,s){fi(4,i,s);const o=Fn(null);try{s.call(i)}finally{Fn(o),fi(5,i,s)}}function yl(i,s,o,l){const d=o[l]<0,p=o[l+1],E=i[d?-o[l]:o[l]];d?i[Tt]>>12<i[Jo]>>16&&(3&i[Tt])===s&&(i[Tt]+=4096,jh(E,p)):jh(E,p)}const gn=-1;class Kn{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Nn(i){return i!==gn}function _t(i){return 32767&i}function Ca(i,s){let o=function ei(i){return i>>16}(i),l=s;for(;o>0;)l=l[xi],o--;return l}let wa=!0;function Ts(i){const s=wa;return wa=i,s}const Da=255,ir=5;let ti=0;const mi={};function Ro(i,s){const o=El(i,s);if(-1!==o)return o;const l=s[ze];l.firstCreatePass&&(i.injectorIndex=s.length,ad(l.data,i),ad(s,null),ad(l.blueprint,null));const d=Li(i,s),p=i.injectorIndex;if(Nn(d)){const m=_t(d),E=Ca(d,s),D=E[ze].data;for(let S=0;S<8;S++)s[p+S]=E[m+S]|D[m+S]}return s[p+8]=d,p}function ad(i,s){i.push(0,0,0,0,0,0,0,0,s)}function El(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Li(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,l=null,d=s;for(;null!==d;){if(l=Uu(d),null===l)return gn;if(o++,d=d[xi],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return gn}function ni(i,s,o){!function od(i,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(ce)&&(l=o[ce]),null==l&&(l=o[ce]=ti++);const d=l&Da;s.data[i+(d>>ir)]|=1<<d}(i,s,o)}function pr(i,s,o){if(o&Ge.Optional||void 0!==i)return i;Le()}function _i(i,s,o,l){if(o&Ge.Optional&&void 0===l&&(l=null),!(o&(Ge.Self|Ge.Host))){const d=i[nr],p=en(void 0);try{return d?d.get(s,l,o&Ge.Optional):mn(s,l,o&Ge.Optional)}finally{en(p)}}return pr(l,0,o)}function Lu(i,s,o,l=Ge.Default,d){if(null!==i){if(2048&s[Tt]&&!(l&Ge.Self)){const m=function bl(i,s,o,l,d){let p=i,m=s;for(;null!==p&&null!==m&&2048&m[Tt]&&!(512&m[Tt]);){const E=ld(p,m,o,l|Ge.Self,mi);if(E!==mi)return E;let D=p.parent;if(!D){const S=m[Bc];if(S){const R=S.get(o,mi,l);if(R!==mi)return R}D=Uu(m),m=m[xi]}p=D}return d}(i,s,o,l,mi);if(m!==mi)return m}const p=ld(i,s,o,l,mi);if(p!==mi)return p}return _i(s,o,l,d)}function ld(i,s,o,l,d){const p=function ud(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(ce)?i[ce]:void 0;return"number"==typeof s?s>=0?s&Da:Dl:s}(o);if("function"==typeof p){if(!pa(s,i,l))return l&Ge.Host?pr(d,0,l):_i(s,o,l,d);try{const m=p(l);if(null!=m||l&Ge.Optional)return m;Le()}finally{ml()}}else if("number"==typeof p){let m=null,E=El(i,s),D=gn,S=l&Ge.Host?s[En][Er]:null;for((-1===E||l&Ge.SkipSelf)&&(D=-1===E?Li(i,s):s[E+8],D!==gn&&wl(l,!1)?(m=s[ze],E=_t(D),s=Ca(D,s)):E=-1);-1!==E;){const R=s[ze];if(ba(p,E,R.data)){const F=Vu(E,s,o,m,l,S);if(F!==mi)return F}D=s[E+8],D!==gn&&wl(l,s[ze].data[E+8]===S)&&ba(p,E,s)?(m=R,E=_t(D),s=Ca(D,s)):E=-1}}return d}function Vu(i,s,o,l,d,p){const m=s[ze],E=m.data[i+8],R=Cl(E,m,o,null==l?qi(E)&&wa:l!=m&&0!=(3&E.type),d&Ge.Host&&p===E);return null!==R?Vi(s,m,R,E):mi}function Cl(i,s,o,l,d){const p=i.providerIndexes,m=s.data,E=1048575&p,D=i.directiveStart,R=p>>20,W=d?E+R:i.directiveEnd;for(let K=l?E:E+R;K<W;K++){const _e=m[K];if(K<D&&o===_e||K>=D&&_e.type===o)return K}if(d){const K=m[D];if(K&&rr(K)&&K.type===o)return D}return null}function Vi(i,s,o,l){let d=i[o];const p=s.data;if(function $h(i){return i instanceof Kn}(d)){const m=d;m.resolving&&function Te(i,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new ne(-200,`Circular dependency in DI detected for ${i}${o}`)}(function fe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Y(i)}(p[o]));const E=Ts(m.canSeeViewProviders);m.resolving=!0;const D=m.injectImpl?en(m.injectImpl):null;pa(i,l,Ge.Default);try{d=i[o]=m.factory(void 0,p,i,l),s.firstCreatePass&&o>=l.directiveStart&&function id(i,s,o){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(l){const m=aa(s);(o.preOrderHooks??=[]).push(i,m),(o.preOrderCheckHooks??=[]).push(i,m)}d&&(o.preOrderHooks??=[]).push(0-i,d),p&&((o.preOrderHooks??=[]).push(i,p),(o.preOrderCheckHooks??=[]).push(i,p))}(o,p[o],s)}finally{null!==D&&en(D),Ts(E),m.resolving=!1,ml()}}return d}function ba(i,s,o){return!!(o[s+(i>>ir)]&1<<i)}function wl(i,s){return!(i&Ge.Self||i&Ge.Host&&s)}class js{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return Lu(this._tNode,this._lView,s,B(l),o)}}function Dl(){return new js(_n(),De())}function Ia(i){return st(()=>{const s=i.prototype.constructor,o=s[Lr]||Tl(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const p=d[Lr]||Tl(d);if(p&&p!==o)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Tl(i){return je(i)?()=>{const s=Tl(be(i));return s&&s()}:ys(i)}function Uu(i){const s=i[ze],o=s.type;return 2===o?s.declTNode:1===o?i[Er]:null}function Bu(i){return function Ta(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const l=o.length;let d=0;for(;d<l;){const p=o[d];if(mt(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<l&&"string"==typeof o[d];)d++;else{if(p===s)return o[d+1];d+=2}}}return null}(_n(),i)}const $s="__parameters__";function yi(i,s,o){return st(()=>{const l=function No(i){return function(...o){if(i){const l=i(...o);for(const d in l)this[d]=l[d]}}}(s);function d(...p){if(this instanceof d)return l.apply(this,p),this;const m=new d(...p);return E.annotation=m,E;function E(D,S,R){const F=D.hasOwnProperty($s)?D[$s]:Object.defineProperty(D,$s,{value:[]})[$s];for(;F.length<=R;)F.push(null);return(F[R]=F[R]||[]).push(m),D}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}function vi(i,s){i.forEach(o=>Array.isArray(o)?vi(o,s):s(o))}function Ss(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function Ma(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function C(i,s,o){let l=A(i,s);return l>=0?i[1|l]=o:(l=~l,function Bp(i,s,o,l){let d=i.length;if(d==s)i.push(o,l);else if(1===d)i.push(l,i[0]),i[0]=o;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=o,i[s+1]=l}}(i,l,s,o)),l}function T(i,s){const o=A(i,s);if(o>=0)return i[1|o]}function A(i,s){return function $(i,s,o){let l=0,d=i.length>>o;for(;d!==l;){const p=l+(d-l>>1),m=i[p<<o];if(s===m)return p<<o;m>s?d=p:l=p+1}return~(d<<o)}(i,s,1)}const Ei=z(yi("Optional"),8),jr=z(yi("SkipSelf"),4);function af(i){return 128==(128&i.flags)}var Zs=(()=>((Zs=Zs||{})[Zs.Important=1]="Important",Zs[Zs.DashCase=2]="DashCase",Zs))();const mE=/^>|^->|<!--|-->|--!>|<!-$/g,v_=/(<|>)/,lf="\u200b$1\u200b";const gd=new Map;let zu=0;const md="__ngContext__";function or(i,s){An(s)?(i[md]=s[go],function Zu(i){gd.set(i[go],i)}(s)):i[md]=s}let Ed;function Cd(i,s){return Ed(i,s)}function Ui(i){const s=i[cn];return Hr(s)?s[cn]:s}function yf(i){return vf(i[Sr])}function wd(i){return vf(i[Ur])}function vf(i){for(;null!==i&&!Hr(i);)i=i[Ur];return i}function gr(i,s,o,l,d){if(null!=l){let p,m=!1;Hr(l)?p=l:An(l)&&(m=!0,l=l[In]);const E=hn(l);0===i&&null!==o?null==d?H(s,o,E):M(s,o,E,d||null,!0):1===i&&null!==o?M(s,o,E,d||null,!0):2===i?function Ad(i,s,o){const l=qe(i,s);l&&function Ie(i,s,o,l){i.removeChild(s,o,l)}(i,l,s,o)}(s,E,m):3===i&&s.destroyNode(E),null!=p&&function Tr(i,s,o,l,d){const p=o[Ar];p!==hn(o)&&gr(s,i,l,p,d);for(let E=$n;E<o.length;E++){const D=o[E];dt(D[ze],D,i,s,l,p)}}(s,i,p,o,d)}}function Dd(i,s){return i.createComment(function Wp(i){return i.replace(mE,s=>s.replace(v_,lf))}(s))}function Ti(i,s,o){return i.createElement(s,o)}function Yp(i,s){const o=i[ks],l=o.indexOf(s);bu(s),o.splice(l,1)}function Na(i,s){if(i.length<=$n)return;const o=$n+s,l=i[o];if(l){const d=l[po];null!==d&&d!==i&&Yp(d,l),s>0&&(i[o-1][Ur]=l[Ur]);const p=Ma(i,$n+s);!function es(i,s){dt(i,s,s[wt],2,null,null),s[In]=null,s[Er]=null}(l[ze],l);const m=p[Yr];null!==m&&m.detachView(p[ze]),l[cn]=null,l[Ur]=null,l[Tt]&=-129}return l}function Cf(i,s){if(!(256&s[Tt])){const o=s[wt];s[hu]?.destroy(),s[mo]?.destroy(),o.destroyNode&&dt(i,s,o,3,null,null),function E_(i){let s=i[Sr];if(!s)return _(i[ze],i);for(;s;){let o=null;if(An(s))o=s[Sr];else{const l=s[$n];l&&(o=l)}if(!o){for(;s&&!s[Ur]&&s!==i;)An(s)&&_(s[ze],s),s=s[cn];null===s&&(s=i),An(s)&&_(s[ze],s),o=s&&s[Ur]}s=o}}(s)}}function _(i,s){if(!(256&s[Tt])){s[Tt]&=-129,s[Tt]|=256,function g(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let l=0;l<o.length;l+=2){const d=s[o[l]];if(!(d instanceof Kn)){const p=o[l+1];if(Array.isArray(p))for(let m=0;m<p.length;m+=2){const E=d[p[m]],D=p[m+1];fi(4,E,D);try{D.call(E)}finally{fi(5,E,D)}}else{fi(4,d,p);try{p.call(d)}finally{fi(5,d,p)}}}}}(i,s),function h(i,s){const o=i.cleanup,l=s[xs];if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const m=o[p+3];m>=0?l[m]():l[-m].unsubscribe(),p+=2}else o[p].call(l[o[p+1]]);null!==l&&(s[xs]=null);const d=s[Br];if(null!==d){s[Br]=null;for(let p=0;p<d.length;p++)(0,d[p])()}}(i,s),1===s[ze].type&&s[wt].destroy();const o=s[po];if(null!==o&&Hr(s[cn])){o!==s[cn]&&Yp(o,s);const l=s[Yr];null!==l&&l.detachView(i)}!function zp(i){gd.delete(i[go])}(s)}}function v(i,s,o){return function b(i,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[In];{const{componentOffset:d}=l;if(d>-1){const{encapsulation:p}=i.data[l.directiveStart+d];if(p===ln.None||p===ln.Emulated)return null}return Dr(l,o)}}(i,s.parent,o)}function M(i,s,o,l,d){i.insertBefore(s,o,l,d)}function H(i,s,o){i.appendChild(s,o)}function J(i,s,o,l,d){null!==l?M(i,s,o,l,d):H(i,s,o)}function qe(i,s){return i.parentNode(s)}let wf,Fl,Pa,L,bd=function ts(i,s,o){return 40&i.type?Dr(i,o):null};function Id(i,s,o,l){const d=v(i,l,s),p=s[wt],E=function Cn(i,s,o){return bd(i,s,o)}(l.parent||s[Er],l,s);if(null!=d)if(Array.isArray(o))for(let D=0;D<o.length;D++)J(p,d,o[D],E,!1);else J(p,d,o,E,!1);void 0!==wf&&wf(p,l,s,o,d)}function qu(i,s){if(null!==s){const o=s.type;if(3&o)return Dr(s,i);if(4&o)return Sd(-1,i[s.index]);if(8&o){const l=s.child;if(null!==l)return qu(i,l);{const d=i[s.index];return Hr(d)?Sd(-1,d):hn(d)}}if(32&o)return Cd(s,i)()||hn(i[s.index]);{const l=Tf(i,s);return null!==l?Array.isArray(l)?l[0]:qu(Ui(i[En]),l):qu(i,s.next)}}return null}function Tf(i,s){return null!==s?i[En][Er].projection[s.projection]:null}function Sd(i,s){const o=$n+i+1;if(o<s.length){const l=s[o],d=l[ze].firstChild;if(null!==d)return qu(l,d)}return s[Ar]}function Md(i,s,o,l,d,p,m){for(;null!=o;){const E=l[o.index],D=o.type;if(m&&0===s&&(E&&or(hn(E),l),o.flags|=2),32!=(32&o.flags))if(8&D)Md(i,s,o.child,l,d,p,!1),gr(s,i,d,E,p);else if(32&D){const S=Cd(o,l);let R;for(;R=S();)gr(s,i,d,R,p);gr(s,i,d,E,p)}else 16&D?bf(i,s,l,o,d,p):gr(s,i,d,E,p);o=m?o.projectionNext:o.next}}function dt(i,s,o,l,d,p){Md(o,l,i.firstChild,s,d,p,!1)}function bf(i,s,o,l,d,p){const m=o[En],D=m[Er].projection[l.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)gr(s,i,d,D[S],p);else{let S=D;const R=m[cn];af(l)&&(S.flags|=128),Md(i,s,S,R,d,p,!0)}}function Qp(i,s,o){""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o)}function yE(i,s,o){const{mergedAttrs:l,classes:d,styles:p}=o;null!==l&&et(i,s,l),null!==d&&Qp(i,s,d),null!==p&&function VD(i,s,o){i.setAttribute(s,"style",o)}(i,s,p)}function Rd(i){return function w_(){if(void 0===Fl&&(Fl=null,Yt.trustedTypes))try{Fl=Yt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Fl}()?.createHTML(i)||i}function Ll(i){Pa=i}function qs(){if(void 0!==Pa)return Pa;if(typeof document<"u")return document;throw new ne(210,!1)}function Nd(){if(void 0===L&&(L=null,Yt.trustedTypes))try{L=Yt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return L}function D_(i){return Nd()?.createHTML(i)||i}function Jp(i){return Nd()?.createScriptURL(i)||i}class Vl{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tt})`}}class HD extends Vl{getTypeName(){return"HTML"}}class jD extends Vl{getTypeName(){return"Style"}}class vE extends Vl{getTypeName(){return"Script"}}class Yu extends Vl{getTypeName(){return"URL"}}class b_ extends Vl{getTypeName(){return"ResourceURL"}}function Bi(i){return i instanceof Vl?i.changingThisBreaksApplicationSecurity:i}function Qu(i,s){const o=function EE(i){return i instanceof Vl&&i.getTypeName()||null}(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${tt})`)}return o===s}function If(i){return new HD(i)}function Ju(i){return new jD(i)}function CE(i){return new vE(i)}function wE(i){return new Yu(i)}function Rr(i){return new b_(i)}class I_{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(Rd(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch{return null}}}class Uo{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const o=this.inertDocument.createElement("template");return o.innerHTML=Rd(s),o}}const $D=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Xu(i){return(i=String(i)).match($D)?i:"unsafe:"+i}function Oa(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function Ms(...i){const s={};for(const o of i)for(const l in o)o.hasOwnProperty(l)&&(s[l]=!0);return s}const Bo=Oa("area,br,col,hr,img,wbr"),Ul=Oa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),DE=Oa("rp,rt"),mr=Ms(Bo,Ms(Ul,Oa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ms(DE,Oa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ms(DE,Ul)),eg=Oa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bE=Ms(eg,Oa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Oa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),WD=Oa("script,style,template");class zD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let d=this.checkClobberedElement(o,o.nextSibling);if(d){o=d;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!mr.hasOwnProperty(o))return this.sanitizedSomething=!0,!WD.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=s.attributes;for(let d=0;d<l.length;d++){const p=l.item(d),m=p.name,E=m.toLowerCase();if(!bE.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let D=p.value;eg[E]&&(D=Xu(D)),this.buf.push(" ",m,'="',ec(D),'"')}return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();mr.hasOwnProperty(o)&&!Bo.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(ec(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const ZD=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,IE=/([^\#-~ |!])/g;function ec(i){return i.replace(/&/g,"&amp;").replace(ZD,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(IE,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tg;function Od(i,s){let o=null;try{tg=tg||function Pd(i){const s=new Uo(i);return function si(){try{return!!(new window.DOMParser).parseFromString(Rd(""),"text/html")}catch{return!1}}()?new I_(s):s}(i);let l=s?String(s):"";o=tg.getInertBodyElement(l);let d=5,p=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=p,p=o.innerHTML,o=tg.getInertBodyElement(l)}while(l!==p);return Rd((new zD).sanitizeChildren(S_(o)||o))}finally{if(o){const l=S_(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function S_(i){return"content"in i&&function qD(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Pn=(()=>((Pn=Pn||{})[Pn.NONE=0]="NONE",Pn[Pn.HTML=1]="HTML",Pn[Pn.STYLE=2]="STYLE",Pn[Pn.SCRIPT=3]="SCRIPT",Pn[Pn.URL=4]="URL",Pn[Pn.RESOURCE_URL=5]="RESOURCE_URL",Pn))();function Sf(i){const s=tc();return s?D_(s.sanitize(Pn.HTML,i)||""):Qu(i,"HTML")?D_(Bi(i)):Od(qs(),Y(i))}function A_(i){const s=tc();return s?s.sanitize(Pn.URL,i)||"":Qu(i,"URL")?Bi(i):Xu(Y(i))}function M_(i){const s=tc();if(s)return Jp(s.sanitize(Pn.RESOURCE_URL,i)||"");if(Qu(i,"ResourceURL"))return Jp(Bi(i));throw new ne(904,!1)}function ng(i,s,o){return function NE(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?M_:A_}(s,o)(i)}function tc(){const i=De();return i&&i[Zi].sanitizer}class rn{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Gt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const xd=new rn("ENVIRONMENT_INITIALIZER"),PE=new rn("INJECTOR",-1),rg=new rn("INJECTOR_DEF_TYPES");class ig{get(s,o=ur){if(o===ur){const l=new Error(`NullInjectorError: No provider for ${Q(s)}!`);throw l.name="NullInjectorError",l}return o}}function Af(i){return{\u0275providers:i}}function QD(...i){return{\u0275providers:OE(0,i),\u0275fromNgModule:!0}}function OE(i,...s){const o=[],l=new Set;let d;return vi(s,p=>{const m=p;N_(m,o,[],l)&&(d||=[],d.push(m))}),void 0!==d&&R_(d,o),o}function R_(i,s){for(let o=0;o<i.length;o++){const{providers:d}=i[o];P_(d,p=>{s.push(p)})}}function N_(i,s,o,l){if(!(i=be(i)))return!1;let d=null,p=uo(i);const m=!p&&At(i);if(p||m){if(m&&!m.standalone)return!1;d=i}else{const D=i.ngModule;if(p=uo(D),!p)return!1;d=D}const E=l.has(d);if(m){if(E)return!1;if(l.add(d),m.dependencies){const D="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const S of D)N_(S,s,o,l)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let S;l.add(d);try{vi(p.imports,R=>{N_(R,s,o,l)&&(S||=[],S.push(R))})}finally{}void 0!==S&&R_(S,s)}if(!E){const S=ys(d)||(()=>new d);s.push({provide:d,useFactory:S,deps:gt},{provide:rg,useValue:d,multi:!0},{provide:xd,useValue:()=>qt(d),multi:!0})}const D=p.providers;null==D||E||P_(D,R=>{s.push(R)})}}return d!==i&&void 0!==i.providers}function P_(i,s){for(let o of i)Ne(o)&&(o=o.\u0275providers),Array.isArray(o)?P_(o,s):s(o)}const xE=U({provide:String,useValue:U});function sg(i){return null!==i&&"object"==typeof i&&xE in i}function nc(i){return"function"==typeof i}const x_=new rn("Set Injector scope."),og={},FE={};let ag;function lg(){return void 0===ag&&(ag=new ig),ag}class rc{}class k_ extends rc{get destroyed(){return this._destroyed}constructor(s,o,l,d){super(),this.parent=o,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,L_(s,m=>this.processProvider(m)),this.records.set(PE,xa(void 0,this)),d.has("environment")&&this.records.set(rc,xa(void 0,this));const p=this.records.get(x_);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(rg.multi,gt,Ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of s)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const o=an(this),l=en(void 0);try{return s()}finally{an(o),en(l)}}get(s,o=ur,l=Ge.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(te))return s[te](this);l=B(l);const d=an(this),p=en(void 0);try{if(!(l&Ge.SkipSelf)){let E=this.records.get(s);if(void 0===E){const D=function eT(i){return"function"==typeof i||"object"==typeof i&&i instanceof rn}(s)&&vr(s);E=D&&this.injectableDefInScope(D)?xa(Ho(s),og):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(l&Ge.Self?lg():this.parent).get(s,o=l&Ge.Optional&&o===ur?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[di]=m[di]||[]).unshift(Q(s)),d)throw m;return function ie(i,s,o,l){const d=i[di];throw s[Ri]&&d.unshift(s[Ri]),i.message=function Ye(i,s,o,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=Q(s);if(Array.isArray(s))d=s.map(Q).join(" -> ");else if("object"==typeof s){let p=[];for(let m in s)if(s.hasOwnProperty(m)){let E=s[m];p.push(m+":"+("string"==typeof E?JSON.stringify(E):Q(E)))}d=`{${p.join(", ")}}`}return`${o}${l?"("+l+")":""}[${d}]: ${i.replace(ho,"\n  ")}`}("\n"+i.message,d,o,l),i.ngTokenPath=d,i[di]=null,i}(m,s,"R3InjectorError",this.source)}throw m}finally{en(p),an(d)}}resolveInjectorInitializers(){const s=an(this),o=en(void 0);try{const l=this.get(xd.multi,gt,Ge.Self);for(const d of l)d()}finally{an(s),en(o)}}toString(){const s=[],o=this.records;for(const l of o.keys())s.push(Q(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ne(205,!1)}processProvider(s){let o=nc(s=be(s))?s:be(s&&s.provide);const l=function XD(i){return sg(i)?xa(void 0,i.useValue):xa(LE(i),og)}(s);if(nc(s)||!0!==s.multi)this.records.get(o);else{let d=this.records.get(o);d||(d=xa(void 0,og,!0),d.factory=()=>V(d.multi),this.records.set(o,d)),o=s,d.multi.push(s)}this.records.set(o,l)}hydrate(s,o){return o.value===og&&(o.value=FE,o.value=o.factory()),"object"==typeof o.value&&o.value&&function VE(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=be(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(s){const o=this._onDestroyHooks.indexOf(s);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Ho(i){const s=vr(i),o=null!==s?s.factory:ys(i);if(null!==o)return o;if(i instanceof rn)throw new ne(204,!1);if(i instanceof Function)return function F_(i){const s=i.length;if(s>0)throw function Ml(i,s){const o=[];for(let l=0;l<i;l++)o.push(s);return o}(s,"?"),new ne(204,!1);const o=function Ps(i){return i&&(i[xr]||i[fs])||null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new ne(204,!1)}function LE(i,s,o){let l;if(nc(i)){const d=be(i);return ys(d)||Ho(d)}if(sg(i))l=()=>be(i.useValue);else if(function kE(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...V(i.deps||[]));else if(function O_(i){return!(!i||!i.useExisting)}(i))l=()=>qt(be(i.useExisting));else{const d=be(i&&(i.useClass||i.provide));if(!function kd(i){return!!i.deps}(i))return ys(d)||Ho(d);l=()=>new d(...V(i.deps))}return l}function xa(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function L_(i,s){for(const o of i)Array.isArray(o)?L_(o,s):o&&Ne(o)?L_(o.\u0275providers,s):s(o)}const UE=new rn("AppId",{providedIn:"root",factory:()=>tT}),tT="ng",ug=new rn("Platform Initializer"),cg=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),BE=new rn("AnimationModuleType"),nT=new rn("CSP nonce",{providedIn:"root",factory:()=>qs().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let U_=(i,s)=>null;function oi(i,s){return U_(i,s)}class GE{}class WE{}class ac{resolveComponentFactory(s){throw function aT(i){const s=Error(`No component factory found for ${Q(i)}.`);return s.ngComponent=i,s}(s)}}let kt=(()=>{class i{}return i.NULL=new ac,i})();function _g(){return ka(_n(),De())}function ka(i,s){return new Ud(Dr(i,s))}let Ud=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=_g,i})();function $o(i){return i instanceof Ud?i.nativeElement:i}class Rf{}let Ks=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function uT(){const i=De(),o=qn(_n().index,i);return(An(o)?o:i)[wt]}(),i})(),Hi=(()=>{class i{}return i.\u0275prov=Gt({token:i,providedIn:"root",factory:()=>null}),i})();class ZE{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const yg=new ZE("16.0.5"),Nf={};function Pf(i){for(;i;){i[Tt]|=64;const s=Ui(i);if(dr(i)&&!s)return i;i=s}return null}function vg(i){return i.ngOriginalError}class Ys{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&vg(s);for(;o&&vg(o);)o=vg(o);return o||null}}const qE=new rn("",{providedIn:"root",factory:()=>!1});function Gr(i){return i instanceof Function?i():i}class Tg extends nl{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(s){this._lView=s}onConsumerDependencyMayHaveChanged(){Pf(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(s,o,l){const d=Fn(this);this.trackingVersion++;try{s(o,l)}finally{Fn(d)}}destroy(){this.trackingVersion++}}let xf=null;function lc(){return xf??=new Tg,xf}function Hd(i,s){return i[s]??lc()}function jd(i,s){const o=lc();o.hasReadASignal&&(i[s]=xf,o.lView=i,xf=new Tg)}const Pt={};function bg(i){$d(Bt(),De(),Mr()+i,!1)}function $d(i,s,o,l){if(!l)if(3==(3&s[Tt])){const p=i.preOrderCheckHooks;null!==p&&Pu(s,p,o)}else{const p=i.preOrderHooks;null!==p&&Ao(s,p,0,o)}Bs(o)}function G_(i,s=null,o=null,l){const d=kf(i,s,o,l);return d.resolveInjectorInitializers(),d}function kf(i,s=null,o=null,l,d=new Set){const p=[o||gt,QD(i)];return l=l||("object"==typeof i?void 0:Q(i)),new k_(p,s||lg(),l||null,d)}let Bl=(()=>{class i{static create(o,l){if(Array.isArray(o))return G_({name:""},l,o,"");{const d=o.name??"";return G_({name:d},o.parent,o.providers,d)}}}return i.THROW_IF_NOT_FOUND=ur,i.NULL=new ig,i.\u0275prov=Gt({token:i,providedIn:"any",factory:()=>qt(PE)}),i.__NG_ELEMENT_ID__=-1,i})();function Fa(i,s=Ge.Default){const o=De();return null===o?qt(i,s):Lu(_n(),o,be(i),s)}function uc(){throw new Error("invalid")}function Gd(i,s,o,l,d,p,m,E,D,S,R){const F=s.blueprint.slice();return F[In]=d,F[Tt]=140|l,(null!==S||i&&2048&i[Tt])&&(F[Tt]|=2048),Tu(F),F[cn]=F[xi]=i,F[dn]=o,F[Zi]=m||i&&i[Zi],F[wt]=E||i&&i[wt],F[nr]=D||i&&i[nr]||null,F[Er]=p,F[go]=function uf(){return zu++}(),F[Sn]=R,F[Bc]=S,F[En]=2==s.type?i[En]:F,F}function Wd(i,s,o,l,d){let p=i.data[s];if(null===p)p=function z_(i,s,o,l,d){const p=Vh(),m=da(),D=i.data[s]=function wT(i,s,o,l,d,p){let m=s?s.injectorIndex:-1,E=0;return function To(){return null!==ot.skipHydrationRootTNode}()&&(E|=128),{type:o,index:l,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?p:p&&p.parent,o,s,l,d);return null===i.firstChild&&(i.firstChild=D),null!==p&&(m?null==p.child&&null!==D.parent&&(p.child=D):null===p.next&&(p.next=D,D.prev=p)),D}(i,s,o,l,d),function ed(){return ot.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=o,p.value=l,p.attrs=d;const m=function Xr(){const i=ot.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===m?-1:m.injectorIndex}return Qi(p,!0),p}function zd(i,s,o,l){if(0===o)return-1;const d=s.length;for(let p=0;p<o;p++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function YE(i,s,o,l,d){const p=Hd(s,hu),m=Mr(),E=2&l;try{if(Bs(-1),E&&s.length>Ot&&$d(i,s,Ot,!1),fi(E?2:0,d),E)p.runInContext(o,l,d);else{const S=Fn(null);try{o(l,d)}finally{Fn(S)}}}finally{E&&null===s[hu]&&jd(s,hu),Bs(m),fi(E?3:1,d)}}function Z_(i,s,o){if(_o(s)){const l=Fn(null);try{const p=s.directiveEnd;for(let m=s.directiveStart;m<p;m++){const E=i.data[m];E.contentQueries&&E.contentQueries(1,o[m],m)}}finally{Fn(l)}}}function q_(i,s,o){Jc()&&(function Uf(i,s,o,l){const d=o.directiveStart,p=o.directiveEnd;qi(o)&&function nC(i,s,o){const l=Dr(s,i),m=kg(i,Gd(i,Rg(o),null,o.onPush?64:16,l,s,null,i[Zi].rendererFactory.createRenderer(l,o),null,null,null));i[s.index]=m}(s,o,i.data[d+o.componentOffset]),i.firstCreatePass||Ro(o,s),or(l,s);const m=o.initialInputs;for(let E=d;E<p;E++){const D=i.data[E],S=Vi(s,i,E,o);or(S,s),null!==m&&TT(0,E-d,S,D,0,m),rr(D)&&(qn(o.index,s)[dn]=Vi(s,i,E,o))}}(i,s,o,Dr(o,s)),64==(64&o.flags)&&xg(i,s,o))}function Qn(i,s,o=Dr){const l=s.localNames;if(null!==l){let d=s.index+1;for(let p=0;p<l.length;p+=2){const m=l[p+1],E=-1===m?o(s,i):i[m];i[d++]=E}}}function Rg(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Ff(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function Ff(i,s,o,l,d,p,m,E,D,S,R){const F=Ot+l,W=F+d,K=function K_(i,s){const o=[];for(let l=0;l<s;l++)o.push(l<i?null:Pt);return o}(F,W),_e="function"==typeof S?S():S;return K[ze]={type:i,blueprint:K,template:o,queries:null,viewQuery:E,declTNode:s,data:K.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:W,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:D,consts:_e,incompleteFirstPass:!1,ssrId:R}}let Hl=i=>null;function qd(i,s,o,l){for(let d in i)if(i.hasOwnProperty(d)){o=null===o?{}:o;const p=i[d];null===l?QE(o,s,d,p):l.hasOwnProperty(d)&&QE(o,s,l[d],p)}return o}function QE(i,s,o,l){i.hasOwnProperty(o)?i[o].push(s,l):i[o]=[s,l]}function Wr(i,s,o,l,d,p,m,E){const D=Dr(s,o);let R,S=s.inputs;!E&&null!=S&&(R=S[l])?(X_(i,o,R,l,d),qi(s)&&function JE(i,s){const o=qn(s,i);16&o[Tt]||(o[Tt]|=64)}(o,s.index)):3&s.type&&(l=function Pg(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=m?m(d,s.value||"",l):d,p.setProperty(D,l,d))}function Vf(i,s,o,l){if(Jc()){const d=null===l?null:{"":-1},p=function Y_(i,s){const o=i.directiveRegistry;let l=null,d=null;if(o)for(let p=0;p<o.length;p++){const m=o[p];if(qr(s,m.selectors,!1))if(l||(l=[]),rr(m))if(null!==m.findHostDirectiveDefs){const E=[];d=d||new Map,m.findHostDirectiveDefs(m,E,d),l.unshift(...E,m),La(i,s,E.length)}else l.unshift(m),La(i,s,0);else d=d||new Map,m.findHostDirectiveDefs?.(m,l,d),l.push(m)}return null===l?null:[l,d]}(i,o);let m,E;null===p?m=E=null:[m,E]=p,null!==m&&XE(i,s,o,m,d,E),d&&function tC(i,s,o){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const p=o[s[d+1]];if(null==p)throw new ne(-301,!1);l.push(s[d],p)}}}(o,l,d)}o.mergedAttrs=Wt(o.mergedAttrs,o.attrs)}function XE(i,s,o,l,d,p){for(let S=0;S<l.length;S++)ni(Ro(o,s),i,l[S].type);!function Q_(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}(o,i.data.length,l.length);for(let S=0;S<l.length;S++){const R=l[S];R.providersResolver&&R.providersResolver(R)}let m=!1,E=!1,D=zd(i,s,l.length,null);for(let S=0;S<l.length;S++){const R=l[S];o.mergedAttrs=Wt(o.mergedAttrs,R.hostAttrs),Yd(i,o,s,D,R),$l(D,R,d),null!==R.contentQueries&&(o.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(o.flags|=64);const F=R.type.prototype;!m&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((i.preOrderHooks??=[]).push(o.index),m=!0),!E&&(F.ngOnChanges||F.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(o.index),E=!0),D++}!function DT(i,s,o){const d=s.directiveEnd,p=i.data,m=s.attrs,E=[];let D=null,S=null;for(let R=s.directiveStart;R<d;R++){const F=p[R],W=o?o.get(F):null,_e=W?W.outputs:null;D=qd(F.inputs,R,D,W?W.inputs:null),S=qd(F.outputs,R,S,_e);const Re=null===D||null===m||gs(s)?null:bT(D,R,m);E.push(Re)}null!==D&&(D.hasOwnProperty("class")&&(s.flags|=8),D.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=E,s.inputs=D,s.outputs=S}(i,o,p)}function xg(i,s,o){const l=o.directiveStart,d=o.directiveEnd,p=o.index,m=function fl(){return ot.lFrame.currentDirectiveIndex}();try{Bs(p);for(let E=l;E<d;E++){const D=i.data[E],S=s[E];Ds(E),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&eC(D,S)}}finally{Bs(-1),Ds(m)}}function eC(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function La(i,s,o){s.componentOffset=o,(i.components??=[]).push(s.index)}function $l(i,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=i;rr(s)&&(o[""]=i)}}function Yd(i,s,o,l,d){i.data[l]=d;const p=d.factory||(d.factory=ys(d.type)),m=new Kn(p,rr(d),Fa);i.blueprint[l]=m,o[l]=m,function Dn(i,s,o,l,d){const p=d.hostBindings;if(p){let m=i.hostBindingOpCodes;null===m&&(m=i.hostBindingOpCodes=[]);const E=~s.index;(function Js(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(m)!=E&&m.push(E),m.push(o,l,p)}}(i,s,l,zd(i,o,d.hostVars,Pt),d)}function rs(i,s,o,l,d,p){const m=Dr(i,s);!function J_(i,s,o,l,d,p,m){if(null==p)i.removeAttribute(s,d,o);else{const E=null==m?Y(p):m(p,l||"",d);i.setAttribute(s,d,E,o)}}(s[wt],m,p,i.value,o,l,d)}function TT(i,s,o,l,d,p){const m=p[s];if(null!==m)for(let E=0;E<m.length;)rC(l,o,m[E++],m[E++],m[E++])}function rC(i,s,o,l,d){const p=Fn(null);try{null!==i.setInput?i.setInput(s,d,o,l):s[l]=d}finally{Fn(p)}}function bT(i,s,o){let l=null,d=0;for(;d<o.length;){const p=o[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(i.hasOwnProperty(p)){null===l&&(l=[]);const m=i[p];for(let E=0;E<m.length;E+=2)if(m[E]===s){l.push(p,m[E+1],o[d+1]);break}}d+=2}else d+=2;else d+=4}return l}function iC(i,s,o,l){return[i,!0,!1,s,null,0,l,o,null,null,null]}function sC(i,s){const o=i.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const p=o[l+1];if(-1!==p){const m=i.data[p];pl(o[l]),m.contentQueries(2,s[p],p)}}}function kg(i,s){return i[Sr]?i[Uc][Ur]=s:i[Sr]=s,i[Uc]=s,s}function Fg(i,s,o){pl(0);const l=Fn(null);try{s(i,o)}finally{Fn(l)}}function oC(i){return i[xs]||(i[xs]=[])}function aC(i){return i.cleanup||(i.cleanup=[])}function uC(i,s){const o=i[nr],l=o?o.get(Ys,null):null;l&&l.handleError(s)}function X_(i,s,o,l,d){for(let p=0;p<o.length;){const m=o[p++],E=o[p++];rC(i.data[m],s[m],l,E,d)}}function Lg(i,s){const o=qn(s,i),l=o[ze];!function ey(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])}(l,o);const d=o[In];null!==d&&null===o[Sn]&&(o[Sn]=oi(d,o[nr])),Vg(l,o,o[dn])}function Vg(i,s,o){So(s);try{const l=i.viewQuery;null!==l&&Fg(1,l,o);const d=i.template;null!==d&&YE(i,s,d,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&sC(i,s),i.staticViewQueries&&Fg(2,i.viewQuery,o);const p=i.components;null!==p&&function Ug(i,s){for(let o=0;o<s.length;o++)Lg(i,s[o])}(s,p)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[Tt]&=-5,Nu()}}let ny=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(o,l,d){const p=typeof Zone>"u"?null:Zone.current,m=new zc(o,S=>{this.all.has(S)&&this.queue.set(S,p)},d);let E;this.all.add(m),m.notify();const D=()=>{m.cleanup(),E?.(),this.all.delete(m),this.queue.delete(m)};return E=l?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[o,l]of this.queue)this.queue.delete(o),l?l.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}}return i.\u0275prov=Gt({token:i,providedIn:"root",factory:()=>new i}),i})();function Bg(i,s,o){let l=o?i.styles:null,d=o?i.classes:null,p=0;if(null!==s)for(let m=0;m<s.length;m++){const E=s[m];"number"==typeof E?p=E:1==p?d=Pe(d,E):2==p&&(l=Pe(l,E+": "+s[++m]+";"))}o?i.styles=l:i.stylesWithoutHost=l,o?i.classes=d:i.classesWithoutHost=d}function Qd(i,s,o,l,d=!1){for(;null!==o;){const p=s[o.index];if(null!==p&&l.push(hn(p)),Hr(p)){for(let E=$n;E<p.length;E++){const D=p[E],S=D[ze].firstChild;null!==S&&Qd(D[ze],D,S,l)}p[Ar]!==p[In]&&l.push(p[Ar])}const m=o.type;if(8&m)Qd(i,s,o.child,l);else if(32&m){const E=Cd(o,s);let D;for(;D=E();)l.push(D)}else if(16&m){const E=Tf(s,o);if(Array.isArray(E))l.push(...E);else{const D=Ui(s[En]);Qd(D[ze],D,E,l,!0)}}o=d?o.projectionNext:o.next}return l}function Jd(i,s,o,l=!0){const d=s[Zi].rendererFactory;d.begin&&d.begin();try{Hg(i,s,i.template,o)}catch(m){throw l&&uC(s,m),m}finally{d.end&&d.end(),s[Zi].effectManager?.flush()}}function Hg(i,s,o,l){const d=s[Tt];if(256!=(256&d)){s[Zi].effectManager?.flush(),So(s);try{Tu(s),function hl(i){return ot.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&YE(i,s,o,2,l);const m=3==(3&d);if(m){const S=i.preOrderCheckHooks;null!==S&&Pu(s,S,null)}else{const S=i.preOrderHooks;null!==S&&Ao(s,S,0,null),sd(s,0)}if(function cC(i){for(let s=yf(i);null!==s;s=wd(s)){if(!s[ki])continue;const o=s[ks];for(let l=0;l<o.length;l++){Kc(o[l])}}}(s),function NT(i){for(let s=yf(i);null!==s;s=wd(s))for(let o=$n;o<s.length;o++){const l=s[o],d=l[ze];wo(l)&&Hg(d,l,d.template,l[dn])}}(s),null!==i.contentQueries&&sC(i,s),m){const S=i.contentCheckHooks;null!==S&&Pu(s,S)}else{const S=i.contentHooks;null!==S&&Ao(s,S,1),sd(s,1)}!function W_(i,s){const o=i.hostBindingOpCodes;if(null===o)return;const l=Hd(s,mo);try{for(let d=0;d<o.length;d++){const p=o[d];if(p<0)Bs(~p);else{const m=p,E=o[++d],D=o[++d];ha(E,m),l.runInContext(D,2,s[m])}}}finally{null===s[mo]&&jd(s,mo),Bs(-1)}}(i,s);const E=i.components;null!==E&&function dC(i,s){for(let o=0;o<s.length;o++)jg(i,s[o])}(s,E);const D=i.viewQuery;if(null!==D&&Fg(2,D,l),m){const S=i.viewCheckHooks;null!==S&&Pu(s,S)}else{const S=i.viewHooks;null!==S&&Ao(s,S,2),sd(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[Tt]&=-73,bu(s)}finally{Nu()}}}function jg(i,s){const o=qn(s,i);if(wo(o)){const l=o[ze];80&o[Tt]?Hg(l,o,l.template,o[dn]):o[_s]>0&&Bf(o)}}function Bf(i){for(let l=yf(i);null!==l;l=wd(l))for(let d=$n;d<l.length;d++){const p=l[d];if(wo(p))if(1024&p[Tt]){const m=p[ze];Hg(m,p,m.template,p[dn])}else p[_s]>0&&Bf(p)}const o=i[ze].components;if(null!==o)for(let l=0;l<o.length;l++){const d=qn(o[l],i);wo(d)&&d[_s]>0&&Bf(d)}}class Hf{get rootNodes(){const s=this._lView,o=s[ze];return Qd(o,s,o.firstChild,[])}constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[dn]}set context(s){this._lView[dn]=s}get destroyed(){return 256==(256&this._lView[Tt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[cn];if(Hr(s)){const o=s[Qr],l=o?o.indexOf(this):-1;l>-1&&(Na(s,l),Ma(o,l))}this._attachedToViewContainer=!1}Cf(this._lView[ze],this._lView)}onDestroy(s){!function Iu(i,s){if(256==(256&i[Tt]))throw new ne(911,!1);null===i[Br]&&(i[Br]=[]),i[Br].push(s)}(this._lView,s)}markForCheck(){Pf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Tt]&=-129}reattach(){this._lView[Tt]|=128}detectChanges(){Jd(this._lView[ze],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ef(i,s){dt(i,s,s[wt],2,null,null)}(this._lView[ze],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=s}}class hC extends Hf{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Jd(s[ze],s,s[dn],!1)}checkNoChanges(){}get context(){return null}}class $g extends kt{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=At(s);return new jf(o,this.ngModule)}}function fC(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}class OT{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,l){l=B(l);const d=this.injector.get(s,Nf,l);return d!==Nf||o===Nf?d:this.parentInjector.get(s,o,l)}}class jf extends WE{get inputs(){return fC(this.componentDef.inputs)}get outputs(){return fC(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function Ah(i){return i.map(Ap).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,l,d){let p=(d=d||this.ngModule)instanceof rc?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const m=p?new OT(s,p):s,E=m.get(Rf,null);if(null===E)throw new ne(407,!1);const R={rendererFactory:E,sanitizer:m.get(Hi,null),effectManager:m.get(ny,null)},F=E.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",K=l?function Ng(i,s,o,l){const p=l.get(qE,!1)||o===ln.ShadowDom,m=i.selectRootElement(s,p);return function Lf(i){Hl(i)}(m),m}(F,l,this.componentDef.encapsulation,m):Ti(F,W,function PT(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(W)),_e=this.componentDef.onPush?576:528,Re=Ff(0,null,null,1,0,null,null,null,null,null,null),Be=Gd(null,Re,null,_e,null,null,R,F,m,null,null);let at,Ce;So(Be);try{const yt=this.componentDef;let jt,Vt=null;yt.findHostDirectiveDefs?(jt=[],Vt=new Map,yt.findHostDirectiveDefs(yt,jt,Vt),jt.push(yt)):jt=[yt];const ui=function kT(i,s){const o=i[ze],l=Ot;return i[l]=s,Wd(o,l,2,"#host",null)}(Be,K),fD=function pC(i,s,o,l,d,p,m){const E=d[ze];!function FT(i,s,o,l){for(const d of i)s.mergedAttrs=Wt(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(Bg(s,s.mergedAttrs,!0),null!==o&&yE(l,o,s))}(l,i,s,m);let D=null;null!==s&&(D=oi(s,d[nr]));const S=p.rendererFactory.createRenderer(s,o),R=Gd(d,Rg(o),null,o.onPush?64:16,d[i.index],i,p,S,null,null,D);return E.firstCreatePass&&La(E,i,l.length-1),kg(d,R),d[i.index]=R}(ui,K,yt,jt,Be,R,F);Ce=Du(Re,Ot),K&&function mC(i,s,o,l){if(l)et(i,o,["ng-version",yg.full]);else{const{attrs:d,classes:p}=function Qa(i){const s=[],o=[];let l=1,d=2;for(;l<i.length;){let p=i[l];if("string"==typeof p)2===d?""!==p&&s.push(p,i[++l]):8===d&&o.push(p);else{if(!Vr(d))break;d=p}l++}return{attrs:s,classes:o}}(s.selectors[0]);d&&et(i,o,d),p&&p.length>0&&Qp(i,o,p.join(" "))}}(F,yt,K,l),void 0!==o&&function LT(i,s,o){const l=i.projection=[];for(let d=0;d<s.length;d++){const p=o[d];l.push(null!=p?Array.from(p):null)}}(Ce,this.ngContentSelectors,o),at=function gC(i,s,o,l,d,p){const m=_n(),E=d[ze],D=Dr(m,d);XE(E,d,m,o,null,l);for(let R=0;R<o.length;R++)or(Vi(d,E,m.directiveStart+R,m),d);xg(E,d,m),D&&or(D,d);const S=Vi(d,E,m.directiveStart+m.componentOffset,m);if(i[dn]=d[dn]=S,null!==p)for(const R of p)R(S,s);return Z_(E,m,i),S}(fD,yt,jt,Vt,Be,[_C]),Vg(Re,Be,null)}finally{Nu()}return new xT(this.componentType,at,ka(Ce,Be),Be,Ce)}}class xT extends GE{constructor(s,o,l,d,p){super(),this.location=l,this._rootLView=d,this._tNode=p,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new hC(d),this.componentType=s}setInput(s,o){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),o))return;const p=this._rootLView;X_(p[ze],p,d,s,o),this.previousInputValues.set(s,o),Pf(qn(this._tNode.index,p))}}get injector(){return new js(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function _C(){const i=_n();ya(De()[ze],i)}function Gg(i){let s=function $f(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const l=[i];for(;s;){let d;if(rr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ne(903,!1);d=s.\u0275dir}if(d){if(o){l.push(d);const m=i;m.inputs=ry(i.inputs),m.declaredInputs=ry(i.declaredInputs),m.outputs=ry(i.outputs);const E=d.hostBindings;E&&yC(i,E);const D=d.viewQuery,S=d.contentQueries;if(D&&UT(i,D),S&&iy(i,S),j(i.inputs,d.inputs),j(i.declaredInputs,d.declaredInputs),j(i.outputs,d.outputs),rr(d)&&d.data.animation){const R=i.data;R.animation=(R.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let m=0;m<p.length;m++){const E=p[m];E&&E.ngInherit&&E(i),E===Gg&&(o=!1)}}s=Object.getPrototypeOf(s)}!function VT(i){let s=0,o=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=Wt(d.hostAttrs,o=Wt(o,d.hostAttrs))}}(l)}function ry(i){return i===tn?{}:i===gt?[]:i}function UT(i,s){const o=i.viewQuery;i.viewQuery=o?(l,d)=>{s(l,d),o(l,d)}:s}function iy(i,s){const o=i.contentQueries;i.contentQueries=o?(l,d,p)=>{s(l,d,p),o(l,d,p)}:s}function yC(i,s){const o=i.hostBindings;i.hostBindings=o?(l,d)=>{s(l,d),o(l,d)}:s}function Wg(i){return!!Wf(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function Wf(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ai(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function Zg(i,s,o,l){const d=De();return ai(d,ws(),s)&&(Bt(),rs(pn(),d,i,s,o,l)),Zg}function is(i,s,o,l,d,p,m,E){const D=De(),S=Bt(),R=i+Ot,F=S.firstCreatePass?function QT(i,s,o,l,d,p,m,E,D){const S=s.consts,R=Wd(s,i,4,m||null,Es(S,E));Vf(s,o,R,Es(S,D)),ya(s,R);const F=R.tView=Ff(2,R,l,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S,null);return null!==s.queries&&(s.queries.template(s,R),F.queries=s.queries.embeddedTView(R)),R}(R,S,D,s,o,l,d,p,m):S.data[R];Qi(F,!1);const W=my(S,D,F,i);_l()&&Id(S,D,W,F),or(W,D),kg(D,D[R]=iC(W,D,W,F)),Ki(F)&&q_(S,D,F),null!=m&&Qn(D,F,E)}let my=function IC(i,s,o,l){return gi(!0),s[wt].createComment("")};function _y(i,s,o){const l=De();return ai(l,ws(),s)&&Wr(Bt(),pn(),l,i,s,l[wt],o,!1),_y}function rm(i,s,o,l,d){const m=d?"class":"style";X_(i,o,s.inputs[m],m,l)}function im(i,s,o,l){const d=De(),p=Bt(),m=Ot+i,E=d[wt],D=p.firstCreatePass?function JT(i,s,o,l,d,p){const m=s.consts,D=Wd(s,i,2,l,Es(m,d));return Vf(s,o,D,Es(m,p)),null!==D.attrs&&Bg(D,D.attrs,!1),null!==D.mergedAttrs&&Bg(D,D.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,D),D}(m,p,d,s,o,l):p.data[m],S=sh(p,d,D,E,s,i);d[m]=S;const R=Ki(D);return Qi(D,!0),yE(E,S,D),32!=(32&D.flags)&&_l()&&Id(p,d,S,D),0===function Su(){return ot.lFrame.elementDepthCount}()&&or(S,d),function Lh(){ot.lFrame.elementDepthCount++}(),R&&(q_(p,d,D),Z_(p,D,d)),null!==l&&Qn(d,D),im}function sm(){let i=_n();da()?Io():(i=i.parent,Qi(i,!1));const s=i;(function ua(i){return ot.skipHydrationRootTNode===i})(s)&&function Xc(){ot.skipHydrationRootTNode=null}(),function Qc(){ot.lFrame.elementDepthCount--}();const o=Bt();return o.firstCreatePass&&(ya(o,i),_o(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Mo(i){return 0!=(8&i.flags)}(s)&&rm(o,s,De(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function ku(i){return 0!=(16&i.flags)}(s)&&rm(o,s,De(),s.stylesWithoutHost,!1),sm}function om(i,s,o,l){return im(i,s,o,l),sm(),om}let sh=(i,s,o,l,d,p)=>(gi(!0),Ti(l,d,function Hh(){return ot.lFrame.currentNamespace}()));function oh(i,s,o){const l=De(),d=Bt(),p=i+Ot,m=d.firstCreatePass?function XT(i,s,o,l,d){const p=s.consts,m=Es(p,l),E=Wd(s,i,8,"ng-container",m);return null!==m&&Bg(E,m,!0),Vf(s,o,E,Es(p,d)),null!==s.queries&&s.queries.elementStart(s,E),E}(p,d,l,s,o):d.data[p];Qi(m,!0);const E=am(d,l,m,i);return l[p]=E,_l()&&Id(d,l,E,m),or(E,l),Ki(m)&&(q_(d,l,m),Z_(d,m,l)),null!=o&&Qn(l,m),oh}function mc(){let i=_n();const s=Bt();return da()?Io():(i=i.parent,Qi(i,!1)),s.firstCreatePass&&(ya(s,i),_o(i)&&s.queries.elementEnd(i)),mc}let am=(i,s,o,l)=>(gi(!0),Dd(s[wt],""));function PC(){return De()}function lm(i){return!!i&&"function"==typeof i.then}function OC(i){return!!i&&"function"==typeof i.subscribe}function yy(i,s,o,l){const d=De(),p=Bt(),m=_n();return function Ey(i,s,o,l,d,p,m){const E=Ki(l),S=i.firstCreatePass&&aC(i),R=s[dn],F=oC(s);let W=!0;if(3&l.type||m){const Re=Dr(l,s),Be=m?m(Re):Re,at=F.length,Ce=m?jt=>m(hn(jt[l.index])):l.index;let yt=null;if(!m&&E&&(yt=function vy(i,s,o,l){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const m=d[p];if(m===o&&d[p+1]===l){const E=s[xs],D=d[p+2];return E.length>D?E[D]:null}"string"==typeof m&&(p+=2)}return null}(i,s,d,l.index)),null!==yt)(yt.__ngLastListenerFn__||yt).__ngNextListenerFn__=p,yt.__ngLastListenerFn__=p,W=!1;else{p=_c(l,s,R,p,!1);const jt=o.listen(Be,d,p);F.push(p,jt),S&&S.push(d,Ce,at,at+1)}}else p=_c(l,s,R,p,!1);const K=l.outputs;let _e;if(W&&null!==K&&(_e=K[d])){const Re=_e.length;if(Re)for(let Be=0;Be<Re;Be+=2){const Vt=s[_e[Be]][_e[Be+1]].subscribe(p),ui=F.length;F.push(p,Vt),S&&S.push(d,l.index,ui,-(ui+1))}}}(p,d,d[wt],m,i,s,l),yy}function kC(i,s,o,l){try{return fi(6,s,o),!1!==o(l)}catch(d){return uC(i,d),!1}finally{fi(7,s,o)}}function _c(i,s,o,l,d){return function p(m){if(m===Function)return l;Pf(i.componentOffset>-1?qn(i.index,s):s);let D=kC(s,o,l,m),S=p.__ngNextListenerFn__;for(;S;)D=kC(s,o,S,m)&&D,S=S.__ngNextListenerFn__;return d&&!1===D&&m.preventDefault(),D}}function ja(i=1){return function ga(i){return(ot.lFrame.contextLView=function Uh(i,s){for(;i>0;)s=s[xi],i--;return s}(i,ot.lFrame.contextLView))[dn]}(i)}function hm(i,s){return i<<17|s<<2}function Wo(i){return i>>17&32767}function by(i){return 2|i}function Kl(i){return(131068&i)>>2}function fm(i,s){return-131069&i|s<<2}function pm(i){return 1|i}function as(i,s,o,l,d){const p=i[o+1],m=null===s;let E=l?Wo(p):Kl(p),D=!1;for(;0!==E&&(!1===D||m);){const R=i[E+1];yc(i[E],s)&&(D=!0,i[E+1]=l?pm(R):by(R)),E=l?Wo(R):Kl(R)}D&&(i[o+1]=l?by(p):pm(p))}function yc(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&A(i,s)>=0}const _r={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ay(i){return i.substring(_r.key,_r.keyEnd)}function BC(i,s){const o=_r.textEnd;return o===s?-1:(s=_r.keyEnd=function sb(i,s,o){for(;s<o&&i.charCodeAt(s)>32;)s++;return s}(i,_r.key=s,o),ah(i,s,o))}function ah(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function ym(i,s,o){return Ns(i,s,o,!1),ym}function vm(i,s){return Ns(i,s,null,!0),vm}function My(i){!function to(i,s,o,l){const d=Bt(),p=nn(2);d.firstUpdatePass&&WC(d,null,p,l);const m=De();if(o!==Pt&&ai(m,p,o)){const E=d.data[Mr()];if(YC(E,l)&&!GC(d,p)){let D=l?E.classesWithoutHost:E.stylesWithoutHost;null!==D&&(o=Pe(D,o||"")),rm(d,E,m,o,l)}else!function hb(i,s,o,l,d,p,m,E){d===Pt&&(d=gt);let D=0,S=0,R=0<d.length?d[0]:null,F=0<p.length?p[0]:null;for(;null!==R||null!==F;){const W=D<d.length?d[D+1]:void 0,K=S<p.length?p[S+1]:void 0;let Re,_e=null;R===F?(D+=2,S+=2,W!==K&&(_e=F,Re=K)):null===F||null!==R&&R<F?(D+=2,_e=R):(S+=2,_e=F,Re=K),null!==_e&&qC(i,s,o,l,_e,Re,m,E),R=D<d.length?d[D]:null,F=S<p.length?p[S]:null}}(d,E,m,m[wt],m[p+1],m[p+1]=function cb(i,s,o){if(null==o||""===o)return gt;const l=[],d=Bi(o);if(Array.isArray(d))for(let p=0;p<d.length;p++)i(l,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&i(l,p,d[p]);else"string"==typeof d&&s(l,d);return l}(i,s,o),l,p)}}(db,yr,i,!0)}function yr(i,s){for(let o=function uA(i){return function HC(i){_r.key=0,_r.keyEnd=0,_r.value=0,_r.valueEnd=0,_r.textEnd=i.length}(i),BC(i,ah(i,0,_r.textEnd))}(s);o>=0;o=BC(s,o))C(i,Ay(s),!0)}function Ns(i,s,o,l){const d=De(),p=Bt(),m=nn(2);p.firstUpdatePass&&WC(p,i,m,l),s!==Pt&&ai(d,m,s)&&qC(p,p.data[Mr()],d,d[wt],i,d[m+1]=function fb(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Q(Bi(i)))),i}(s,o),l,m)}function GC(i,s){return s>=i.expandoStartIndex}function WC(i,s,o,l){const d=i.data;if(null===d[o+1]){const p=d[Mr()],m=GC(i,o);YC(p,l)&&null===s&&!m&&(s=!1),s=function zC(i,s,o,l){const d=fa(i);let p=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(o=ep(o=Ry(null,i,s,o,l),s.attrs,l),p=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==d)if(o=Ry(d,i,s,o,l),null===p){let D=function ab(i,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==Kl(l))return i[Wo(l)]}(i,s,l);void 0!==D&&Array.isArray(D)&&(D=Ry(null,i,s,D[1],l),D=ep(D,s.attrs,l),function lb(i,s,o,l){i[Wo(o?s.classBindings:s.styleBindings)]=l}(i,s,l,D))}else p=function ub(i,s,o){let l;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)l=ep(l,i[p].hostAttrs,o);return ep(l,s.attrs,o)}(i,s,l)}return void 0!==p&&(l?s.residualClasses=p:s.residualStyles=p),o}(d,p,s,l),function Yl(i,s,o,l,d,p){let m=p?s.classBindings:s.styleBindings,E=Wo(m),D=Kl(m);i[l]=o;let R,S=!1;if(Array.isArray(o)?(R=o[1],(null===R||A(o,R)>0)&&(S=!0)):R=o,d)if(0!==D){const W=Wo(i[E+1]);i[l+1]=hm(W,E),0!==W&&(i[W+1]=fm(i[W+1],l)),i[E+1]=function UC(i,s){return 131071&i|s<<17}(i[E+1],l)}else i[l+1]=hm(E,0),0!==E&&(i[E+1]=fm(i[E+1],l)),E=l;else i[l+1]=hm(D,0),0===E?E=l:i[D+1]=fm(i[D+1],l),D=l;S&&(i[l+1]=by(i[l+1])),as(i,R,l,!0),as(i,R,l,!1),function gm(i,s,o,l,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&A(p,s)>=0&&(o[l+1]=pm(o[l+1]))}(s,R,i,l,p),m=hm(E,D),p?s.classBindings=m:s.styleBindings=m}(d,p,s,o,m,l)}}function Ry(i,s,o,l,d){let p=null;const m=o.directiveEnd;let E=o.directiveStylingLast;for(-1===E?E=o.directiveStart:E++;E<m&&(p=s[E],l=ep(l,p.hostAttrs,d),p!==i);)E++;return null!==i&&(o.directiveStylingLast=E),l}function ep(i,s,o){const l=o?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const m=s[p];"number"==typeof m?d=m:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),C(i,m,!!o||s[++p]))}return void 0===i?null:i}function db(i,s,o){const l=String(s);""!==l&&!l.includes(" ")&&C(i,l,o)}function qC(i,s,o,l,d,p,m,E){if(!(3&s.type))return;const D=i.data,S=D[E+1],R=function Iy(i){return 1==(1&i)}(S)?KC(D,s,o,d,Kl(S),m):void 0;Em(R)||(Em(p)||function rb(i){return 2==(2&i)}(S)&&(p=KC(D,null,o,d,E,m)),function ns(i,s,o,l,d){if(s)d?i.addClass(o,l):i.removeClass(o,l);else{let p=-1===l.indexOf("-")?void 0:Zs.DashCase;null==d?i.removeStyle(o,l,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=Zs.Important),i.setStyle(o,l,d,p))}}(l,m,al(Mr(),o),d,p))}function KC(i,s,o,l,d,p){const m=null===s;let E;for(;d>0;){const D=i[d],S=Array.isArray(D),R=S?D[1]:D,F=null===R;let W=o[d+1];W===Pt&&(W=F?gt:void 0);let K=F?T(W,l):R===l?W:void 0;if(S&&!Em(K)&&(K=T(D,l)),Em(K)&&(E=K,m))return E;const _e=i[d+1];d=m?Wo(_e):Kl(_e)}if(null!==s){let D=p?s.residualClasses:s.residualStyles;null!=D&&(E=T(D,l))}return E}function Em(i){return void 0!==i}function YC(i,s){return 0!=(i.flags&(s?8:16))}function QC(i,s=""){const o=De(),l=Bt(),d=i+Ot,p=l.firstCreatePass?Wd(l,d,1,s,null):l.data[d],m=JC(l,o,p,s,i);o[d]=m,_l()&&Id(l,o,m,p),Qi(p,!1)}let JC=(i,s,o,l,d)=>(gi(!0),function Vo(i,s){return i.createText(s)}(s[wt],l));function Ny(i){return ch("",i,""),Ny}function ch(i,s,o){const l=De(),d=function zl(i,s,o,l){return ai(i,ws(),o)?s+Y(o)+l:Pt}(l,i,s,o);return d!==Pt&&function Va(i,s,o){const l=al(s,i);!function kl(i,s,o){i.setValue(s,o)}(i[wt],l,o)}(l,Mr(),d),ch}function Fy(i,s,o){const l=De();if(ai(l,ws(),s)){const p=Bt(),m=pn();Wr(p,m,l,i,s,function lC(i,s,o){return(null===i||rr(i))&&(o=function Us(i){for(;Array.isArray(i);){if("object"==typeof i[Xa])return i;i=i[In]}return null}(o[s.index])),o[wt]}(fa(p.data),m,l),o,!0)}return Fy}const Ec=void 0;var $i=["en",[["a","p"],["AM","PM"],Ec],[["AM","PM"],Ec,Ec],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ec,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ec,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ec,"{1} 'at' {0}",Ec],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Mb(i){const o=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let Ga={};function Ly(i){const s=function hh(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=tp(s);if(o)return o;const l=s.split("-")[0];if(o=tp(l),o)return o;if("en"===l)return $i;throw new ne(701,!1)}function cw(i){return Ly(i)[ct.PluralCase]}function tp(i){return i in Ga||(Ga[i]=Yt.ng&&Yt.ng.common&&Yt.ng.common.locales&&Yt.ng.common.locales[i]),Ga[i]}var ct=(()=>((ct=ct||{})[ct.LocaleId=0]="LocaleId",ct[ct.DayPeriodsFormat=1]="DayPeriodsFormat",ct[ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",ct[ct.DaysFormat=3]="DaysFormat",ct[ct.DaysStandalone=4]="DaysStandalone",ct[ct.MonthsFormat=5]="MonthsFormat",ct[ct.MonthsStandalone=6]="MonthsStandalone",ct[ct.Eras=7]="Eras",ct[ct.FirstDayOfWeek=8]="FirstDayOfWeek",ct[ct.WeekendRange=9]="WeekendRange",ct[ct.DateFormat=10]="DateFormat",ct[ct.TimeFormat=11]="TimeFormat",ct[ct.DateTimeFormat=12]="DateTimeFormat",ct[ct.NumberSymbols=13]="NumberSymbols",ct[ct.NumberFormats=14]="NumberFormats",ct[ct.CurrencyCode=15]="CurrencyCode",ct[ct.CurrencySymbol=16]="CurrencySymbol",ct[ct.CurrencyName=17]="CurrencyName",ct[ct.Currencies=18]="Currencies",ct[ct.Directionality=19]="Directionality",ct[ct.PluralCase=20]="PluralCase",ct[ct.ExtraData=21]="ExtraData",ct))();const fh="en-US";let rp=fh;function iv(i,s,o,l,d){if(i=be(i),Array.isArray(i))for(let p=0;p<i.length;p++)iv(i[p],s,o,l,d);else{const p=Bt(),m=De();let E=nc(i)?i:be(i.provide),D=LE(i);const S=_n(),R=1048575&S.providerIndexes,F=S.directiveStart,W=S.providerIndexes>>20;if(nc(i)||!i.multi){const K=new Kn(D,d,Fa),_e=ov(E,s,d?R:R+W,F);-1===_e?(ni(Ro(S,m),p,E),sv(p,i,s.length),s.push(E),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),o.push(K),m.push(K)):(o[_e]=K,m[_e]=K)}else{const K=ov(E,s,R+W,F),_e=ov(E,s,R,R+W),Be=_e>=0&&o[_e];if(d&&!Be||!d&&!(K>=0&&o[K])){ni(Ro(S,m),p,E);const at=function Nw(i,s,o,l,d){const p=new Kn(i,o,Fa);return p.multi=[],p.index=s,p.componentProviders=0,Rw(p,d,l&&!o),p}(d?Nm:Jb,o.length,d,l,D);!d&&Be&&(o[_e].providerFactory=at),sv(p,i,s.length,0),s.push(E),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),o.push(at),m.push(at)}else sv(p,i,K>-1?K:_e,Rw(o[d?_e:K],D,!d&&l));!d&&l&&Be&&o[_e].componentProviders++}}}function sv(i,s,o,l){const d=nc(s),p=function JD(i){return!!i.useClass}(s);if(d||p){const D=(p?be(s.useClass):s).prototype.ngOnDestroy;if(D){const S=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const R=S.indexOf(o);-1===R?S.push(o,[l,D]):S[R+1].push(l,D)}else S.push(o,D)}}}function Rw(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function ov(i,s,o,l){for(let d=o;d<l;d++)if(s[d]===i)return d;return-1}function Jb(i,s,o,l){return Pm(this.multi,[])}function Nm(i,s,o,l){const d=this.multi;let p;if(this.providerFactory){const m=this.providerFactory.componentProviders,E=Vi(o,o[ze],this.providerFactory.index,l);p=E.slice(0,m),Pm(d,p);for(let D=m;D<E.length;D++)p.push(E[D])}else p=[],Pm(d,p);return p}function Pm(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function Om(i,s=[]){return o=>{o.providersResolver=(l,d)=>function Qb(i,s,o){const l=Bt();if(l.firstCreatePass){const d=rr(i);iv(o,l.data,l.blueprint,d,!0),iv(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class gh{}class Pw{}function Xb(i,s){return new xm(i,s??null,[])}class xm extends gh{constructor(s,o,l){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $g(this);const d=cr(s);this._bootstrapComponents=Gr(d.bootstrap),this._r3Injector=kf(s,o,[{provide:gh,useValue:this},{provide:kt,useValue:this.componentFactoryResolver},...l],Q(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class km extends Pw{constructor(s){super(),this.moduleType=s}create(s){return new xm(this.moduleType,s,[])}}class av extends gh{constructor(s){super(),this.componentFactoryResolver=new $g(this),this.instance=null;const o=new k_([...s.providers,{provide:gh,useValue:this},{provide:kt,useValue:this.componentFactoryResolver}],s.parent||lg(),s.debugName,new Set(["environment"]));this.injector=o,s.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function tI(i,s,o=null){return new av({providers:i,parent:s,debugName:o,runEnvironmentInitializers:!0}).injector}let nI=(()=>{class i{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const l=OE(0,o.type),d=l.length>0?tI([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,d)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Gt({token:i,providedIn:"environment",factory:()=>new i(qt(rc))}),i})();function rI(i){i.getStandaloneInjector=s=>s.get(nI).getOrCreateStandaloneInjector(i)}function pv(i){return s=>{setTimeout(i,void 0,s)}}const ro=class cp extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){let d=s,p=o||(()=>null),m=l;if(s&&"object"==typeof s){const D=s;d=D.next?.bind(D),p=D.error?.bind(D),m=D.complete?.bind(D)}this.__isAsync&&(p=pv(p),d&&(d=pv(d)),m&&(m=pv(m)));const E=super.subscribe({next:d,error:p,complete:m});return s instanceof Z.w0&&s.add(E),E}};function gI(){return this._results[Symbol.iterator]()}class gv{get changes(){return this._changes||(this._changes=new ro)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=gv.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=gI)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const d=function Ln(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Al(i,s,o){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],p=s[l];if(o&&(d=o(d),p=o(p)),p!==d)return!1}return!0}(l._results,d,o))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yh=(()=>{class i{}return i.__NG_ELEMENT_ID__=mI,i})();const $w=yh,Gw=class extends $w{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,o){return this.createEmbeddedViewImpl(s,o,null)}createEmbeddedViewImpl(s,o,l){const d=this._declarationTContainer.tView,p=Gd(this._declarationLView,d,s,16,null,d.declTNode,null,null,null,o||null,l||null);p[po]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[Yr];return null!==E&&(p[Yr]=E.createEmbeddedView(d)),Vg(d,p,s),new Hf(p)}};function mI(){return Um(_n(),De())}function Um(i,s){return 4&i.type?new Gw(s,i,ka(i,s)):null}let Bm=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ii,i})();function Ii(){return io(_n(),De())}const vh=Bm,Eh=class extends vh{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return ka(this._hostTNode,this._hostLView)}get injector(){return new js(this._hostTNode,this._hostLView)}get parentInjector(){const s=Li(this._hostTNode,this._hostLView);if(Nn(s)){const o=Ca(s,this._hostLView),l=_t(s);return new js(o[ze].data[l+8],o)}return new js(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=dp(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-$n}createEmbeddedView(s,o,l){let d,p;"number"==typeof l?d=l:null!=l&&(d=l.index,p=l.injector);const E=s.createEmbeddedViewImpl(o||{},p,null);return this.insertImpl(E,d,false),E}createComponent(s,o,l,d,p){const m=s&&!function Is(i){return"function"==typeof i}(s);let E;if(m)E=o;else{const Re=o||{};E=Re.index,l=Re.injector,d=Re.projectableNodes,p=Re.environmentInjector||Re.ngModuleRef}const D=m?s:new jf(At(s)),S=l||this.parentInjector;if(!p&&null==D.ngModule){const Be=(m?S:this.parentInjector).get(rc,null);Be&&(p=Be)}At(D.componentType??{});const K=D.create(S,d,null,p);return this.insertImpl(K.hostView,E,false),K}insert(s,o){return this.insertImpl(s,o,!1)}insertImpl(s,o,l){const d=s._lView,p=d[ze];if(function qc(i){return Hr(i[cn])}(d)){const D=this.indexOf(s);if(-1!==D)this.detach(D);else{const S=d[cn],R=new Eh(S,S[Er],S[cn]);R.detach(R.indexOf(s))}}const m=this._adjustIndex(o),E=this._lContainer;if(function Td(i,s,o,l){const d=$n+l,p=o.length;l>0&&(o[d-1][Ur]=s),l<p-$n?(s[Ur]=o[d],Ss(o,$n+l,s)):(o.push(s),s[Ur]=null),s[cn]=o;const m=s[po];null!==m&&o!==m&&function C_(i,s){const o=i[ks];s[En]!==s[cn][cn][En]&&(i[ki]=!0),null===o?i[ks]=[s]:o.push(s)}(m,s);const E=s[Yr];null!==E&&E.insertView(i),s[Tt]|=128}(p,d,E,m),!l){const D=Sd(m,E),S=d[wt],R=qe(S,E[Ar]);null!==R&&function Kp(i,s,o,l,d,p){l[In]=d,l[Er]=s,dt(i,l,o,1,d,p)}(p,E[Er],S,d,R,D)}return s.attachToViewContainerRef(),Ss(hp(E),m,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=dp(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=Na(this._lContainer,o);l&&(Ma(hp(this._lContainer),o),Cf(l[ze],l))}detach(s){const o=this._adjustIndex(s,-1),l=Na(this._lContainer,o);return l&&null!=Ma(hp(this._lContainer),o)?new Hf(l):null}_adjustIndex(s,o=0){return s??this.length+o}};function dp(i){return i[Qr]}function hp(i){return i[Qr]||(i[Qr]=[])}function io(i,s){let o;const l=s[i.index];return Hr(l)?o=l:(o=iC(l,s,null,i),s[i.index]=o,kg(s,o)),Qw(o,s,i,l),new Eh(o,i,s)}let Qw=function Jw(i,s,o,l){if(i[Ar])return;let d;d=8&o.type?hn(l):function AA(i,s){const o=i[wt],l=o.createComment(""),d=Dr(s,i);return M(o,qe(o,d),l,function Qe(i,s){return i.nextSibling(s)}(o,d),!1),l}(s,o),i[Ar]=d};class Hm{constructor(s){this.queryList=s,this.matches=null}clone(){return new Hm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ch{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,d=[];for(let p=0;p<l;p++){const m=o.getByIndex(p);d.push(this.queries[m.indexInDeclarationView].clone())}return new Ch(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==a0(s,o).matches&&this.queries[o].setDirty()}}class za{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class Xw{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const d=null!==o?o.length:0,p=this.getByIndex(l).embeddedTView(s,d);p&&(p.indexInDeclarationView=l,null!==o?o.push(p):o=[p])}return null!==o?new Xw(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class _v{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new _v(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const p=l[d];this.matchTNodeWithReadOption(s,o,wI(o,p)),this.matchTNodeWithReadOption(s,o,Cl(o,s,p,!1,!1))}else l===yh?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Cl(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Ud||d===Bm||d===yh&&4&o.type)this.addMatch(o.index,-2);else{const p=Cl(o,s,d,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function wI(i,s){const o=i.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function t0(i,s,o,l){return-1===o?function e0(i,s){return 11&i.type?ka(i,s):4&i.type?Um(i,s):null}(s,i):-2===o?function n0(i,s,o){return o===Ud?ka(s,i):o===yh?Um(s,i):o===Bm?io(s,i):void 0}(i,s,l):Vi(i,i[ze],o,s)}function r0(i,s,o,l){const d=s[Yr].queries[l];if(null===d.matches){const p=i.data,m=o.matches,E=[];for(let D=0;D<m.length;D+=2){const S=m[D];E.push(S<0?null:t0(s,p[S],m[D+1],o.metadata.read))}d.matches=E}return d.matches}function wc(i,s,o,l){const d=i.queries.getByIndex(o),p=d.matches;if(null!==p){const m=r0(i,s,d,o);for(let E=0;E<p.length;E+=2){const D=p[E];if(D>0)l.push(m[E/2]);else{const S=p[E+1],R=s[-D];for(let F=$n;F<R.length;F++){const W=R[F];W[po]===W[cn]&&wc(W[ze],W,S,l)}if(null!==R[ks]){const F=R[ks];for(let W=0;W<F.length;W++){const K=F[W];wc(K[ze],K,S,l)}}}}}return l}function ar(i){const s=De(),o=Bt(),l=td();pl(l+1);const d=a0(o,l);if(i.dirty&&function Vp(i){return 4==(4&i[Tt])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?wc(o,s,l,[]):r0(o,s,d,l);i.reset(p,$o),i.notifyOnChanges()}return!0}return!1}function jm(i,s,o,l){const d=Bt();if(d.firstCreatePass){const p=_n();(function vv(i,s,o){null===i.queries&&(i.queries=new Xw),i.queries.track(new _v(s,o))})(d,new za(s,o,l),p.index),function o0(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(d,i),2==(2&o)&&(d.staticContentQueries=!0)}!function $m(i,s,o){const l=new gv(4==(4&o));(function CT(i,s,o,l){const d=oC(s);d.push(o),i.firstCreatePass&&aC(i).push(l,d.length-1)})(i,s,l,l.destroy),null===s[Yr]&&(s[Yr]=new Ch),s[Yr].queries.push(new Hm(l))}(d,De(),o)}function Dc(){return function s0(i,s){return i[Yr].queries[s].queryList}(De(),td())}function a0(i,s){return i.queries.getByIndex(s)}function u0(i){return!!cr(i)}const $I=new rn("Application Initializer");let I0=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,l)=>{this.resolve=o,this.reject=l}),this.appInits=Ut($I,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const d of this.appInits){const p=d();if(lm(p))o.push(p);else if(OC(p)){const m=new Promise((E,D)=>{p.subscribe({complete:E,error:D})});o.push(m)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{l()}).catch(d=>{this.reject(d)}),0===o.length&&l(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Gt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),GI=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Gt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const eu=new rn("LocaleId",{providedIn:"root",factory:()=>Ut(eu,Ge.Optional|Ge.SkipSelf)||function S0(){return typeof $localize<"u"&&$localize.locale||fh}()}),A0=new rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let R0=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new x.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Gt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class zI{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let ZI=(()=>{class i{compileModuleSync(o){return new km(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),p=Gr(cr(o).declarations).reduce((m,E)=>{const D=At(E);return D&&m.push(new jf(D)),m},[]);return new zI(l,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Gt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const FA=(()=>Promise.resolve(0))();function Dv(i){typeof Zone>"u"?FA.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}function O0(...i){}class Ai{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ro(!1),this.onMicrotaskEmpty=new ro(!1),this.onStable=new ro(!1),this.onError=new ro(!1),typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&o,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function YI(){let i=Yt.requestAnimationFrame,s=Yt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function XI(i){const s=()=>{!function JI(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Yt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,bv(i),i.isCheckStableRunning=!0,Tv(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),bv(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,d,p,m,E)=>{try{return x0(i),o.invokeTask(d,p,m,E)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),k0(i)}},onInvoke:(o,l,d,p,m,E,D)=>{try{return x0(i),o.invoke(d,p,m,E,D)}finally{i.shouldCoalesceRunChangeDetection&&s(),k0(i)}},onHasTask:(o,l,d,p)=>{o.hasTask(d,p),l===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,bv(i),Tv(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,l,d,p)=>(o.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ai.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(Ai.isInAngularZone())throw new ne(909,!1)}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,d){const p=this._inner,m=p.scheduleEventTask("NgZoneEvent: "+d,s,QI,O0,O0);try{return p.runTask(m,o,l)}finally{p.cancelTask(m)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const QI={};function Tv(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function bv(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function x0(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function k0(i){i._nesting--,Tv(i)}class eS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ro,this.onMicrotaskEmpty=new ro,this.onStable=new ro,this.onError=new ro}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,d){return s.apply(o,l)}}const F0=new rn("",{providedIn:"root",factory:L0});function L0(){const i=Ut(Ai);let s=!0;const o=new X.y(d=>{s=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{d.next(s),d.complete()})}),l=new X.y(d=>{let p;i.runOutsideAngular(()=>{p=i.onStable.subscribe(()=>{Ai.assertNotInAngularZone(),Dv(()=>{!s&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(s=!0,d.next(!0))})})});const m=i.onUnstable.subscribe(()=>{Ai.assertInAngularZone(),s&&(s=!1,i.runOutsideAngular(()=>{d.next(!1)}))});return()=>{p.unsubscribe(),m.unsubscribe()}});return(0,ee.T)(o,l.pipe((0,he.B)()))}const V0=new rn(""),U0=new rn("");let Iv,tS=(()=>{class i{constructor(o,l,d){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Iv||(function nS(i){Iv=i}(d),d.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ai.assertNotInAngularZone(),Dv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Dv(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,d){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==p),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:d})}whenStable(o,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,d){return[]}}return i.\u0275fac=function(o){return new(o||i)(qt(Ai),qt(B0),qt(U0))},i.\u0275prov=Gt({token:i,factory:i.\u0275fac}),i})(),B0=(()=>{class i{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return Iv?.findTestabilityInTree(this,o,l)??null}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Gt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),tu=null;const rS=new rn("AllowMultipleToken"),Sv=new rn("PlatformDestroyListeners"),Av=new rn("appBootstrapListener");class Rv{constructor(s,o){this.name=s,this.token=o}}function G0(i,s,o=[]){const l=`Platform: ${s}`,d=new rn(l);return(p=[])=>{let m=W0();if(!m||m.injector.get(rS,!1)){const E=[...o,...p,{provide:d,useValue:!0}];i?i(E):function ls(i){if(tu&&!tu.get(rS,!1))throw new ne(400,!1);(function Zm(){!function rl(i){oa=i}(()=>{throw new ne(600,!1)})})(),tu=i;const s=i.get(z0);(function j0(i){i.get(ug,null)?.forEach(o=>o())})(i)}(function Nv(i=[],s){return Bl.create({name:s,providers:[{provide:x_,useValue:"platform"},{provide:Sv,useValue:new Set([()=>tu=null])},...i]})}(E,l))}return function Tc(i){const s=W0();if(!s)throw new ne(401,!1);return s}()}}function W0(){return tu?.get(z0)??null}let z0=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const d=function Z0(i="zone.js",s){return"noop"===i?new eS:"zone.js"===i?new Ai(s):i}(l?.ngZone,function Pv(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return d.run(()=>{const p=function Ow(i,s,o){return new xm(i,s,o)}(o.moduleType,this.injector,function pp(i){return[{provide:Ai,useFactory:i},{provide:xd,multi:!0,useFactory:()=>{const s=Ut(Km,{optional:!0});return()=>s.initialize()}},{provide:q0,useFactory:kv},{provide:F0,useFactory:L0}]}(()=>d)),m=p.injector.get(Ys,null);return d.runOutsideAngular(()=>{const E=d.onError.subscribe({next:D=>{m.handleError(D)}});p.onDestroy(()=>{qm(this._modules,p),E.unsubscribe()})}),function sS(i,s,o){try{const l=o();return lm(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(m,d,()=>{const E=p.injector.get(I0);return E.runInitializers(),E.donePromise.then(()=>(function hw(i){Ke(i,"Expected localeId to be defined"),"string"==typeof i&&(rp=i.toLowerCase().replace(/_/g,"-"))}(p.injector.get(eu,fh)||fh),this._moduleDoBootstrap(p),p))})})}bootstrapModule(o,l=[]){const d=Ov({},l);return function nu(i,s,o){const l=new km(o);return Promise.resolve(l)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(o){const l=o.injector.get(ru);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new ne(-403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ne(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(Sv,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(qt(Bl))},i.\u0275prov=Gt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Ov(i,s){return Array.isArray(s)?s.reduce(Ov,i):{...i,...s}}let ru=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ut(q0),this.zoneIsStable=Ut(F0),this.componentTypes=[],this.components=[],this.isStable=Ut(R0).hasPendingTasks.pipe((0,Se.w)(o=>o?(0,ae.of)(!1):this.zoneIsStable),(0,ue.x)(),(0,he.B)()),this._injector=Ut(rc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,l){const d=o instanceof WE;if(!this._injector.get(I0).done)throw!d&&ms(o),new ne(405,!1);let m;m=d?o:this._injector.get(kt).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const E=function Mv(i){return i.isBoundToModule}(m)?void 0:this._injector.get(gh),S=m.create(Bl.NULL,[],l||m.selector,E),R=S.location.nativeElement,F=S.injector.get(V0,null);return F?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),qm(this.components,S),F?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new ne(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;qm(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const l=this._injector.get(Av,[]);l.push(...this._bootstrapListeners),l.forEach(d=>d(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>qm(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ne(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Gt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function qm(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}const q0=new rn("",{providedIn:"root",factory:()=>Ut(Ys).handleError.bind(void 0)});function kv(){const i=Ut(Ai),s=Ut(Ys);return o=>i.runOutsideAngular(()=>s.handleError(o))}let Km=(()=>{class i{constructor(){this.zone=Ut(Ai),this.applicationRef=Ut(ru)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Gt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Lv(){return!1}let gp=(()=>{class i{}return i.__NG_ELEMENT_ID__=J0,i})();function J0(i){return function oS(i,s,o){if(qi(i)&&!o){const l=qn(i.index,s);return new Hf(l,l)}return 47&i.type?new Hf(s[En],s):null}(_n(),De(),16==(16&i))}class cS{constructor(){}supports(s){return Wg(s)}create(s){return new Xm(s)}}const UA=(i,s)=>s;class Xm{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||UA}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,d=0,p=null;for(;o||l;){const m=!l||o&&o.currentIndex<yp(l,d,p)?o:l,E=yp(m,d,p),D=m.currentIndex;if(m===l)d--,l=l._nextRemoved;else if(o=o._next,null==m.previousIndex)d++;else{p||(p=[]);const S=E-d,R=D-d;if(S!=R){for(let W=0;W<S;W++){const K=W<p.length?p[W]:p[W]=0,_e=K+W;R<=_e&&_e<S&&(p[W]=K+1)}p[m.previousIndex]=R-S}}E!==D&&s(m,E,D)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Wg(s))throw new ne(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,m,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)p=s[E],m=this._trackByFn(E,p),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,p,m,E)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,m,E),l=!0),o=o._next}else d=0,function EC(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Symbol.iterator]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,E=>{m=this._trackByFn(d,E),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,E,m,d)),Object.is(o.item,E)||this._addIdentityChange(o,E)):(o=this._mismatch(o,E,m,d),l=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,p,d)):s=this._addAfter(new dS(o,l),p,d),s}_verifyReinsertion(s,o,l,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const d=null===o?this._itHead:o._next;return s._next=d,s._prev=o,null===d?this._itTail=s:d._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new tD),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tD),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class dS{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hS{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class tD{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new hS,this.map.set(o,l)),l.add(s)}get(s,o){const d=this.map.get(s);return d?d.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yp(i,s,o){const l=i.previousIndex;if(null===l)return l;let d=0;return o&&l<o.length&&(d=o[l]),l+s+d}class vp{constructor(){}supports(s){return s instanceof Map||Wf(s)}create(){return new nD}}class nD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Wf(s)))throw new ne(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(d,l);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,o);const p=d._prev,m=d._next;return p&&(p._next=m),m&&(m._prev=p),d._next=null,d._prev=null,d}const l=new rD(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class rD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function iD(){return new Ep([new cS])}let Ep=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(null!=l){const d=l.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||iD()),deps:[[i,new jr,new Ei]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(null!=l)return l;throw new ne(901,!1)}}return i.\u0275prov=Gt({token:i,providedIn:"root",factory:iD}),i})();function sD(){return new Hv([new vp])}let Hv=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(l){const d=l.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||sD()),deps:[[i,new jr,new Ei]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(l)return l;throw new ne(901,!1)}}return i.\u0275prov=Gt({token:i,providedIn:"root",factory:sD}),i})();const Sc=G0(null,"core",[]);let jv=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(qt(ru))},i.\u0275mod=zi({type:i}),i.\u0275inj=bn({}),i})();function dD(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function hD(i){const s=At(i);if(!s)return null;const o=new jf(s);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return s.standalone}}}},3942:(Xe,ve,O)=>{O.d(ve,{Z:()=>$e});var u=O(2090),Z=O(4859),x=O(6881),X=O(1877);class ee{constructor(je,Ne){this._delegate=je,this.firebase=Ne,(0,x._addComponent)(je,new Z.wA("app-compat",()=>this,"PUBLIC")),this.container=je.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(je){this._delegate.automaticDataCollectionEnabled=je}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(je=>{this._delegate.checkDestroyed(),je()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(je,Ne=x._DEFAULT_ENTRY_NAME){var ut;this._delegate.checkDestroyed();const tt=this._delegate.container.getProvider(je);return!tt.isInitialized()&&"EXPLICIT"===(null===(ut=tt.getComponent())||void 0===ut?void 0:ut.instantiationMode)&&tt.initialize(),tt.getImmediate({identifier:Ne})}_removeServiceInstance(je,Ne=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(je).clearInstance(Ne)}_addComponent(je){(0,x._addComponent)(this._delegate,je)}_addOrOverwriteComponent(je){(0,x._addOrOverwriteComponent)(this._delegate,je)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function ue(){const be=function Se(be){const je={},Ne={__esModule:!0,initializeApp:function ne(Te,Oe={}){const re=x.initializeApp(Te,Oe);if((0,u.r3)(je,re.name))return je[re.name];const Le=new be(re,Ne);return je[re.name]=Le,Le},app:tt,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function Y(Te){const Oe=Te.name,re=Oe.replace("-compat","");if(x._registerComponent(Te)&&"PUBLIC"===Te.type){const Le=(xt=tt())=>{if("function"!=typeof xt[re])throw he.create("invalid-app-argument",{appName:Oe});return xt[re]()};void 0!==Te.serviceProps&&(0,u.ZB)(Le,Te.serviceProps),Ne[re]=Le,be.prototype[re]=function(...xt){return this._getService.bind(this,Oe).apply(this,Te.multipleInstances?xt:[])}}return"PUBLIC"===Te.type?Ne[re]:null},removeApp:function ut(Te){delete je[Te]},useAsService:function fe(Te,Oe){return"serverAuth"===Oe?null:Oe},modularAPIs:x}};function tt(Te){if(!(0,u.r3)(je,Te=Te||x._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:Te});return je[Te]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function pe(){return Object.keys(je).map(Te=>je[Te])}}),tt.App=be,Ne}(ee);return be.INTERNAL=Object.assign(Object.assign({},be.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function je(Ne){(0,u.ZB)(be,Ne)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),be}(),j=new X.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const be=self.firebase.SDK_VERSION;be&&be.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const $e=U;!function we(be){(0,x.registerVersion)("@firebase/app-compat","0.2.12",be)}()},6881:(Xe,ve,O)=>{O.r(ve),O.d(ve,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>ps,_DEFAULT_ENTRY_NAME:()=>Ge,_addComponent:()=>mn,_addOrOverwriteComponent:()=>Ir,_apps:()=>it,_clearComponents:()=>Qt,_components:()=>en,_getProvider:()=>Xn,_registerComponent:()=>Yt,_removeServiceInstance:()=>co,deleteApp:()=>er,getApp:()=>Fr,getApps:()=>Ri,initializeApp:()=>ho,onLog:()=>Ni,registerVersion:()=>an,setLogLevel:()=>qt});var u=O(5861),Z=O(4859),x=O(1877),X=O(2090);const ee=(ce,te)=>te.some(Me=>ce instanceof Me);let ae,he;const U=new WeakMap,j=new WeakMap,Q=new WeakMap,Pe=new WeakMap,we=new WeakMap;let je={get(ce,te,Me){if(ce instanceof IDBTransaction){if("done"===te)return j.get(ce);if("objectStoreNames"===te)return ce.objectStoreNames||Q.get(ce);if("store"===te)return Me.objectStoreNames[1]?void 0:Me.objectStore(Me.objectStoreNames[0])}return ne(ce[te])},set:(ce,te,Me)=>(ce[te]=Me,!0),has:(ce,te)=>ce instanceof IDBTransaction&&("done"===te||"store"===te)||te in ce};function tt(ce){return"function"==typeof ce?function ut(ce){return ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ue(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ce)?function(...te){return ce.apply(pe(this),te),ne(U.get(this))}:function(...te){return ne(ce.apply(pe(this),te))}:function(te,...Me){const et=ce.call(pe(this),te,...Me);return Q.set(et,te.sort?te.sort():[te]),ne(et)}}(ce):(ce instanceof IDBTransaction&&function be(ce){if(j.has(ce))return;const te=new Promise((Me,et)=>{const mt=()=>{ce.removeEventListener("complete",St),ce.removeEventListener("error",Wt),ce.removeEventListener("abort",Wt)},St=()=>{Me(),mt()},Wt=()=>{et(ce.error||new DOMException("AbortError","AbortError")),mt()};ce.addEventListener("complete",St),ce.addEventListener("error",Wt),ce.addEventListener("abort",Wt)});j.set(ce,te)}(ce),ee(ce,function Se(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ce,je):ce)}function ne(ce){if(ce instanceof IDBRequest)return function $e(ce){const te=new Promise((Me,et)=>{const mt=()=>{ce.removeEventListener("success",St),ce.removeEventListener("error",Wt)},St=()=>{Me(ne(ce.result)),mt()},Wt=()=>{et(ce.error),mt()};ce.addEventListener("success",St),ce.addEventListener("error",Wt)});return te.then(Me=>{Me instanceof IDBCursor&&U.set(Me,ce)}).catch(()=>{}),we.set(te,ce),te}(ce);if(Pe.has(ce))return Pe.get(ce);const te=tt(ce);return te!==ce&&(Pe.set(ce,te),we.set(te,ce)),te}const pe=ce=>we.get(ce),Te=["get","getKey","getAll","getAllKeys","count"],Oe=["put","add","delete","clear"],re=new Map;function Le(ce,te){if(!(ce instanceof IDBDatabase)||te in ce||"string"!=typeof te)return;if(re.get(te))return re.get(te);const Me=te.replace(/FromIndex$/,""),et=te!==Me,mt=Oe.includes(Me);if(!(Me in(et?IDBIndex:IDBObjectStore).prototype)||!mt&&!Te.includes(Me))return;const St=function(){var Wt=(0,u.Z)(function*(jn,...xn){const Wi=this.transaction(jn,mt?"readwrite":"readonly");let gs=Wi.store;return et&&(gs=gs.index(xn.shift())),(yield Promise.all([gs[Me](...xn),mt&&Wi.done]))[0]});return function(xn){return Wt.apply(this,arguments)}}();return re.set(te,St),St}!function Ne(ce){je=ce(je)}(ce=>({...ce,get:(te,Me,et)=>Le(te,Me)||ce.get(te,Me,et),has:(te,Me)=>!!Le(te,Me)||ce.has(te,Me)}));class xt{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(Me=>{if(function Jn(ce){const te=ce.getComponent();return"VERSION"===te?.type}(Me)){const et=Me.getImmediate();return`${et.library}/${et.version}`}return null}).filter(Me=>Me).join(" ")}}const br="@firebase/app",oe=new x.Yd("@firebase/app"),Ge="[DEFAULT]",rt={[br]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},it=new Map,en=new Map;function mn(ce,te){try{ce.container.addComponent(te)}catch(Me){oe.debug(`Component ${te.name} failed to register with FirebaseApp ${ce.name}`,Me)}}function Ir(ce,te){ce.container.addOrOverwriteComponent(te)}function Yt(ce){const te=ce.name;if(en.has(te))return oe.debug(`There were multiple attempts to register component ${te}.`),!1;en.set(te,ce);for(const Me of it.values())mn(Me,ce);return!0}function Xn(ce,te){const Me=ce.container.getProvider("heartbeat").getImmediate({optional:!0});return Me&&Me.triggerHeartbeat(),ce.container.getProvider(te)}function co(ce,te,Me=Ge){Xn(ce,te).clearInstance(Me)}function Qt(){en.clear()}const Rt=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class di{constructor(te,Me,et){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},Me),this._name=Me.name,this._automaticDataCollectionEnabled=Me.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new Z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw Rt.create("app-deleted",{appName:this._name})}}const ps="9.22.2";function ho(ce,te={}){let Me=ce;"object"!=typeof te&&(te={name:te});const et=Object.assign({name:Ge,automaticDataCollectionEnabled:!1},te),mt=et.name;if("string"!=typeof mt||!mt)throw Rt.create("bad-app-name",{appName:String(mt)});if(Me||(Me=(0,X.aH)()),!Me)throw Rt.create("no-options");const St=it.get(mt);if(St){if((0,X.vZ)(Me,St.options)&&(0,X.vZ)(et,St.config))return St;throw Rt.create("duplicate-app",{appName:mt})}const Wt=new Z.H0(mt);for(const xn of en.values())Wt.addComponent(xn);const jn=new di(Me,et,Wt);return it.set(mt,jn),jn}function Fr(ce=Ge){const te=it.get(ce);if(!te&&ce===Ge&&(0,X.aH)())return ho();if(!te)throw Rt.create("no-app",{appName:ce});return te}function Ri(){return Array.from(it.values())}function er(ce){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(ce){const te=ce.name;it.has(te)&&(it.delete(te),yield Promise.all(ce.container.getProviders().map(Me=>Me.delete())),ce.isDeleted=!0)})).apply(this,arguments)}function an(ce,te,Me){var et;let mt=null!==(et=rt[ce])&&void 0!==et?et:ce;Me&&(mt+=`-${Me}`);const St=mt.match(/\s|\//),Wt=te.match(/\s|\//);if(St||Wt){const jn=[`Unable to register library "${mt}" with version "${te}":`];return St&&jn.push(`library name "${mt}" contains illegal characters (whitespace or "/")`),St&&Wt&&jn.push("and"),Wt&&jn.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void oe.warn(jn.join(" "))}Yt(new Z.wA(`${mt}-version`,()=>({library:mt,version:te}),"VERSION"))}function Ni(ce,te){if(null!==ce&&"function"!=typeof ce)throw Rt.create("invalid-log-argument");(0,x.Am)(ce,te)}function qt(ce){(0,x.Ub)(ce)}const Pi="firebase-heartbeat-database",Ut=1,B="firebase-heartbeat-store";let V=null;function z(){return V||(V=function Y(ce,te,{blocked:Me,upgrade:et,blocking:mt,terminated:St}={}){const Wt=indexedDB.open(ce,te),jn=ne(Wt);return et&&Wt.addEventListener("upgradeneeded",xn=>{et(ne(Wt.result),xn.oldVersion,xn.newVersion,ne(Wt.transaction),xn)}),Me&&Wt.addEventListener("blocked",xn=>Me(xn.oldVersion,xn.newVersion,xn)),jn.then(xn=>{St&&xn.addEventListener("close",()=>St()),mt&&xn.addEventListener("versionchange",Wi=>mt(Wi.oldVersion,Wi.newVersion,Wi))}).catch(()=>{}),jn}(Pi,Ut,{upgrade:(ce,te)=>{0===te&&ce.createObjectStore(B)}}).catch(ce=>{throw Rt.create("idb-open",{originalErrorMessage:ce.message})})),V}function ie(){return(ie=(0,u.Z)(function*(ce){try{return yield(yield z()).transaction(B).objectStore(B).get(Ct(ce))}catch(te){if(te instanceof X.ZR)oe.warn(te.message);else{const Me=Rt.create("idb-get",{originalErrorMessage:te?.message});oe.warn(Me.message)}}})).apply(this,arguments)}function Ye(ce,te){return st.apply(this,arguments)}function st(){return(st=(0,u.Z)(function*(ce,te){try{const et=(yield z()).transaction(B,"readwrite");yield et.objectStore(B).put(te,Ct(ce)),yield et.done}catch(Me){if(Me instanceof X.ZR)oe.warn(Me.message);else{const et=Rt.create("idb-set",{originalErrorMessage:Me?.message});oe.warn(et.message)}}})).apply(this,arguments)}function Ct(ce){return`${ce.name}!${ce.options.appId}`}class gt{constructor(te){this.container=te,this._heartbeatsCache=null;const Me=this.container.getProvider("app").getImmediate();this._storage=new Zr(Me),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var te=this;return(0,u.Z)(function*(){const et=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),mt=Lt();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==mt&&!te._heartbeatsCache.heartbeats.some(St=>St.date===mt))return te._heartbeatsCache.heartbeats.push({date:mt,agent:et}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(St=>{const Wt=new Date(St.date).valueOf();return Date.now()-Wt<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,u.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const Me=Lt(),{heartbeatsToSend:et,unsentEntries:mt}=function tr(ce,te=1024){const Me=[];let et=ce.slice();for(const mt of ce){const St=Me.find(Wt=>Wt.agent===mt.agent);if(St){if(St.dates.push(mt.date),Oi(Me)>te){St.dates.pop();break}}else if(Me.push({agent:mt.agent,dates:[mt.date]}),Oi(Me)>te){Me.pop();break}et=et.slice(1)}return{heartbeatsToSend:Me,unsentEntries:et}}(te._heartbeatsCache.heartbeats),St=(0,X.L)(JSON.stringify({version:2,heartbeats:et}));return te._heartbeatsCache.lastSentHeartbeatDate=Me,mt.length>0?(te._heartbeatsCache.heartbeats=mt,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),St})()}}function Lt(){return(new Date).toISOString().substring(0,10)}class Zr{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,X.hl)()&&(0,X.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,u.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function ye(ce){return ie.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var Me=this;return(0,u.Z)(function*(){var et;if(yield Me._canUseIndexedDBPromise){const St=yield Me.read();return Ye(Me.app,{lastSentHeartbeatDate:null!==(et=te.lastSentHeartbeatDate)&&void 0!==et?et:St.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var Me=this;return(0,u.Z)(function*(){var et;if(yield Me._canUseIndexedDBPromise){const St=yield Me.read();return Ye(Me.app,{lastSentHeartbeatDate:null!==(et=te.lastSentHeartbeatDate)&&void 0!==et?et:St.lastSentHeartbeatDate,heartbeats:[...St.heartbeats,...te.heartbeats]})}})()}}function Oi(ce){return(0,X.L)(JSON.stringify({version:2,heartbeats:ce})).length}!function Lr(ce){Yt(new Z.wA("platform-logger",te=>new xt(te),"PRIVATE")),Yt(new Z.wA("heartbeat",te=>new gt(te),"PRIVATE")),an(br,"0.9.12",ce),an(br,"0.9.12","esm2017"),an("fire-js","")}("")},4859:(Xe,ve,O)=>{O.d(ve,{H0:()=>Se,wA:()=>x,zt:()=>ee});var u=O(5861),Z=O(2090);class x{constructor(U,j,Q){this.name=U,this.instanceFactory=j,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const X="[DEFAULT]";class ee{constructor(U,j){this.name=U,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const j=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(j)){const Q=new Z.BH;if(this.instancesDeferred.set(j,Q),this.isInitialized(j)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:j});Pe&&Q.resolve(Pe)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(U){var j;const Q=this.normalizeInstanceIdentifier(U?.identifier),Pe=null!==(j=U?.optional)&&void 0!==j&&j;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(we){if(Pe)return null;throw we}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function he(ue){return"EAGER"===ue.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:X})}catch{}for(const[j,Q]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier(j);try{const we=this.getOrInitializeService({instanceIdentifier:Pe});Q.resolve(we)}catch{}}}}clearInstance(U=X){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,u.Z)(function*(){const j=Array.from(U.instances.values());yield Promise.all([...j.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...j.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=X){return this.instances.has(U)}getOptions(U=X){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:j={}}=U,Q=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:Q,options:j});for(const[we,$e]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(we)&&$e.resolve(Pe);return Pe}onInit(U,j){var Q;const Pe=this.normalizeInstanceIdentifier(j),we=null!==(Q=this.onInitCallbacks.get(Pe))&&void 0!==Q?Q:new Set;we.add(U),this.onInitCallbacks.set(Pe,we);const $e=this.instances.get(Pe);return $e&&U($e,Pe),()=>{we.delete(U)}}invokeOnInitCallbacks(U,j){const Q=this.onInitCallbacks.get(j);if(Q)for(const Pe of Q)try{Pe(U,j)}catch{}}getOrInitializeService({instanceIdentifier:U,options:j={}}){let Q=this.instances.get(U);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=U,ue===X?void 0:ue),options:j}),this.instances.set(U,Q),this.instancesOptions.set(U,j),this.invokeOnInitCallbacks(Q,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,Q)}catch{}var ue;return Q||null}normalizeInstanceIdentifier(U=X){return this.component?this.component.multipleInstances?U:X:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Se{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const j=this.getProvider(U.name);if(j.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);j.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const j=new ee(U,this);return this.providers.set(U,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(Xe,ve,O)=>{O.d(ve,{Am:()=>ue,Ub:()=>Se,Yd:()=>he,in:()=>Z});const u=[];var Z=(()=>((Z=Z||{})[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",Z))();const x={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},X=Z.INFO,ee={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},ae=(U,j,...Q)=>{if(j<U.logLevel)return;const Pe=(new Date).toISOString(),we=ee[j];if(!we)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[we](`[${Pe}]  ${U.name}:`,...Q)};class he{constructor(j){this.name=j,this._logLevel=X,this._logHandler=ae,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in Z))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?x[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...j),this._logHandler(this,Z.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...j),this._logHandler(this,Z.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...j),this._logHandler(this,Z.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...j),this._logHandler(this,Z.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...j),this._logHandler(this,Z.ERROR,...j)}}function Se(U){u.forEach(j=>{j.setLogLevel(U)})}function ue(U,j){for(const Q of u){let Pe=null;j&&j.level&&(Pe=x[j.level]),Q.userLogHandler=null===U?null:(we,$e,...be)=>{const je=be.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");$e>=(Pe??we.logLevel)&&U({level:Z[$e].toLowerCase(),message:je,args:be,type:we.name})}}}},259:(Xe,ve,O)=>{O.d(ve,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=O(6881);(0,u.registerVersion)("firebase","9.22.2","app")},9260:(Xe,ve,O)=>{O.d(ve,{Z:()=>u.Z});var u=O(3942);u.Z.registerVersion("firebase","9.22.2","app-compat")},2644:(Xe,ve,O)=>{O.r(ve);var u=O(5861),Z=O(3942),x=O(2090),X=O(6881),ee=O(7582),ae=O(1877),he=O(4859);const ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const $e=function Pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},be=function we(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},je=new x.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ut=new ae.Yd("@firebase/auth");function ne(_,...h){ut.logLevel<=ae.in.ERROR&&ut.error(`Auth (${X.SDK_VERSION}): ${_}`,...h)}function pe(_,...h){throw Oe(_,...h)}function Y(_,...h){return Oe(_,...h)}function fe(_,h,g){const v=Object.assign(Object.assign({},be()),{[h]:g});return new x.LL("auth","Firebase",v).create(h,{appName:_.name})}function Te(_,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&pe(_,"argument-error"),fe(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Oe(_,...h){if("string"!=typeof _){const g=h[0],v=[...h.slice(1)];return v[0]&&(v[0].appName=_.name),_._errorFactory.create(g,...v)}return je.create(_,...h)}function re(_,h,...g){if(!_)throw Oe(h,...g)}function Le(_){const h="INTERNAL ASSERTION FAILED: "+_;throw ne(h),new Error(h)}function xt(_,h){_||Le(h)}function Jn(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function br(){return"http:"===ds()||"https:"===ds()}function ds(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ee{constructor(h,g){this.shortDelay=h,this.longDelay=g,xt(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}get(){return function oe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(br()||(0,x.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ae(_,h){xt(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class Ve{static initialize(h,g,v){this.fetchImpl=h,g&&(this.headersImpl=g),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ht=new Ee(3e4,6e4);function Ze(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function Mt(_,h,g,v){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,u.Z)(function*(_,h,g,v,b={}){return nt(_,b,(0,u.Z)(function*(){let M={},H={};v&&("GET"===h?H=v:M={body:JSON.stringify(v)});const J=(0,x.xO)(Object.assign({key:_.config.apiKey},H)).slice(1),Ie=yield _._getAdditionalHeaders();return Ie["Content-Type"]="application/json",_.languageCode&&(Ie["X-Firebase-Locale"]=_.languageCode),Ve.fetch()(Gt(_,_.config.apiHost,g,J),Object.assign({method:h,headers:Ie,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function nt(_,h,g){return on.apply(this,arguments)}function on(){return(on=(0,u.Z)(function*(_,h,g){_._canInitEmulator=!1;const v=Object.assign(Object.assign({},xe),h);try{const b=new Or(_),M=yield Promise.race([g(),b.promise]);b.clearNetworkTimeout();const H=yield M.json();if("needConfirmation"in H)throw bn(_,"account-exists-with-different-credential",H);if(M.ok&&!("errorMessage"in H))return H;{const J=M.ok?H.errorMessage:H.error.message,[Ie,Ue]=J.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ie)throw bn(_,"credential-already-in-use",H);if("EMAIL_EXISTS"===Ie)throw bn(_,"email-already-in-use",H);if("USER_DISABLED"===Ie)throw bn(_,"user-disabled",H);const qe=v[Ie]||Ie.toLowerCase().replace(/[_\s]+/g,"-");if(Ue)throw fe(_,qe,Ue);pe(_,qe)}}catch(b){if(b instanceof x.ZR)throw b;pe(_,"network-request-failed",{message:String(b)})}})).apply(this,arguments)}function Zt(_,h,g,v){return vn.apply(this,arguments)}function vn(){return(vn=(0,u.Z)(function*(_,h,g,v,b={}){const M=yield Mt(_,h,g,v,b);return"mfaPendingCredential"in M&&pe(_,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function Gt(_,h,g,v){const b=`${h}${g}?${v}`;return _.config.emulator?Ae(_.config,b):`${_.config.apiScheme}://${b}`}class Or{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,v)=>{this.timer=setTimeout(()=>v(Y(this.auth,"network-request-failed")),ht.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bn(_,h,g){const v={appName:_.name};g.email&&(v.email=g.email),g.phoneNumber&&(v.phoneNumber=g.phoneNumber);const b=Y(_,h,v);return b.customData._tokenResponse=g,b}function On(){return(On=(0,u.Z)(function*(_,h){return Mt(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Ps(){return(Ps=(0,u.Z)(function*(_,h){return Mt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function xr(){return(xr=(0,u.Z)(function*(_,h){return Mt(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function kr(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Ge(){return(Ge=(0,u.Z)(function*(_,h=!1){const g=(0,x.m9)(_),v=yield g.getIdToken(h),b=it(v);re(b&&b.exp&&b.auth_time&&b.iat,g.auth,"internal-error");const M="object"==typeof b.firebase?b.firebase:void 0,H=M?.sign_in_provider;return{claims:b,token:v,authTime:kr(rt(b.auth_time)),issuedAtTime:kr(rt(b.iat)),expirationTime:kr(rt(b.exp)),signInProvider:H||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function rt(_){return 1e3*Number(_)}function it(_){const[h,g,v]=_.split(".");if(void 0===h||void 0===g||void 0===v)return ne("JWT malformed, contained fewer than 3 sections"),null;try{const b=(0,x.tV)(g);return b?JSON.parse(b):(ne("Failed to decode base64 JWT payload"),null)}catch(b){return ne("Caught error parsing JWT payload as JSON",b?.toString()),null}}function mn(_,h){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,u.Z)(function*(_,h,g=!1){if(g)return h;try{return yield h}catch(v){throw v instanceof x.ZR&&function Yt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(v)&&_.auth.currentUser===_&&(yield _.auth.signOut()),v}})).apply(this,arguments)}class Xn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const b=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,b)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const v=this.getInterval(h);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),v)}iteration(){var h=this;return(0,u.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&h.schedule(!0))}h.schedule()})()}}class co{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=kr(this.lastLoginAt),this.creationTime=kr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qt(_){return ur.apply(this,arguments)}function ur(){return ur=(0,u.Z)(function*(_){var h;const g=_.auth,v=yield _.getIdToken(),b=yield mn(_,function uo(_,h){return xr.apply(this,arguments)}(g,{idToken:v}));re(b?.users.length,g,"internal-error");const M=b.users[0];_._notifyReloadListener(M);const H=null!==(h=M.providerUserInfo)&&void 0!==h&&h.length?function ho(_){return _.map(h=>{var{providerId:g}=h,v=(0,ee._T)(h,["providerId"]);return{providerId:g,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}(M.providerUserInfo):[],J=function ps(_,h){return[..._.filter(v=>!h.some(b=>b.providerId===v.providerId)),...h]}(_.providerData,H),qe=!!_.isAnonymous&&!(_.email&&M.passwordHash||J?.length),Qe={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:J,metadata:new co(M.createdAt,M.lastLoginAt),isAnonymous:qe};Object.assign(_,Qe)}),ur.apply(this,arguments)}function di(){return(di=(0,u.Z)(function*(_){const h=(0,x.m9)(_);yield Qt(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Ri(){return(Ri=(0,u.Z)(function*(_,h){const g=yield nt(_,{},(0,u.Z)(function*(){const v=(0,x.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:b,apiKey:M}=_.config,H=Gt(_,b,"/v1/token",`key=${M}`),J=yield _._getAdditionalHeaders();return J["Content-Type"]="application/x-www-form-urlencoded",Ve.fetch()(H,{method:"POST",headers:J,body:v})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class er{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){re(h.idToken,"internal-error"),re(typeof h.idToken<"u","internal-error"),re(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function en(_){const h=it(_);return re(h,"internal-error"),re(typeof h.exp<"u","internal-error"),re(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var v=this;return(0,u.Z)(function*(){return re(!v.accessToken||v.refreshToken,h,"user-token-expired"),g||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(h,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var v=this;return(0,u.Z)(function*(){const{accessToken:b,refreshToken:M,expiresIn:H}=yield function Fr(_,h){return Ri.apply(this,arguments)}(h,g);v.updateTokensAndExpiration(b,M,Number(H))})()}updateTokensAndExpiration(h,g,v){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(h,g){const{refreshToken:v,accessToken:b,expirationTime:M}=g,H=new er;return v&&(re("string"==typeof v,"internal-error",{appName:h}),H.refreshToken=v),b&&(re("string"==typeof b,"internal-error",{appName:h}),H.accessToken=b),M&&(re("number"==typeof M,"internal-error",{appName:h}),H.expirationTime=M),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new er,this.toJSON())}_performRefresh(){return Le("not implemented")}}function Hn(_,h){re("string"==typeof _||typeof _>"u","internal-error",{appName:h})}class an{constructor(h){var{uid:g,auth:v,stsTokenManager:b}=h,M=(0,ee._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=v,this.stsTokenManager=b,this.accessToken=b.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new co(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,u.Z)(function*(){const v=yield mn(g,g.stsTokenManager.getToken(g.auth,h));return re(v,g.auth,"internal-error"),g.accessToken!==v&&(g.accessToken=v,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),v})()}getIdTokenResult(h){return function qo(_){return Ge.apply(this,arguments)}(this,h)}reload(){return function Rt(_){return di.apply(this,arguments)}(this)}_assign(h){this!==h&&(re(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new an(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var v=this;return(0,u.Z)(function*(){let b=!1;h.idToken&&h.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(h),b=!0),g&&(yield Qt(v)),yield v.auth._persistUserIfCurrent(v),b&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var h=this;return(0,u.Z)(function*(){const g=yield h.getIdToken();return yield mn(h,function vr(_,h){return On.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var v,b,M,H,J,Ie,Ue,qe;const Qe=null!==(v=g.displayName)&&void 0!==v?v:void 0,Cn=null!==(b=g.email)&&void 0!==b?b:void 0,ts=null!==(M=g.phoneNumber)&&void 0!==M?M:void 0,bd=null!==(H=g.photoURL)&&void 0!==H?H:void 0,wf=null!==(J=g.tenantId)&&void 0!==J?J:void 0,Df=null!==(Ie=g._redirectEventId)&&void 0!==Ie?Ie:void 0,Id=null!==(Ue=g.createdAt)&&void 0!==Ue?Ue:void 0,qu=null!==(qe=g.lastLoginAt)&&void 0!==qe?qe:void 0,{uid:Tf,emailVerified:Sd,isAnonymous:Ad,providerData:ii,stsTokenManager:Md}=g;re(Tf&&Md,h,"internal-error");const dt=er.fromJSON(this.name,Md);re("string"==typeof Tf,h,"internal-error"),Hn(Qe,h.name),Hn(Cn,h.name),re("boolean"==typeof Sd,h,"internal-error"),re("boolean"==typeof Ad,h,"internal-error"),Hn(ts,h.name),Hn(bd,h.name),Hn(wf,h.name),Hn(Df,h.name),Hn(Id,h.name),Hn(qu,h.name);const Ku=new an({uid:Tf,auth:h,email:Cn,emailVerified:Sd,displayName:Qe,isAnonymous:Ad,photoURL:bd,phoneNumber:ts,tenantId:wf,stsTokenManager:dt,createdAt:Id,lastLoginAt:qu});return ii&&Array.isArray(ii)&&(Ku.providerData=ii.map(bf=>Object.assign({},bf))),Df&&(Ku._redirectEventId=Df),Ku}static _fromIdTokenResponse(h,g,v=!1){return(0,u.Z)(function*(){const b=new er;b.updateFromServerResponse(g);const M=new an({uid:g.localId,auth:h,stsTokenManager:b,isAnonymous:v});return yield Qt(M),M})()}}const Ni=new Map;function qt(_){xt(_ instanceof Function,"Expected a class definition");let h=Ni.get(_);return h?(xt(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,Ni.set(_,h),h)}const Ut=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,v){var b=this;return(0,u.Z)(function*(){b.storage[g]=v})()}_get(g){var v=this;return(0,u.Z)(function*(){const b=v.storage[g];return void 0===b?null:b})()}_remove(g){var v=this;return(0,u.Z)(function*(){delete v.storage[g]})()}_addListener(g,v){}_removeListener(g,v){}}return _.type="NONE",_})();function B(_,h,g){return`firebase:${_}:${h}:${g}`}class V{constructor(h,g,v){this.persistence=h,this.auth=g,this.userKey=v;const{config:b,name:M}=this.auth;this.fullUserKey=B(this.userKey,b.apiKey,M),this.fullPersistenceKey=B("persistence",b.apiKey,M),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,u.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?an._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,u.Z)(function*(){if(g.persistence===h)return;const v=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,v?g.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,v="authUser"){return(0,u.Z)(function*(){if(!g.length)return new V(qt(Ut),h,v);const b=(yield Promise.all(g.map(function(){var Ue=(0,u.Z)(function*(qe){if(yield qe._isAvailable())return qe});return function(qe){return Ue.apply(this,arguments)}}()))).filter(Ue=>Ue);let M=b[0]||qt(Ut);const H=B(v,h.config.apiKey,h.name);let J=null;for(const Ue of g)try{const qe=yield Ue._get(H);if(qe){const Qe=an._fromJSON(h,qe);Ue!==M&&(J=Qe),M=Ue;break}}catch{}const Ie=b.filter(Ue=>Ue._shouldAllowMigration);return M._shouldAllowMigration&&Ie.length?(M=Ie[0],J&&(yield M._set(H,J.toJSON())),yield Promise.all(g.map(function(){var Ue=(0,u.Z)(function*(qe){if(qe!==M)try{yield qe._remove(H)}catch{}});return function(qe){return Ue.apply(this,arguments)}}())),new V(M,h,v)):new V(M,h,v)})()}}function z(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(st(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(ye(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ln(h))return"Blackberry";if(tn(h))return"Webos";if(ie(h))return"Safari";if((h.includes("chrome/")||Ye(h))&&!h.includes("edge/"))return"Chrome";if(Ct(h))return"Android";{const v=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function ye(_=(0,x.z$)()){return/firefox\//i.test(_)}function ie(_=(0,x.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Ye(_=(0,x.z$)()){return/crios\//i.test(_)}function st(_=(0,x.z$)()){return/iemobile/i.test(_)}function Ct(_=(0,x.z$)()){return/android/i.test(_)}function ln(_=(0,x.z$)()){return/blackberry/i.test(_)}function tn(_=(0,x.z$)()){return/webos/i.test(_)}function gt(_=(0,x.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Oi(_=(0,x.z$)()){return gt(_)||Ct(_)||tn(_)||ln(_)||/windows phone/i.test(_)||st(_)}function ce(_,h=[]){let g;switch(_){case"Browser":g=z((0,x.z$)());break;case"Worker":g=`${z((0,x.z$)())}-${_}`;break;default:g=_}const v=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${X.SDK_VERSION}/${v}`}function Me(){return(Me=(0,u.Z)(function*(_){return(yield Mt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function et(_,h){return mt.apply(this,arguments)}function mt(){return(mt=(0,u.Z)(function*(_,h){return Mt(_,"GET","/v2/recaptchaConfig",Ze(_,h))})).apply(this,arguments)}function St(_){return void 0!==_&&void 0!==_.getResponse}function Wt(_){return void 0!==_&&void 0!==_.enterprise}class jn{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Wi(_){return new Promise((h,g)=>{const v=document.createElement("script");v.setAttribute("src",_),v.onload=h,v.onerror=b=>{const M=Y("internal-error");M.customData=b,g(M)},v.type="text/javascript",v.charset="UTF-8",function xn(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(v)})}function gs(_){return`__${_}${Math.floor(1e6*Math.random())}`}class xc{constructor(h){this.type="recaptcha-enterprise",this.auth=kn(h)}verify(h="verify",g=!1){var v=this;return(0,u.Z)(function*(){function M(){return M=(0,u.Z)(function*(J){if(!g){if(null==J.tenantId&&null!=J._agentRecaptchaConfig)return J._agentRecaptchaConfig.siteKey;if(null!=J.tenantId&&void 0!==J._tenantRecaptchaConfigs[J.tenantId])return J._tenantRecaptchaConfigs[J.tenantId].siteKey}return new Promise(function(){var Ie=(0,u.Z)(function*(Ue,qe){et(J,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Qe=>{if(void 0!==Qe.recaptchaKey){const Cn=new jn(Qe);return null==J.tenantId?J._agentRecaptchaConfig=Cn:J._tenantRecaptchaConfigs[J.tenantId]=Cn,Ue(Cn.siteKey)}qe(new Error("recaptcha Enterprise site key undefined"))}).catch(Qe=>{qe(Qe)})});return function(Ue,qe){return Ie.apply(this,arguments)}}())}),M.apply(this,arguments)}function H(J,Ie,Ue){const qe=window.grecaptcha;Wt(qe)?qe.enterprise.ready(()=>{qe.enterprise.execute(J,{action:h}).then(Qe=>{Ie(Qe)}).catch(()=>{Ie("NO_RECAPTCHA")})}):Ue(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((J,Ie)=>{(function b(J){return M.apply(this,arguments)})(v.auth).then(Ue=>{if(!g&&Wt(window.grecaptcha))H(Ue,J,Ie);else{if(typeof window>"u")return void Ie(new Error("RecaptchaVerifier is only supported in browser"));Wi("https://www.google.com/recaptcha/enterprise.js?render="+Ue).then(()=>{H(Ue,J,Ie)}).catch(qe=>{Ie(qe)})}}).catch(Ue=>{Ie(Ue)})})})()}}function qr(_,h,g){return lu.apply(this,arguments)}function lu(){return(lu=(0,u.Z)(function*(_,h,g,v=!1){const b=new xc(_);let M;try{M=yield b.verify(g)}catch{M=yield b.verify(g,!0)}const H=Object.assign({},h);return Object.assign(H,v?{captchaResp:M}:{captchaResponse:M}),Object.assign(H,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(H,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),H})).apply(this,arguments)}class Ya{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const v=M=>new Promise((H,J)=>{try{H(h(M))}catch(Ie){J(Ie)}});v.onAbort=g,this.queue.push(v);const b=this.queue.length-1;return()=>{this.queue[b]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,u.Z)(function*(){if(g.auth.currentUser===h)return;const v=[];try{for(const b of g.queue)yield b(h),b.onAbort&&v.push(b.onAbort)}catch(b){v.reverse();for(const M of v)try{M()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:b?.message})}})()}}class kc{constructor(h,g,v,b){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=v,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kr(this),this.idTokenSubscription=new Kr(this),this.beforeStateQueue=new Ya(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=je,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(h,g){var v=this;return g&&(this._popupRedirectResolver=qt(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var b,M;if(!v._deleted&&(v.persistenceManager=yield V.create(v,h),!v._deleted)){if(null!==(b=v._popupRedirectResolver)&&void 0!==b&&b._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(g),v.lastNotifiedUid=(null===(M=v.currentUser)||void 0===M?void 0:M.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,u.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,u.Z)(function*(){var v;const b=yield g.assertedPersistence.getCurrentUser();let M=b,H=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const J=null===(v=g.redirectUser)||void 0===v?void 0:v._redirectEventId,Ie=M?._redirectEventId,Ue=yield g.tryRedirectSignIn(h);(!J||J===Ie)&&Ue?.user&&(M=Ue.user,H=!0)}if(!M)return g.directlySetCurrentUser(null);if(!M._redirectEventId){if(H)try{yield g.beforeStateQueue.runMiddleware(M)}catch(J){M=b,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(J))}return M?g.reloadAndSetCurrentUserOrClear(M):g.directlySetCurrentUser(null)}return re(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===M._redirectEventId?g.directlySetCurrentUser(M):g.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(h){var g=this;return(0,u.Z)(function*(){let v=null;try{v=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,u.Z)(function*(){try{yield Qt(h)}catch(v){if("auth/network-request-failed"!==v?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function ge(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,u.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,u.Z)(function*(){const v=h?(0,x.m9)(h):null;return v&&re(v.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(v&&v._clone(g))})()}_updateCurrentUser(h,g=!1){var v=this;return(0,u.Z)(function*(){if(!v._deleted)return h&&re(v.tenantId===h.tenantId,v,"tenant-id-mismatch"),g||(yield v.beforeStateQueue.runMiddleware(h)),v.queue((0,u.Z)(function*(){yield v.directlySetCurrentUser(h),v.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,u.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(qt(h))}))}initializeRecaptchaConfig(){var h=this;return(0,u.Z)(function*(){const g=yield et(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),v=new jn(g);null==h.tenantId?h._agentRecaptchaConfig=v:h._tenantRecaptchaConfigs[h.tenantId]=v,v.emailPasswordEnabled&&new xc(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new x.LL("auth","Firebase",h())}onAuthStateChanged(h,g,v){return this.registerStateListener(this.authStateSubscription,h,g,v)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,v){return this.registerStateListener(this.idTokenSubscription,h,g,v)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var v=this;return(0,u.Z)(function*(){const b=yield v.getOrInitRedirectPersistenceManager(g);return null===h?b.removeCurrentUser():b.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const v=h&&qt(h)||g._popupRedirectResolver;re(v,g,"argument-error"),g.redirectPersistenceManager=yield V.create(g,[qt(v._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,u.Z)(function*(){var v,b;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(v=g._currentUser)||void 0===v?void 0:v._redirectEventId)===h?g._currentUser:(null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,u.Z)(function*(){if(h===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,v,b){if(this._deleted)return()=>{};const M="function"==typeof g?g:g.next.bind(g),H=this._isInitialized?Promise.resolve():this._initializationPromise;return re(H,this,"internal-error"),H.then(()=>M(this.currentUser)),"function"==typeof g?h.addObserver(g,v,b):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=ce(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,u.Z)(function*(){var g;const v={"X-Client-Version":h.clientVersion};h.app.options.appId&&(v["X-Firebase-gmpid"]=h.app.options.appId);const b=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();b&&(v["X-Firebase-Client"]=b);const M=yield h._getAppCheckToken();return M&&(v["X-Firebase-AppCheck"]=M),v})()}_getAppCheckToken(){var h=this;return(0,u.Z)(function*(){var g;const v=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return v?.error&&function tt(_,...h){ut.logLevel<=ae.in.WARN&&ut.warn(`Auth (${X.SDK_VERSION}): ${_}`,...h)}(`Error while retrieving App Check token: ${v.error}`),v?.token})()}}function kn(_){return(0,x.m9)(_)}class Kr{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,x.ne)(g=>this.observer=g)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Os(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function Lc(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class zi{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return Le("not implemented")}_getIdTokenResponse(h){return Le("not implemented")}_linkToIdToken(h,g){return Le("not implemented")}_getReauthenticationResolver(h){return Le("not implemented")}}function Mh(_,h){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,u.Z)(function*(_,h){return Mt(_,"POST","/v1/accounts:resetPassword",Ze(_,h))})).apply(this,arguments)}function uu(_,h){return cu.apply(this,arguments)}function cu(){return(cu=(0,u.Z)(function*(_,h){return Mt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(_,h){return Mt(_,"POST","/v1/accounts:update",Ze(_,h))})).apply(this,arguments)}function Jt(_,h){return ms.apply(this,arguments)}function ms(){return(ms=(0,u.Z)(function*(_,h){return Zt(_,"POST","/v1/accounts:signInWithPassword",Ze(_,h))})).apply(this,arguments)}function cr(_,h){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,u.Z)(function*(_,h){return Mt(_,"POST","/v1/accounts:sendOobCode",Ze(_,h))})).apply(this,arguments)}function fo(){return(fo=(0,u.Z)(function*(_,h){return cr(_,h)})).apply(this,arguments)}function Qo(_,h){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,u.Z)(function*(_,h){return cr(_,h)})).apply(this,arguments)}function In(_,h){return ze.apply(this,arguments)}function ze(){return(ze=(0,u.Z)(function*(_,h){return cr(_,h)})).apply(this,arguments)}function cn(){return(cn=(0,u.Z)(function*(_,h){return cr(_,h)})).apply(this,arguments)}function _s(){return(_s=(0,u.Z)(function*(_,h){return Zt(_,"POST","/v1/accounts:signInWithEmailLink",Ze(_,h))})).apply(this,arguments)}function xs(){return(xs=(0,u.Z)(function*(_,h){return Zt(_,"POST","/v1/accounts:signInWithEmailLink",Ze(_,h))})).apply(this,arguments)}class dn extends zi{constructor(h,g,v,b=null){super("password",v),this._email=h,this._password=g,this._tenantId=b}static _fromEmailAndPassword(h,g){return new dn(h,g,"password")}static _fromEmailAndCode(h,g,v=null){return new dn(h,g,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,u.Z)(function*(){var v;switch(g.signInMethod){case"password":const b={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=h._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const M=yield qr(h,b,"signInWithPassword");return Jt(h,M)}return Jt(h,b).catch(function(){var M=(0,u.Z)(function*(H){if("auth/missing-recaptcha-token"===H.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const J=yield qr(h,b,"signInWithPassword");return Jt(h,J)}return Promise.reject(H)});return function(H){return M.apply(this,arguments)}}());case"emailLink":return function Ur(_,h){return _s.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:pe(h,"internal-error")}})()}_linkToIdToken(h,g){var v=this;return(0,u.Z)(function*(){switch(v.signInMethod){case"password":return uu(h,{idToken:g,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Er(_,h){return xs.apply(this,arguments)}(h,{idToken:g,email:v._email,oobCode:v._password});default:pe(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function nr(_,h){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,u.Z)(function*(_,h){return Zt(_,"POST","/v1/accounts:signInWithIdp",Ze(_,h))})).apply(this,arguments)}class Sr extends zi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new Sr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):pe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:b}=g,M=(0,ee._T)(g,["providerId","signInMethod"]);if(!v||!b)return null;const H=new Sr(v,b);return H.idToken=M.idToken||void 0,H.accessToken=M.accessToken||void 0,H.secret=M.secret,H.nonce=M.nonce,H.pendingToken=M.pendingToken||null,H}_getIdTokenResponse(h){return nr(h,this.buildRequest())}_linkToIdToken(h,g){const v=this.buildRequest();return v.idToken=g,nr(h,v)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,nr(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,x.xO)(g)}return h}}function xi(){return(xi=(0,u.Z)(function*(_,h){return Mt(_,"POST","/v1/accounts:sendVerificationCode",Ze(_,h))})).apply(this,arguments)}function po(){return(po=(0,u.Z)(function*(_,h){return Zt(_,"POST","/v1/accounts:signInWithPhoneNumber",Ze(_,h))})).apply(this,arguments)}function Yr(){return(Yr=(0,u.Z)(function*(_,h){const g=yield Zt(_,"POST","/v1/accounts:signInWithPhoneNumber",Ze(_,h));if(g.temporaryProof)throw bn(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const go={USER_NOT_FOUND:"user-not-found"};function Br(){return(Br=(0,u.Z)(function*(_,h){return Zt(_,"POST","/v1/accounts:signInWithPhoneNumber",Ze(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),go)})).apply(this,arguments)}class Sn extends zi{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new Sn({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new Sn({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function En(_,h){return po.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function Jo(_,h){return Yr.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Bc(_,h){return Br.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:v,verificationCode:b}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:v,code:b}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:v,phoneNumber:b,temporaryProof:M}=h;return v||g||b||M?new Sn({verificationId:g,verificationCode:v,phoneNumber:b,temporaryProof:M}):null}}class Ot{constructor(h){var g,v,b,M,H,J;const Ie=(0,x.zd)((0,x.pd)(h)),Ue=null!==(g=Ie.apiKey)&&void 0!==g?g:null,qe=null!==(v=Ie.oobCode)&&void 0!==v?v:null,Qe=function hu(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(b=Ie.mode)&&void 0!==b?b:null);re(Ue&&qe&&Qe,"argument-error"),this.apiKey=Ue,this.operation=Qe,this.code=qe,this.continueUrl=null!==(M=Ie.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(H=Ie.languageCode)&&void 0!==H?H:null,this.tenantId=null!==(J=Ie.tenantId)&&void 0!==J?J:null}static parseLink(h){const g=function mo(_){const h=(0,x.zd)((0,x.pd)(_)).link,g=h?(0,x.zd)((0,x.pd)(h)).deep_link_id:null,v=(0,x.zd)((0,x.pd)(_)).deep_link_id;return(v?(0,x.zd)((0,x.pd)(v)).link:null)||v||g||h||_}(h);try{return new Ot(g)}catch{return null}}}let Xa=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,v){return dn._fromEmailAndPassword(g,v)}static credentialWithLink(g,v){const b=Ot.parseLink(v);return re(b,"argument-error"),dn._fromEmailAndCode(g,b.code,b.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class ki{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Ar extends ki{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Qr extends Ar{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return re("providerId"in g&&"signInMethod"in g,"argument-error"),Sr._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return re(h.idToken||h.accessToken,"argument-error"),Sr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Qr.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Qr.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:v,oauthTokenSecret:b,pendingToken:M,nonce:H,providerId:J}=h;if(!v&&!b&&!g&&!M||!J)return null;try{return new Qr(J)._credential({idToken:g,accessToken:v,nonce:H,pendingToken:M})}catch{return null}}}let ks=(()=>{class _ extends Ar{constructor(){super("facebook.com")}static credential(g){return Sr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Fs=(()=>{class _ extends Ar{constructor(){super("google.com"),this.addScope("profile")}static credential(g,v){return Sr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:v})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:b}=g;if(!v&&!b)return null;try{return _.credential(v,b)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),$n=(()=>{class _ extends Ar{constructor(){super("github.com")}static credential(g){return Sr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class An extends zi{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return nr(h,this.buildRequest())}_linkToIdToken(h,g){const v=this.buildRequest();return v.idToken=g,nr(h,v)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,nr(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:b,pendingToken:M}=g;return v&&b&&M&&v===b?new An(v,M):null}static _create(h,g){return new An(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _o extends ki{constructor(h){re(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return _o.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return _o.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=An.fromJSON(h);return re(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:v}=h;if(!g||!v)return null;try{return An._create(v,g)}catch{return null}}}let qi=(()=>{class _ extends Ar{constructor(){super("twitter.com")}static credential(g,v){return Sr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:v})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:v,oauthTokenSecret:b}=g;if(!v||!b)return null;try{return _.credential(v,b)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Ki(_,h){return rr.apply(this,arguments)}function rr(){return(rr=(0,u.Z)(function*(_,h){return Zt(_,"POST","/v1/accounts:signUp",Ze(_,h))})).apply(this,arguments)}class dr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,v,b=!1){return(0,u.Z)(function*(){const M=yield an._fromIdTokenResponse(h,v,b),H=Ls(v);return new dr({user:M,providerId:H,_tokenResponse:v,operationType:g})})()}static _forOperation(h,g,v){return(0,u.Z)(function*(){yield h._updateTokensIfNecessary(v,!0);const b=Ls(v);return new dr({user:h,providerId:b,_tokenResponse:v,operationType:g})})()}}function Ls(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function fu(){return(fu=(0,u.Z)(function*(_){var h;const g=kn(_);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new dr({user:g.currentUser,providerId:null,operationType:"signIn"});const v=yield Ki(g,{returnSecureToken:!0}),b=yield dr._fromIdTokenResponse(g,"signIn",v,!0);return yield g._updateCurrentUser(b.user),b})).apply(this,arguments)}class Xo extends x.ZR{constructor(h,g,v,b){var M;super(g.code,g.message),this.operationType=v,this.user=b,Object.setPrototypeOf(this,Xo.prototype),this.customData={appName:h.name,tenantId:null!==(M=h.tenantId)&&void 0!==M?M:void 0,_serverResponse:g.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(h,g,v,b){return new Xo(h,g,v,b)}}function Rh(_,h,g,v){return("reauthenticate"===h?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Xo._fromErrorAndOperation(_,M,h,v):M})}function Nh(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function Fi(){return Fi=(0,u.Z)(function*(_,h){const g=(0,x.m9)(_);yield ea(!0,g,h);const{providerUserInfo:v}=yield function hs(_,h){return Ps.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),b=Nh(v||[]);return g.providerData=g.providerData.filter(M=>b.has(M.providerId)),b.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Fi.apply(this,arguments)}function pu(_,h){return gu.apply(this,arguments)}function gu(){return(gu=(0,u.Z)(function*(_,h,g=!1){const v=yield mn(_,h._linkToIdToken(_.auth,yield _.getIdToken()),g);return dr._forOperation(_,"link",v)})).apply(this,arguments)}function ea(_,h,g){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,u.Z)(function*(_,h,g){yield Qt(h);const b=!1===_?"provider-already-linked":"no-such-provider";re(Nh(h.providerData).has(g)===_,h.auth,b)})).apply(this,arguments)}function Ph(_,h){return mu.apply(this,arguments)}function mu(){return(mu=(0,u.Z)(function*(_,h,g=!1){const{auth:v}=_,b="reauthenticate";try{const M=yield mn(_,Rh(v,b,h,_),g);re(M.idToken,v,"internal-error");const H=it(M.idToken);re(H,v,"internal-error");const{sub:J}=H;return re(_.uid===J,v,"user-mismatch"),dr._forOperation(_,b,M)}catch(M){throw"auth/user-not-found"===M?.code&&pe(v,"user-mismatch"),M}})).apply(this,arguments)}function jc(_,h){return $c.apply(this,arguments)}function $c(){return($c=(0,u.Z)(function*(_,h,g=!1){const v="signIn",b=yield Rh(_,v,h),M=yield dr._fromIdTokenResponse(_,v,b);return g||(yield _._updateCurrentUser(M.user)),M})).apply(this,arguments)}function ta(_,h){return na.apply(this,arguments)}function na(){return(na=(0,u.Z)(function*(_,h){return jc(kn(_),h)})).apply(this,arguments)}function Op(_,h){return _u.apply(this,arguments)}function _u(){return(_u=(0,u.Z)(function*(_,h){const g=(0,x.m9)(_);return yield ea(!1,g,h.providerId),pu(g,h)})).apply(this,arguments)}function Mn(_,h){return ys.apply(this,arguments)}function ys(){return(ys=(0,u.Z)(function*(_,h){return Ph((0,x.m9)(_),h)})).apply(this,arguments)}function xp(){return(xp=(0,u.Z)(function*(_,h){return Zt(_,"POST","/v1/accounts:signInWithCustomToken",Ze(_,h))})).apply(this,arguments)}function hi(){return hi=(0,u.Z)(function*(_,h){const g=kn(_),v=yield function Oh(_,h){return xp.apply(this,arguments)}(g,{token:h,returnSecureToken:!0}),b=yield dr._fromIdTokenResponse(g,"signIn",v);return yield g._updateCurrentUser(b.user),b}),hi.apply(this,arguments)}class el{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?ra._fromServerResponse(h,g):"totpInfo"in g?Gc._fromServerResponse(h,g):pe(h,"internal-error")}}class ra extends el{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new ra(g)}}class Gc extends el{constructor(h){super("totp",h)}static _fromServerResponse(h,g){return new Gc(g)}}function ia(_,h,g){var v;re((null===(v=g.url)||void 0===v?void 0:v.length)>0,_,"invalid-continue-uri"),re(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(re(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(re(g.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function Cr(){return Cr=(0,u.Z)(function*(_,h,g){var v;const b=kn(_),M={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=b._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const H=yield qr(b,M,"getOobCode",!0);g&&ia(b,H,g),yield Qo(b,H)}else g&&ia(b,M,g),yield Qo(b,M).catch(function(){var H=(0,u.Z)(function*(J){if("auth/missing-recaptcha-token"!==J.code)return Promise.reject(J);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ie=yield qr(b,M,"getOobCode",!0);g&&ia(b,Ie,g),yield Qo(b,Ie)}});return function(J){return H.apply(this,arguments)}}())}),Cr.apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(_,h,g){yield Mh((0,x.m9)(_),{oobCode:h,newPassword:g})})).apply(this,arguments)}function Jr(){return Jr=(0,u.Z)(function*(_,h){yield function At(_,h){return Zn.apply(this,arguments)}((0,x.m9)(_),{oobCode:h})}),Jr.apply(this,arguments)}function sa(_,h){return yo.apply(this,arguments)}function yo(){return(yo=(0,u.Z)(function*(_,h){const g=(0,x.m9)(_),v=yield Mh(g,{oobCode:h}),b=v.requestType;switch(re(b,g,"internal-error"),b){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(v.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(v.mfaInfo,g,"internal-error");default:re(v.email,g,"internal-error")}let M=null;return v.mfaInfo&&(M=el._fromServerResponse(kn(g),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:M},operation:b}})).apply(this,arguments)}function Eo(){return(Eo=(0,u.Z)(function*(_,h){const{data:g}=yield sa((0,x.m9)(_),h);return g.email})).apply(this,arguments)}function oa(){return oa=(0,u.Z)(function*(_,h,g){var v;const b=kn(_),M={returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"};let H;if(null!==(v=b._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const Ue=yield qr(b,M,"signUpPassword");H=Ki(b,Ue)}else H=Ki(b,M).catch(function(){var Ue=(0,u.Z)(function*(qe){if("auth/missing-recaptcha-token"===qe.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Qe=yield qr(b,M,"signUpPassword");return Ki(b,Qe)}return Promise.reject(qe)});return function(qe){return Ue.apply(this,arguments)}}());const J=yield H.catch(Ue=>Promise.reject(Ue)),Ie=yield dr._fromIdTokenResponse(b,"signIn",J);return yield b._updateCurrentUser(Ie.user),Ie}),oa.apply(this,arguments)}function Vs(){return Vs=(0,u.Z)(function*(_,h,g){var v;const b=kn(_),M={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};function H(J,Ie){re(Ie.handleCodeInApp,b,"argument-error"),Ie&&ia(b,J,Ie)}if(null!==(v=b._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const J=yield qr(b,M,"getOobCode",!0);H(J,g),yield In(b,J)}else H(M,g),yield In(b,M).catch(function(){var J=(0,u.Z)(function*(Ie){if("auth/missing-recaptcha-token"!==Ie.code)return Promise.reject(Ie);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ue=yield qr(b,M,"getOobCode",!0);H(Ue,g),yield In(b,Ue)}});return function(Ie){return J.apply(this,arguments)}}())}),Vs.apply(this,arguments)}function kh(){return(kh=(0,u.Z)(function*(_,h,g){const v=(0,x.m9)(_),b=Xa.credentialWithLink(h,g||Jn());return re(b._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),ta(v,b)})).apply(this,arguments)}function vu(){return(vu=(0,u.Z)(function*(_,h){return Mt(_,"POST","/v1/accounts:createAuthUri",Ze(_,h))})).apply(this,arguments)}function Eu(){return Eu=(0,u.Z)(function*(_,h){const v={identifier:h,continueUri:br()?Jn():"http://localhost"},{signinMethods:b}=yield function Wc(_,h){return vu.apply(this,arguments)}((0,x.m9)(_),v);return b||[]}),Eu.apply(this,arguments)}function aa(){return aa=(0,u.Z)(function*(_,h){const g=(0,x.m9)(_),b={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&ia(g.auth,b,h);const{email:M}=yield function du(_,h){return fo.apply(this,arguments)}(g.auth,b);M!==_.email&&(yield _.reload())}),aa.apply(this,arguments)}function sl(){return sl=(0,u.Z)(function*(_,h,g){const v=(0,x.m9)(_),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};g&&ia(v.auth,M,g);const{email:H}=yield function Tt(_,h){return cn.apply(this,arguments)}(v.auth,M);H!==_.email&&(yield _.reload())}),sl.apply(this,arguments)}function ol(){return(ol=(0,u.Z)(function*(_,h){return Mt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Co(){return Co=(0,u.Z)(function*(_,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const v=(0,x.m9)(_),M={idToken:yield v.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},H=yield mn(v,function wu(_,h){return ol.apply(this,arguments)}(v.auth,M));v.displayName=H.displayName||null,v.photoURL=H.photoUrl||null;const J=v.providerData.find(({providerId:Ie})=>"password"===Ie);J&&(J.displayName=v.displayName,J.photoURL=v.photoURL),yield v._updateTokensIfNecessary(H)}),Co.apply(this,arguments)}function Zc(_,h,g){return la.apply(this,arguments)}function la(){return(la=(0,u.Z)(function*(_,h,g){const{auth:v}=_,M={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(M.email=h),g&&(M.password=g);const H=yield mn(_,uu(v,M));yield _._updateTokensIfNecessary(H,!0)})).apply(this,arguments)}class Us{constructor(h,g,v={}){this.isNewUser=h,this.providerId=g,this.profile=v}}class al extends Us{constructor(h,g,v,b){super(h,g,v),this.username=b}}class Dr extends Us{constructor(h,g){super(h,"facebook.com",g)}}class ll extends al{constructor(h,g){super(h,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Du extends Us{constructor(h,g){super(h,"google.com",g)}}class vs extends al{constructor(h,g,v){super(h,"twitter.com",g,v)}}function qn(_){const{user:h,_tokenResponse:g}=_;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function hn(_){var h,g;if(!_)return null;const{providerId:v}=_,b=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},M=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!v&&_?.idToken){const H=null===(g=null===(h=it(_.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(H)return new Us(M,"anonymous"!==H&&"custom"!==H?H:null)}if(!v)return null;switch(v){case"facebook.com":return new Dr(M,b);case"github.com":return new ll(M,b);case"google.com":return new Du(M,b);case"twitter.com":return new vs(M,b,_.screenName||null);case"custom":case"anonymous":return new Us(M,null);default:return new Us(M,v,b)}}(g)}class ot{constructor(h,g,v){this.type=h,this.credential=g,this.auth=v}static _fromIdtoken(h,g){return new ot("enroll",h,g)}static _fromMfaPendingCredential(h){return new ot("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,v;if(h?.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return ot._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(v=h.multiFactorSession)&&void 0!==v&&v.idToken)return ot._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Cs{constructor(h,g,v){this.session=h,this.hints=g,this.signInResolver=v}static _fromError(h,g){const v=kn(h),b=g.customData._serverResponse,M=(b.mfaInfo||[]).map(J=>el._fromServerResponse(v,J));re(b.mfaPendingCredential,v,"internal-error");const H=ot._fromMfaPendingCredential(b.mfaPendingCredential);return new Cs(H,M,function(){var J=(0,u.Z)(function*(Ie){const Ue=yield Ie._process(v,H);delete b.mfaInfo,delete b.mfaPendingCredential;const qe=Object.assign(Object.assign({},b),{idToken:Ue.idToken,refreshToken:Ue.refreshToken});switch(g.operationType){case"signIn":const Qe=yield dr._fromIdTokenResponse(v,g.operationType,qe);return yield v._updateCurrentUser(Qe.user),Qe;case"reauthenticate":return re(g.user,v,"internal-error"),dr._forOperation(g.user,g.operationType,qe);default:pe(v,"internal-error")}});return function(Ie){return J.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,u.Z)(function*(){return g.signInResolver(h)})()}}class ua{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(v=>el._fromServerResponse(h.auth,v)))})}static _fromUser(h){return new ua(h)}getSession(){var h=this;return(0,u.Z)(function*(){return ot._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,g){var v=this;return(0,u.Z)(function*(){const b=h,M=yield v.getSession(),H=yield mn(v.user,b._process(v.user.auth,M,g));return yield v.user._updateTokensIfNecessary(H),v.user.reload()})()}unenroll(h){var g=this;return(0,u.Z)(function*(){const v="string"==typeof h?h:h.uid,b=yield g.user.getIdToken();try{const M=yield mn(g.user,function To(_,h){return Mt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Ze(_,h))}(g.user.auth,{idToken:b,mfaEnrollmentId:v}));g.enrolledFactors=g.enrolledFactors.filter(({uid:H})=>H!==v),yield g.user._updateTokensIfNecessary(M),yield g.user.reload()}catch(M){throw M}})()}}const ca=new WeakMap,bo="__sak";class Xc{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(bo,"1"),this.storage.removeItem(bo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const _n=(()=>{class _ extends Xc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,v)=>this.onStorageEvent(g,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function De(){const _=(0,x.z$)();return ie(_)||gt(_)}()&&function Lr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Oi(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const v of Object.keys(this.listeners)){const b=this.storage.getItem(v),M=this.localCache[v];b!==M&&g(v,M,b)}}onStorageEvent(g,v=!1){if(!g.key)return void this.forAllChangedKeys((J,Ie,Ue)=>{this.notifyListeners(J,Ue)});const b=g.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const J=this.storage.getItem(b);if(g.newValue!==J)null!==g.newValue?this.storage.setItem(b,g.newValue):this.storage.removeItem(b);else if(this.localCache[b]===g.newValue&&!v)return}const M=()=>{const J=this.storage.getItem(b);!v&&this.localCache[b]===J||this.notifyListeners(b,J)},H=this.storage.getItem(b);!function Zr(){return(0,x.w1)()&&10===document.documentMode}()||H===g.newValue||g.newValue===g.oldValue?M():setTimeout(M,10)}notifyListeners(g,v){this.localCache[g]=v;const b=this.listeners[g];if(b)for(const M of Array.from(b))M(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,v,b)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:v,newValue:b}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,v){var b=()=>super._set,M=this;return(0,u.Z)(function*(){yield b().call(M,g,v),M.localCache[g]=JSON.stringify(v)})()}_get(g){var v=()=>super._get,b=this;return(0,u.Z)(function*(){const M=yield v().call(b,g);return b.localCache[g]=JSON.stringify(M),M})()}_remove(g){var v=()=>super._remove,b=this;return(0,u.Z)(function*(){yield v().call(b,g),delete b.localCache[g]})()}}return _.type="LOCAL",_})(),Xr=(()=>{class _ extends Xc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,v){}_removeListener(g,v){}}return _.type="SESSION",_})();let da=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const v=this.receivers.find(M=>M.isListeningto(g));if(v)return v;const b=new _(g);return this.receivers.push(b),b}isListeningto(g){return this.eventTarget===g}handleEvent(g){var v=this;return(0,u.Z)(function*(){const b=g,{eventId:M,eventType:H,data:J}=b.data,Ie=v.handlersMap[H];if(!Ie?.size)return;b.ports[0].postMessage({status:"ack",eventId:M,eventType:H});const Ue=Array.from(Ie).map(function(){var Qe=(0,u.Z)(function*(Cn){return Cn(b.origin,J)});return function(Cn){return Qe.apply(this,arguments)}}()),qe=yield function Qi(_){return Promise.all(_.map(function(){var h=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(v){return{fulfilled:!1,reason:v}}});return function(g){return h.apply(this,arguments)}}()))}(Ue);b.ports[0].postMessage({status:"done",eventId:M,eventType:H,response:qe})})()}_subscribe(g,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(v)}_unsubscribe(g,v){this.handlersMap[g]&&v&&this.handlersMap[g].delete(v),(!v||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Io(_="",h=10){let g="";for(let v=0;v<h;v++)g+=Math.floor(10*Math.random());return _+g}class h_{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,v=50){var b=this;return(0,u.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let H,J;return new Promise((Ie,Ue)=>{const qe=Io("",20);M.port1.start();const Qe=setTimeout(()=>{Ue(new Error("unsupported_event"))},v);J={messageChannel:M,onMessage(Cn){const ts=Cn;if(ts.data.eventId===qe)switch(ts.data.status){case"ack":clearTimeout(Qe),H=setTimeout(()=>{Ue(new Error("timeout"))},3e3);break;case"done":clearTimeout(H),Ie(ts.data.response);break;default:clearTimeout(Qe),clearTimeout(H),Ue(new Error("invalid_response"))}}},b.handlers.add(J),M.port1.addEventListener("message",J.onMessage),b.target.postMessage({eventType:h,eventId:qe,data:g},[M.port2])}).finally(()=>{J&&b.removeMessageHandler(J)})})()}}function Rn(){return window}function hr(){return typeof Rn().WorkerGlobalScope<"u"&&"function"==typeof Rn().importScripts}function hl(){return(hl=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ed="firebaseLocalStorageDb",ha="firebaseLocalStorage",fl="fbase_key";class Ds{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function fa(_,h){return _.transaction([ha],h?"readwrite":"readonly").objectStore(ha)}function pl(){const _=indexedDB.open(ed,1);return new Promise((h,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const v=_.result;try{v.createObjectStore(ha,{keyPath:fl})}catch(b){g(b)}}),_.addEventListener("success",(0,u.Z)(function*(){const v=_.result;v.objectStoreNames.contains(ha)?h(v):(v.close(),yield function td(){const _=indexedDB.deleteDatabase(ed);return new Ds(_).toPromise()}(),h(yield pl()))}))})}function gl(_,h,g){return pa.apply(this,arguments)}function pa(){return(pa=(0,u.Z)(function*(_,h,g){const v=fa(_,!0).put({[fl]:h,value:g});return new Ds(v).toPromise()})).apply(this,arguments)}function pi(){return(pi=(0,u.Z)(function*(_,h){const g=fa(_,!1).get(h),v=yield new Ds(g).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Ru(_,h){const g=fa(_,!0).delete(h);return new Ds(g).toPromise()}const ga=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield pl()),g.db})()}_withRetries(g){var v=this;return(0,u.Z)(function*(){let b=0;for(;;)try{const M=yield v._openDb();return yield g(M)}catch(M){if(b++>3)throw M;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return hr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=da._getInstance(function nn(){return hr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var v=(0,u.Z)(function*(b,M){return{keyProcessed:(yield g._poll()).includes(M.key)}});return function(b,M){return v.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var v=(0,u.Z)(function*(b,M){return["keyChanged"]});return function(b,M){return v.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var v,b;if(g.activeServiceWorker=yield function Ji(){return hl.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new h_(g.activeServiceWorker);const M=yield g.sender._send("ping",{},800);M&&null!==(v=M[0])&&void 0!==v&&v.fulfilled&&null!==(b=M[0])&&void 0!==b&&b.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var v=this;return(0,u.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function ws(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:g},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield pl();return yield gl(g,bo,"1"),yield Ru(g,bo),!0}catch{}return!1})()}_withPendingWrite(g){var v=this;return(0,u.Z)(function*(){v.pendingWrites++;try{yield g()}finally{v.pendingWrites--}})()}_set(g,v){var b=this;return(0,u.Z)(function*(){return b._withPendingWrite((0,u.Z)(function*(){return yield b._withRetries(M=>gl(M,g,v)),b.localCache[g]=v,b.notifyServiceWorker(g)}))})()}_get(g){var v=this;return(0,u.Z)(function*(){const b=yield v._withRetries(M=>function So(_,h){return pi.apply(this,arguments)}(M,g));return v.localCache[g]=b,b})()}_remove(g){var v=this;return(0,u.Z)(function*(){return v._withPendingWrite((0,u.Z)(function*(){return yield v._withRetries(b=>Ru(b,g)),delete v.localCache[g],v.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const v=yield g._withRetries(H=>{const J=fa(H,!1).getAll();return new Ds(J).toPromise()});if(!v)return[];if(0!==g.pendingWrites)return[];const b=[],M=new Set;for(const{fbase_key:H,value:J}of v)M.add(H),JSON.stringify(g.localCache[H])!==JSON.stringify(J)&&(g.notifyListeners(H,J),b.push(H));for(const H of Object.keys(g.localCache))g.localCache[H]&&!M.has(H)&&(g.notifyListeners(H,null),b.push(H));return b})()}notifyListeners(g,v){this.localCache[g]=v;const b=this.listeners[g];if(b)for(const M of Array.from(b))M(v)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),ma=1e12;class Bh{constructor(h){this.auth=h,this.counter=ma,this._widgets=new Map}render(h,g){const v=this.counter;return this._widgets.set(v,new rd(h,this.auth.name,g||{})),this.counter++,v}reset(h){var g;const v=h||ma;null===(g=this._widgets.get(v))||void 0===g||g.delete(),this._widgets.delete(v)}getResponse(h){var g;return(null===(g=this._widgets.get(h||ma))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,u.Z)(function*(){var v;return null===(v=g._widgets.get(h||ma))||void 0===v||v.execute(),""})()}}class rd{constructor(h,g,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const b="string"==typeof h?document.getElementById(h):h;re(b,"argument-error",{appName:g}),this.container=b,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Hh(_){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<_;v++)h.push(g.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _a=gs("rcb"),_l=new Ee(3e4,6e4);class id{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Rn().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return re(function ya(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),h,"argument-error"),this.shouldResolveImmediately(g)&&St(Rn().grecaptcha)?Promise.resolve(Rn().grecaptcha):new Promise((v,b)=>{const M=Rn().setTimeout(()=>{b(Y(h,"network-request-failed"))},_l.get());Rn()[_a]=()=>{Rn().clearTimeout(M),delete Rn()[_a];const J=Rn().grecaptcha;if(!J||!St(J))return void b(Y(h,"internal-error"));const Ie=J.render;J.render=(Ue,qe)=>{const Qe=Ie(Ue,qe);return this.counter++,Qe},this.hostLanguage=g,v(J)},Wi(`https://www.google.com/recaptcha/api.js??${(0,x.xO)({onload:_a,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(M),b(Y(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=Rn().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pu{load(h){return(0,u.Z)(function*(){return new Bh(h)})()}clearedOneInstance(){}}const Ao="recaptcha",sd={theme:"light",type:"image"};class Ou{constructor(h,g=Object.assign({},sd),v){this.parameters=g,this.type=Ao,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=kn(v),this.isInvisible="invisible"===this.parameters.size,re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const b="string"==typeof h?document.getElementById(h):h;re(b,this.auth,"argument-error"),this.container=b,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pu:new id,this.validateStartingState()}verify(){var h=this;return(0,u.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),v=h.getAssertedRecaptcha();return v.getResponse(g)||new Promise(M=>{const H=J=>{J&&(h.tokenChangeListeners.delete(H),M(J))};h.tokenChangeListeners.add(H),h.isInvisible&&v.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(v=>v(g)),"function"==typeof h)h(g);else if("string"==typeof h){const v=Rn()[h];"function"==typeof v&&v(g)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,u.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const v=document.createElement("div");g.appendChild(v),g=v}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,u.Z)(function*(){re(br()&&!hr(),h.auth,"internal-error"),yield function jh(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function te(_){return Me.apply(this,arguments)}(h.auth);re(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class yl{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=Sn._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function Kn(){return(Kn=(0,u.Z)(function*(_,h,g){const v=kn(_),b=yield Mo(v,h,(0,x.m9)(g));return new yl(b,M=>ta(v,M))})).apply(this,arguments)}function vl(){return(vl=(0,u.Z)(function*(_,h,g){const v=(0,x.m9)(_);yield ea(!1,v,"phone");const b=yield Mo(v.auth,h,(0,x.m9)(g));return new yl(b,M=>Op(v,M))})).apply(this,arguments)}function xu(){return(xu=(0,u.Z)(function*(_,h,g){const v=(0,x.m9)(_),b=yield Mo(v.auth,h,(0,x.m9)(g));return new yl(b,M=>Mn(v,M))})).apply(this,arguments)}function Mo(_,h,g){return ku.apply(this,arguments)}function ku(){return ku=(0,u.Z)(function*(_,h,g){var v;const b=yield g.verify();try{let M;if(re("string"==typeof b,_,"argument-error"),re(g.type===Ao,_,"argument-error"),M="string"==typeof h?{phoneNumber:h}:h,"session"in M){const H=M.session;if("phoneNumber"in M)return re("enroll"===H.type,_,"internal-error"),(yield function Su(_,h){return Mt(_,"POST","/v2/accounts/mfaEnrollment:start",Ze(_,h))}(_,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:b}})).phoneSessionInfo.sessionInfo;{re("signin"===H.type,_,"internal-error");const J=(null===(v=M.multiFactorHint)||void 0===v?void 0:v.uid)||M.multiFactorUid;return re(J,_,"missing-multi-factor-info"),(yield function Uh(_,h){return Mt(_,"POST","/v2/accounts/mfaSignIn:start",Ze(_,h))}(_,{mfaPendingCredential:H.credential,mfaEnrollmentId:J,phoneSignInInfo:{recaptchaToken:b}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield function Uc(_,h){return xi.apply(this,arguments)}(_,{phoneNumber:M.phoneNumber,recaptchaToken:b});return H}}finally{g._reset()}}),ku.apply(this,arguments)}function Hs(){return(Hs=(0,u.Z)(function*(_,h){yield pu((0,x.m9)(_),h)})).apply(this,arguments)}let Nn=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=kn(g)}verifyPhoneNumber(g,v){return Mo(this.auth,g,(0,x.m9)(v))}static credential(g,v){return Sn._fromVerification(g,v)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:v,temporaryProof:b}=g;return v&&b?Sn._fromTokenResponse(v,b):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function _t(_,h){return h?qt(h):(re(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class ei extends zi{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return nr(h,this._buildIdpRequest())}_linkToIdToken(h,g){return nr(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return nr(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function Ca(_){return jc(_.auth,new ei(_),_.bypassAuthState)}function wa(_){const{auth:h,user:g}=_;return re(g,h,"internal-error"),Ph(g,new ei(_),_.bypassAuthState)}function Ts(_){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,u.Z)(function*(_){const{auth:h,user:g}=_;return re(g,h,"internal-error"),pu(g,new ei(_),_.bypassAuthState)})).apply(this,arguments)}class Da{constructor(h,g,v,b,M=!1){this.auth=h,this.resolver=v,this.user=b,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,u.Z)(function*(v,b){h.pendingPromise={resolve:v,reject:b};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(M){h.reject(M)}});return function(v,b){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,u.Z)(function*(){const{urlResponse:v,sessionId:b,postBody:M,tenantId:H,error:J,type:Ie}=h;if(J)return void g.reject(J);const Ue={auth:g.auth,requestUri:v,sessionId:b,tenantId:H||void 0,postBody:M||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ie)(Ue))}catch(qe){g.reject(qe)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Ca;case"linkViaPopup":case"linkViaRedirect":return Ts;case"reauthViaPopup":case"reauthViaRedirect":return wa;default:pe(this.auth,"internal-error")}}resolve(h){xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ir=new Ee(2e3,1e4);function mi(){return(mi=(0,u.Z)(function*(_,h,g){const v=kn(_);Te(_,h,ki);const b=_t(v,g);return new Li(v,"signInViaPopup",h,b).executeNotNull()})).apply(this,arguments)}function Ro(){return(Ro=(0,u.Z)(function*(_,h,g){const v=(0,x.m9)(_);Te(v.auth,h,ki);const b=_t(v.auth,g);return new Li(v.auth,"reauthViaPopup",h,b,v).executeNotNull()})).apply(this,arguments)}function El(){return(El=(0,u.Z)(function*(_,h,g){const v=(0,x.m9)(_);Te(v.auth,h,ki);const b=_t(v.auth,g);return new Li(v.auth,"linkViaPopup",h,b,v).executeNotNull()})).apply(this,arguments)}let Li=(()=>{class _ extends Da{constructor(g,v,b,M,H){super(g,v,M,H),this.provider=b,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const v=yield g.execute();return re(v,g.auth,"internal-error"),v})()}onExecution(){var g=this;return(0,u.Z)(function*(){xt(1===g.filter.length,"Popup operations only handle one event");const v=Io();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],v),g.authWindow.associatedEvent=v,g.resolver._originValidation(g.auth).catch(b=>{g.reject(b)}),g.resolver._isIframeWebStorageSupported(g.auth,b=>{b||g.reject(Y(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Y(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var v,b;this.pollId=null!==(b=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==b&&b.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Y(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,ir.get())};g()}}return _.currentPopupAction=null,_})();const ni="pendingRedirect",Ta=new Map;class pr extends Da{constructor(h,g,v=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,v),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,u.Z)(function*(){let v=Ta.get(g.auth._key());if(!v){try{const M=(yield function _i(_,h){return Lu.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;v=()=>Promise.resolve(M)}catch(b){v=()=>Promise.reject(b)}Ta.set(g.auth._key(),v)}return g.bypassAuthState||Ta.set(g.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,v=this;return(0,u.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(v,h);if("unknown"!==h.type){if(h.eventId){const b=yield v.auth._redirectUserForId(h.eventId);if(b)return v.user=b,g().call(v,h);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Lu(){return(Lu=(0,u.Z)(function*(_,h){const g=ba(h),v=ud(_);if(!(yield v._isAvailable()))return!1;const b="true"===(yield v._get(g));return yield v._remove(g),b})).apply(this,arguments)}function ld(_,h){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,u.Z)(function*(_,h){return ud(_)._set(ba(h),"true")})).apply(this,arguments)}function Vi(_,h){Ta.set(_._key(),h)}function ud(_){return qt(_._redirectPersistence)}function ba(_){return B(ni,_.config.apiKey,_.name)}function wl(_,h,g){return function js(_,h,g){return Dl.apply(this,arguments)}(_,h,g)}function Dl(){return(Dl=(0,u.Z)(function*(_,h,g){const v=kn(_);Te(_,h,ki),yield v._initializationPromise;const b=_t(v,g);return yield ld(b,v),b._openRedirect(v,h,"signInViaRedirect")})).apply(this,arguments)}function Ia(_,h,g){return function Tl(_,h,g){return bl.apply(this,arguments)}(_,h,g)}function bl(){return(bl=(0,u.Z)(function*(_,h,g){const v=(0,x.m9)(_);Te(v.auth,h,ki),yield v.auth._initializationPromise;const b=_t(v.auth,g);yield ld(b,v.auth);const M=yield yi(v);return b._openRedirect(v.auth,h,"reauthViaRedirect",M)})).apply(this,arguments)}function Uu(_,h,g){return function Bu(_,h,g){return bs.apply(this,arguments)}(_,h,g)}function bs(){return(bs=(0,u.Z)(function*(_,h,g){const v=(0,x.m9)(_);Te(v.auth,h,ki),yield v.auth._initializationPromise;const b=_t(v.auth,g);yield ea(!1,v,h.providerId),yield ld(b,v.auth);const M=yield yi(v);return b._openRedirect(v.auth,h,"linkViaRedirect",M)})).apply(this,arguments)}function Xi(){return(Xi=(0,u.Z)(function*(_,h){return yield kn(_)._initializationPromise,Gs(_,h,!1)})).apply(this,arguments)}function Gs(_,h){return No.apply(this,arguments)}function No(){return(No=(0,u.Z)(function*(_,h,g=!1){const v=kn(_),b=_t(v,h),H=yield new pr(v,b,g).execute();return H&&!g&&(delete H.user._redirectEventId,yield v._persistUserIfCurrent(H.user),yield v._setRedirectUser(null,h)),H})).apply(this,arguments)}function yi(_){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,u.Z)(function*(_){const h=Io(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class Sl{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(h,v)&&(g=!0,this.sendToConsumer(h,v),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Hu(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Po(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var v;if(h.error&&!Po(h)){const b=(null===(v=h.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";g.onError(Y(this.auth,b))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const v=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&v}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Aa(h))}saveEventToCache(h){this.cachedEventUids.add(Aa(h)),this.lastProcessedEventTime=Date.now()}}function Aa(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function Po({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===h?.code}function Gh(_){return cd.apply(this,arguments)}function cd(){return(cd=(0,u.Z)(function*(_,h={}){return Mt(_,"GET","/v1/projects",h)})).apply(this,arguments)}const Yn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ws=/^https?/;function fn(){return(fn=(0,u.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield Gh(_);for(const g of h)try{if(zh(g))return}catch{}pe(_,"unauthorized-domain")})).apply(this,arguments)}function zh(_){const h=Jn(),{protocol:g,hostname:v}=new URL(h);if(_.startsWith("chrome-extension://")){const H=new URL(_);return""===H.hostname&&""===v?"chrome-extension:"===g&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&H.hostname===v}if(!Ws.test(g))return!1;if(Yn.test(_))return v===_;const b=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+b+"|"+b+")$","i").test(v)}const Is=new Ee(3e4,6e4);function Al(){const _=Rn().___jsl;if(_?.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let vi=null;const Ma=new Ee(5e3,15e3),Ml="__/auth/iframe",Zh="emulator/auth/iframe",f_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fE(_){const h=_.config;re(h.authDomain,_,"auth-domain-config-required");const g=h.emulator?Ae(h,Zh):`https://${_.config.authDomain}/${Ml}`,v={apiKey:h.apiKey,appName:_.name,v:X.SDK_VERSION},b=Bp.get(_.config.apiHost);b&&(v.eid=b);const M=_._getFrameworks();return M.length&&(v.fw=M.join(",")),`${g}?${(0,x.xO)(v).slice(1)}`}function T(){return T=(0,u.Z)(function*(_){const h=yield function Ss(_){return vi=vi||function Ln(_){return new Promise((h,g)=>{var v,b,M;function H(){Al(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Al(),g(Y(_,"network-request-failed"))},timeout:Is.get()})}if(null!==(b=null===(v=Rn().gapi)||void 0===v?void 0:v.iframes)&&void 0!==b&&b.Iframe)h(gapi.iframes.getContext());else{if(null===(M=Rn().gapi)||void 0===M||!M.load){const J=gs("iframefcb");return Rn()[J]=()=>{gapi.load?H():g(Y(_,"network-request-failed"))},Wi(`https://apis.google.com/js/api.js?onload=${J}`).catch(Ie=>g(Ie))}H()}}).catch(h=>{throw vi=null,h})}(_),vi}(_),g=Rn().gapi;return re(g,_,"internal-error"),h.open({where:document.body,url:fE(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f_,dontclear:!0},v=>new Promise(function(){var b=(0,u.Z)(function*(M,H){yield v.restyle({setHideOnLeave:!1});const J=Y(_,"network-request-failed"),Ie=Rn().setTimeout(()=>{H(J)},Ma.get());function Ue(){Rn().clearTimeout(Ie),M(v)}v.ping(Ue).then(Ue,()=>{H(J)})});return function(M,H){return b.apply(this,arguments)}}()))}),T.apply(this,arguments)}const A={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class We{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ft="__/auth/handler",pt="emulator/auth/handler",sr=encodeURIComponent("fac");function Gn(_,h,g,v,b,M){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,u.Z)(function*(_,h,g,v,b,M){re(_.config.authDomain,_,"auth-domain-config-required"),re(_.config.apiKey,_,"invalid-api-key");const H={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:v,v:X.SDK_VERSION,eventId:b};if(h instanceof ki){h.setDefaultLanguage(_.languageCode),H.providerId=h.providerId||"",(0,x.xb)(h.getCustomParameters())||(H.customParameters=JSON.stringify(h.getCustomParameters()));for(const[qe,Qe]of Object.entries(M||{}))H[qe]=Qe}if(h instanceof Ar){const qe=h.getScopes().filter(Qe=>""!==Qe);qe.length>0&&(H.scopes=qe.join(","))}_.tenantId&&(H.tid=_.tenantId);const J=H;for(const qe of Object.keys(J))void 0===J[qe]&&delete J[qe];const Ie=yield _._getAppCheckToken(),Ue=Ie?`#${sr}=${encodeURIComponent(Ie)}`:"";return`${function ju({config:_}){return _.emulator?Ae(_,pt):`https://${_.authDomain}/${ft}`}(_)}?${(0,x.xO)(J).slice(1)}${Ue}`})).apply(this,arguments)}const jr="webStorageSupport",Ci=class ri{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xr,this._completeRedirectFn=Gs,this._overrideRedirectResult=Vi}_openPopup(h,g,v,b){var M=this;return(0,u.Z)(function*(){var H;xt(null===(H=M.eventManagers[h._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const J=yield Gn(h,g,v,Jn(),b);return function ke(_,h,g,v=500,b=600){const M=Math.max((window.screen.availHeight-b)/2,0).toString(),H=Math.max((window.screen.availWidth-v)/2,0).toString();let J="";const Ie=Object.assign(Object.assign({},A),{width:v.toString(),height:b.toString(),top:M,left:H}),Ue=(0,x.z$)().toLowerCase();g&&(J=Ye(Ue)?"_blank":g),ye(Ue)&&(h=h||"http://localhost",Ie.scrollbars="yes");const qe=Object.entries(Ie).reduce((Cn,[ts,bd])=>`${Cn}${ts}=${bd},`,"");if(function tr(_=(0,x.z$)()){var h;return gt(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Ue)&&"_self"!==J)return function Je(_,h){const g=document.createElement("a");g.href=_,g.target=h;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(v)}(h||"",J),new We(null);const Qe=window.open(h||"",J,qe);re(Qe,_,"popup-blocked");try{Qe.focus()}catch{}return new We(Qe)}(h,J,Io())})()}_openRedirect(h,g,v,b){var M=this;return(0,u.Z)(function*(){return yield M._originValidation(h),function Mu(_){Rn().location.href=_}(yield Gn(h,g,v,Jn(),b)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:b,promise:M}=this.eventManagers[g];return b?Promise.resolve(b):(xt(M,"If manager is not set, promise should be"),M)}const v=this.initAndGetManager(h);return this.eventManagers[g]={promise:v},v.catch(()=>{delete this.eventManagers[g]}),v}initAndGetManager(h){var g=this;return(0,u.Z)(function*(){const v=yield function C(_){return T.apply(this,arguments)}(h),b=new Sl(h);return v.register("authEvent",M=>(re(M?.authEvent,h,"invalid-auth-event"),{status:b.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:b},g.iframes[h._key()]=v,b})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(jr,{type:jr},b=>{var M;const H=null===(M=b?.[0])||void 0===M?void 0:M[jr];void 0!==H&&g(!!H),pe(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Wh(_){return fn.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return Oi()||ie()||gt()}};class Ra{constructor(h){this.factorId=h}_process(h,g,v){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,v);case"signin":return this._finalizeSignIn(h,g.credential);default:return Le("unexpected MultiFactorSessionType")}}}class Oo extends Ra{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Oo(h)}_finalizeEnroll(h,g,v){return function Lh(_,h){return Mt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Ze(_,h))}(h,{idToken:g,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function Mr(_,h){return Mt(_,"POST","/v2/accounts/mfaSignIn:finalize",Ze(_,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let p_=(()=>{class _{constructor(){}static assertion(g){return Oo._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var $u="@firebase/auth";class Nl{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(v=>{h(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xo(){return window}(0,x.Pz)("authIdTokenMaxAge"),function Kh(_){(0,X._registerComponent)(new he.wA("auth",(h,{options:g})=>{const v=h.getProvider("app").getImmediate(),b=h.getProvider("heartbeat"),M=h.getProvider("app-check-internal"),{apiKey:H,authDomain:J}=v.options;re(H&&!H.includes(":"),"invalid-api-key",{appName:v.name});const Ie={apiKey:H,authDomain:J,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ce(_)},Ue=new kc(v,b,M,Ie);return function Ah(_,h){const g=h?.persistence||[],v=(Array.isArray(g)?g:[g]).map(qt);h?.errorMap&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(v,h?.popupRedirectResolver)}(Ue,g),Ue},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,v)=>{h.getProvider("auth-internal").initialize()})),(0,X._registerComponent)(new he.wA("auth-internal",h=>{const g=kn(h.getProvider("auth").getImmediate());return new Nl(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,X.registerVersion)($u,"0.23.2",function hd(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,X.registerVersion)($u,"0.23.2","esm2017")}("Browser");function pd(){return pd=(0,u.Z)(function*(_,h,g){var v;const{BuildInfo:b}=xo();xt(h.sessionId,"AuthEvent did not contain a session ID");const M=yield function Xh(_){return ef.apply(this,arguments)}(h.sessionId),H={};return gt()?H.ibi=b.packageName:Ct()?H.apn=b.packageName:pe(_,"operation-not-supported-in-this-environment"),b.displayName&&(H.appDisplayName=b.displayName),H.sessionId=M,Gn(_,g,h.type,void 0,null!==(v=h.eventId)&&void 0!==v?v:void 0,H)}),pd.apply(this,arguments)}function Qh(){return(Qh=(0,u.Z)(function*(_){const{BuildInfo:h}=xo(),g={};gt()?g.iosBundleId=h.packageName:Ct()?g.androidPackageName=h.packageName:pe(_,"operation-not-supported-in-this-environment"),yield Gh(_,g)})).apply(this,arguments)}function y_(){return(y_=(0,u.Z)(function*(_,h,g){const{cordova:v}=xo();let b=()=>{};try{yield new Promise((M,H)=>{let J=null;function Ie(){var Qe;M();const Cn=null===(Qe=v.plugins.browsertab)||void 0===Qe?void 0:Qe.close;"function"==typeof Cn&&Cn(),"function"==typeof g?.close&&g.close()}function Ue(){J||(J=window.setTimeout(()=>{H(Y(_,"redirect-cancelled-by-user"))},2e3))}function qe(){"visible"===document?.visibilityState&&Ue()}h.addPassiveListener(Ie),document.addEventListener("resume",Ue,!1),Ct()&&document.addEventListener("visibilitychange",qe,!1),b=()=>{h.removePassiveListener(Ie),document.removeEventListener("resume",Ue,!1),document.removeEventListener("visibilitychange",qe,!1),J&&window.clearTimeout(J)}})}finally{b()}})).apply(this,arguments)}function ef(){return(ef=(0,u.Z)(function*(_){const h=function Gp(_){if(xt(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const h=new ArrayBuffer(_.length),g=new Uint8Array(h);for(let v=0;v<_.length;v++)g[v]=_.charCodeAt(v);return g}(_),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map(b=>b.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class LD extends Sl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,u.Z)(function*(){yield h.initPromise})()}}function zs(_){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,u.Z)(function*(_){const h=yield rf()._get(ko(_));return h&&(yield rf()._remove(ko(_))),h})).apply(this,arguments)}function nf(){const _=[];for(let g=0;g<20;g++){const v=Math.floor(62*Math.random());_.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(v))}return _.join("")}function rf(){return qt(_n)}function ko(_){return B("authEvent",_.config.apiKey,_.name)}function Ol(_){if(!_?.includes("?"))return{};const[h,...g]=_.split("?");return(0,x.zd)(g.join("?"))}const v_=class mE{constructor(){this._redirectPersistence=Xr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Gs,this._overrideRedirectResult=Vi}_initialize(h){var g=this;return(0,u.Z)(function*(){const v=h._key();let b=g.eventManagers.get(v);return b||(b=new LD(h),g.eventManagers.set(v,b),g.attachCallbackListeners(h,b)),b})()}_openPopup(h){pe(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,v,b){var M=this;return(0,u.Z)(function*(){!function $p(_){var h,g,v,b,M,H,J,Ie,Ue,qe;const Qe=xo();re("function"==typeof(null===(h=Qe?.universalLinks)||void 0===h?void 0:h.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),re(typeof(null===(g=Qe?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),re("function"==typeof(null===(M=null===(b=null===(v=Qe?.cordova)||void 0===v?void 0:v.plugins)||void 0===b?void 0:b.browsertab)||void 0===M?void 0:M.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(Ie=null===(J=null===(H=Qe?.cordova)||void 0===H?void 0:H.plugins)||void 0===J?void 0:J.browsertab)||void 0===Ie?void 0:Ie.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(qe=null===(Ue=Qe?.cordova)||void 0===Ue?void 0:Ue.InAppBrowser)||void 0===qe?void 0:qe.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const H=yield M._initialize(h);yield H.initialized(),H.resetRedirect(),function Cl(){Ta.clear()}(),yield M._originValidation(h);const J=function gE(_,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:nf(),postBody:null,tenantId:_.tenantId,error:Y(_,"no-auth-event")}}(h,v,b);yield function Wu(_,h){return rf()._set(ko(_),h)}(h,J);const Ie=yield function __(_,h,g){return pd.apply(this,arguments)}(h,J,g),Ue=yield function Jh(_){const{cordova:h}=xo();return new Promise(g=>{h.plugins.browsertab.isAvailable(v=>{let b=null;v?h.plugins.browsertab.openUrl(_):b=h.InAppBrowser.open(_,function Lt(_=(0,x.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(b)})})}(Ie);return function jp(_,h,g){return y_.apply(this,arguments)}(h,H,Ue)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function FD(_){return Qh.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:v,handleOpenURL:b,BuildInfo:M}=xo(),H=setTimeout((0,u.Z)(function*(){yield zs(h),g.onEvent(lf())}),500),J=function(){var qe=(0,u.Z)(function*(Qe){clearTimeout(H);const Cn=yield zs(h);let ts=null;Cn&&Qe?.url&&(ts=function tf(_,h){var g,v;const b=function af(_){const h=Ol(_),g=h.link?decodeURIComponent(h.link):void 0,v=Ol(g).link,b=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Ol(b).link||b||v||g||_}(h);if(b.includes("/__/auth/callback")){const M=Ol(b),H=M.firebaseError?function sf(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(M.firebaseError)):null,J=null===(v=null===(g=H?.code)||void 0===g?void 0:g.split("auth/"))||void 0===v?void 0:v[1],Ie=J?Y(J):null;return Ie?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ie,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:b,postBody:null}}return null}(Cn,Qe.url)),g.onEvent(ts||lf())});return function(Cn){return qe.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,J);const Ie=b,Ue=`${M.packageName.toLowerCase()}://`;xo().handleOpenURL=function(){var qe=(0,u.Z)(function*(Qe){if(Qe.toLowerCase().startsWith(Ue)&&J({url:Qe}),"function"==typeof Ie)try{Ie(Qe)}catch(Cn){console.error(Cn)}});return function(Qe){return qe.apply(this,arguments)}}()}};function lf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Y("no-auth-event")}}function Zu(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function zp(_=(0,x.z$)()){return!("file:"!==Zu()&&"ionic:"!==Zu()&&"capacitor:"!==Zu()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function md(){try{const _=self.localStorage,h=Io();if(_)return _.setItem(h,"1"),_.removeItem(h),!function hf(_=(0,x.z$)()){return function $r(){return(0,x.w1)()&&11===document?.documentMode}()||function df(_=(0,x.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,x.hl)()}catch{return or()&&(0,x.hl)()}return!1}function or(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fo(){return(function cf(){return"http:"===Zu()||"https:"===Zu()}()||(0,x.ru)()||zp())&&!function _E(){return(0,x.b$)()||(0,x.UG)()}()&&md()&&!or()}function ff(){return zp()&&typeof document<"u"}function gf(){return(gf=(0,u.Z)(function*(){return!!ff()&&new Promise(_=>{const h=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),_(!0)})})})).apply(this,arguments)}const Di={LOCAL:"local",NONE:"none",SESSION:"session"},Lo=re,Zp="persistence";function vd(_){return mf.apply(this,arguments)}function mf(){return(mf=(0,u.Z)(function*(_){yield _._initializationPromise;const h=Cd(),g=B(Zp,_.config.apiKey,_.name);h&&h.setItem(g,_._getPersistence())})).apply(this,arguments)}function Cd(){var _;try{return(null===(_=function _d(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const qp=re;class Ui{constructor(){this.browserResolver=qt(Ci),this.cordovaResolver=qt(v_),this.underlyingResolver=null,this._redirectPersistence=Xr,this._completeRedirectFn=Gs,this._overrideRedirectResult=Vi}_initialize(h){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,v,b){var M=this;return(0,u.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(h,g,v,b)})()}_openRedirect(h,g,v,b){var M=this;return(0,u.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(h,g,v,b)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return ff()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,u.Z)(function*(){if(h.underlyingResolver)return;const g=yield function pf(){return gf.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function xl(_){return _.unwrap()}function yf(_){return vf(_)}function vf(_){const{_tokenResponse:h}=_ instanceof x.ZR?_.customData:_;if(!h)return null;if(!(_ instanceof x.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return Nn.credentialFromResult(_);const g=h.providerId;if(!g||g===ue.PASSWORD)return null;let v;switch(g){case ue.GOOGLE:v=Fs;break;case ue.FACEBOOK:v=ks;break;case ue.GITHUB:v=$n;break;case ue.TWITTER:v=qi;break;default:const{oauthIdToken:b,oauthAccessToken:M,oauthTokenSecret:H,pendingToken:J,nonce:Ie}=h;return M||H||b||J?J?g.startsWith("saml.")?An._create(g,J):Sr._fromParams({providerId:g,signInMethod:g,pendingToken:J,idToken:b,accessToken:M}):new Qr(g).credential({idToken:b,accessToken:M,rawNonce:Ie}):null}return _ instanceof x.ZR?v.credentialFromError(_):v.credentialFromResult(_)}function gr(_,h){return h.catch(g=>{throw g instanceof x.ZR&&function wd(_,h){var g;const v=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new Dd(_,function Yc(_,h){var g;const v=(0,x.m9)(_),b=h;return re(h.customData.operationType,v,"argument-error"),re(null===(g=b.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,v,"argument-error"),Cs._fromError(v,b)}(_,h));else if(v){const b=vf(h),M=h;b&&(M.credential=b,M.tenantId=v.tenantId||void 0,M.email=v.email||void 0,M.phoneNumber=v.phoneNumber||void 0)}}(_,g),g}).then(g=>{const b=g.user;return{operationType:g.operationType,credential:yf(g),additionalUserInfo:qn(g),user:Ti.getOrCreate(b)}})}function Vo(_,h){return kl.apply(this,arguments)}function kl(){return(kl=(0,u.Z)(function*(_,h){const g=yield h;return{verificationId:g.verificationId,confirm:v=>gr(_,g.confirm(v))}})).apply(this,arguments)}class Dd{constructor(h,g){this.resolver=g,this.auth=function _f(_){return _.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return gr(xl(this.auth),this.resolver.resolveSignIn(h))}}class Ti{constructor(h){this._delegate=h,this.multiFactor=function cl(_){const h=(0,x.m9)(_);return ca.has(h)||ca.set(h,ua._fromUser(h)),ca.get(h)}(h)}static getOrCreate(h){return Ti.USER_MAP.has(h)||Ti.USER_MAP.set(h,new Ti(h)),Ti.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,u.Z)(function*(){return gr(g.auth,Op(g._delegate,h))})()}linkWithPhoneNumber(h,g){var v=this;return(0,u.Z)(function*(){return Vo(v.auth,function $h(_,h,g){return vl.apply(this,arguments)}(v._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,u.Z)(function*(){return gr(g.auth,function ad(_,h,g){return El.apply(this,arguments)}(g._delegate,h,Ui))})()}linkWithRedirect(h){var g=this;return(0,u.Z)(function*(){return yield vd(kn(g.auth)),Uu(g._delegate,h,Ui)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,u.Z)(function*(){return gr(g.auth,Mn(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return Vo(this.auth,function va(_,h,g){return xu.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return gr(this.auth,function od(_,h,g){return Ro.apply(this,arguments)}(this._delegate,h,Ui))}reauthenticateWithRedirect(h){var g=this;return(0,u.Z)(function*(){return yield vd(kn(g.auth)),Ia(g._delegate,h,Ui)})()}sendEmailVerification(h){return function il(_,h){return aa.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,u.Z)(function*(){return yield function Pp(_,h){return Fi.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function Fh(_,h){return Zc((0,x.m9)(_),h,null)}(this._delegate,h)}updatePassword(h){return function fi(_,h){return Zc((0,x.m9)(_),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Ea(_,h){return Hs.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Lp(_,h){return Co.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function Cu(_,h,g){return sl.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ti.USER_MAP=new WeakMap;const es=re;let Kp=(()=>{class _{constructor(g,v){if(this.app=g,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:b}=g.options;es(b,"invalid-api-key",{appName:g.name}),es(b,"invalid-api-key",{appName:g.name});const M=typeof window<"u"?Ui:void 0;this._delegate=v.initialize({options:{persistence:E_(b,g.name),popupRedirectResolver:M}}),this._delegate._updateErrorMap($e),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ti.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,v){!function Qa(_,h,g){const v=kn(_);re(v._canInitEmulator,v,"emulator-config-failed"),re(/^https?:\/\//.test(h),v,"invalid-emulator-scheme");const b=!!g?.disableWarnings,M=Os(h),{host:H,port:J}=function Fc(_){const h=Os(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!g)return{host:"",port:null};const v=g[2].split("@").pop()||"",b=/^(\[[^\]]+\])(:|$)/.exec(v);if(b){const M=b[1];return{host:M,port:Lc(v.substr(M.length+1))}}{const[M,H]=v.split(":");return{host:M,port:Lc(H)}}}(h);v.config.emulator={url:`${M}//${H}${null===J?"":`:${J}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:H,port:J,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:b})}),b||function Mp(){function _(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,v)}applyActionCode(g){return function nl(_,h){return Jr.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return sa(this._delegate,g)}confirmPasswordReset(g,v){return function tl(_,h,g){return Fn.apply(this,arguments)}(this._delegate,g,v)}createUserWithEmailAndPassword(g,v){var b=this;return(0,u.Z)(function*(){return gr(b._delegate,function xh(_,h,g){return oa.apply(this,arguments)}(b._delegate,g,v))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function zc(_,h){return Eu.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Fp(_,h){const g=Ot.parseLink(h);return"EMAIL_SIGNIN"===g?.operation}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){es(Fo(),g._delegate,"operation-not-supported-in-this-environment");const v=yield function $s(_,h){return Xi.apply(this,arguments)}(g._delegate,Ui);return v?gr(g._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Wp(_,h){kn(_)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,v,b){const{next:M,error:H,complete:J}=Ef(g,v,b);return this._delegate.onAuthStateChanged(M,H,J)}onIdTokenChanged(g,v,b){const{next:M,error:H,complete:J}=Ef(g,v,b);return this._delegate.onIdTokenChanged(M,H,J)}sendSignInLinkToEmail(g,v){return function rl(_,h,g){return Vs.apply(this,arguments)}(this._delegate,g,v)}sendPasswordResetEmail(g,v){return function kp(_,h,g){return Cr.apply(this,arguments)}(this._delegate,g,v||void 0)}setPersistence(g){var v=this;return(0,u.Z)(function*(){let b;switch(function yd(_,h){Lo(Object.values(Di).includes(h),_,"invalid-persistence-type"),(0,x.b$)()?Lo(h!==Di.SESSION,_,"unsupported-persistence-type"):(0,x.UG)()?Lo(h===Di.NONE,_,"unsupported-persistence-type"):or()?Lo(h===Di.NONE||h===Di.LOCAL&&(0,x.hl)(),_,"unsupported-persistence-type"):Lo(h===Di.NONE||md(),_,"unsupported-persistence-type")}(v._delegate,g),g){case Di.SESSION:b=Xr;break;case Di.LOCAL:b=(yield qt(ga)._isAvailable())?ga:_n;break;case Di.NONE:b=Ut;break;default:return pe("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(b)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return gr(this._delegate,function Np(_){return fu.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return gr(this._delegate,ta(this._delegate,g))}signInWithCustomToken(g){return gr(this._delegate,function Yi(_,h){return hi.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,v){return gr(this._delegate,function yu(_,h,g){return ta((0,x.m9)(_),Xa.credential(h,g))}(this._delegate,g,v))}signInWithEmailLink(g,v){return gr(this._delegate,function wr(_,h,g){return kh.apply(this,arguments)}(this._delegate,g,v))}signInWithPhoneNumber(g,v){return Vo(this._delegate,function gn(_,h,g){return Kn.apply(this,arguments)}(this._delegate,g,v))}signInWithPopup(g){var v=this;return(0,u.Z)(function*(){return es(Fo(),v._delegate,"operation-not-supported-in-this-environment"),gr(v._delegate,function ti(_,h,g){return mi.apply(this,arguments)}(v._delegate,g,Ui))})()}signInWithRedirect(g){var v=this;return(0,u.Z)(function*(){return es(Fo(),v._delegate,"operation-not-supported-in-this-environment"),yield vd(v._delegate),wl(v._delegate,g,Ui)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function vo(_,h){return Eo.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Di,_})();function Ef(_,h,g){let v=_;"function"!=typeof _&&({next:v,error:h,complete:g}=_);const b=v;return{next:H=>b(H&&Ti.getOrCreate(H)),error:h,complete:g}}function E_(_,h){const g=function Ed(_,h){const g=Cd();if(!g)return[];const v=B(Zp,_,h);switch(g.getItem(v)){case Di.NONE:return[Ut];case Di.LOCAL:return[ga,Xr];case Di.SESSION:return[Xr];default:return[]}}(_,h);if(typeof self<"u"&&!g.includes(ga)&&g.push(ga),typeof window<"u")for(const v of[_n,Xr])g.includes(v)||g.push(v);return g.includes(Ut)||g.push(Ut),g}class Td{constructor(){this.providerId="phone",this._delegate=new Nn(xl(Z.Z.auth()))}static credential(h,g){return Nn.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}Td.PHONE_SIGN_IN_METHOD=Nn.PHONE_SIGN_IN_METHOD,Td.PROVIDER_ID=Nn.PROVIDER_ID;const C_=re;class Yp{constructor(h,g,v=Z.Z.app()){var b;C_(null===(b=v.options)||void 0===b?void 0:b.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Ou(h,g,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Cf(_){_.INTERNAL.registerComponent(new he.wA("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),v=h.getProvider("auth");return new Kp(g,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Xa,FacebookAuthProvider:ks,GithubAuthProvider:$n,GoogleAuthProvider:Fs,OAuthProvider:Qr,SAMLAuthProvider:_o,PhoneAuthProvider:Td,PhoneMultiFactorGenerator:p_,RecaptchaVerifier:Yp,TwitterAuthProvider:qi,Auth:Kp,AuthCredential:zi,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.4.2")}(Z.Z)},5861:(Xe,ve,O)=>{function u(x,X,ee,ae,he,Se,ue){try{var U=x[Se](ue),j=U.value}catch(Q){return void ee(Q)}U.done?X(j):Promise.resolve(j).then(ae,he)}function Z(x){return function(){var X=this,ee=arguments;return new Promise(function(ae,he){var Se=x.apply(X,ee);function ue(j){u(Se,ae,he,ue,U,"next",j)}function U(j){u(Se,ae,he,ue,U,"throw",j)}ue(void 0)})}}O.d(ve,{Z:()=>Z})},7582:(Xe,ve,O)=>{function X(oe,ge){var Ee={};for(var Ae in oe)Object.prototype.hasOwnProperty.call(oe,Ae)&&ge.indexOf(Ae)<0&&(Ee[Ae]=oe[Ae]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(Ae=Object.getOwnPropertySymbols(oe);Ve<Ae.length;Ve++)ge.indexOf(Ae[Ve])<0&&Object.prototype.propertyIsEnumerable.call(oe,Ae[Ve])&&(Ee[Ae[Ve]]=oe[Ae[Ve]])}return Ee}function Q(oe,ge,Ee,Ae){return new(Ee||(Ee=Promise))(function(xe,ht){function Ze(nt){try{Ke(Ae.next(nt))}catch(on){ht(on)}}function Mt(nt){try{Ke(Ae.throw(nt))}catch(on){ht(on)}}function Ke(nt){nt.done?xe(nt.value):function Ve(xe){return xe instanceof Ee?xe:new Ee(function(ht){ht(xe)})}(nt.value).then(Ze,Mt)}Ke((Ae=Ae.apply(oe,ge||[])).next())})}function ne(oe){return this instanceof ne?(this.v=oe,this):new ne(oe)}function pe(oe,ge,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,Ae=Ee.apply(oe,ge||[]),xe=[];return Ve={},ht("next"),ht("throw"),ht("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function ht(Zt){Ae[Zt]&&(Ve[Zt]=function(vn){return new Promise(function(Gt,Or){xe.push([Zt,vn,Gt,Or])>1||Ze(Zt,vn)})})}function Ze(Zt,vn){try{!function Mt(Zt){Zt.value instanceof ne?Promise.resolve(Zt.value.v).then(Ke,nt):on(xe[0][2],Zt)}(Ae[Zt](vn))}catch(Gt){on(xe[0][3],Gt)}}function Ke(Zt){Ze("next",Zt)}function nt(Zt){Ze("throw",Zt)}function on(Zt,vn){Zt(vn),xe.shift(),xe.length&&Ze(xe[0][0],xe[0][1])}}function fe(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,ge=oe[Symbol.asyncIterator];return ge?ge.call(oe):(oe=function be(oe){var ge="function"==typeof Symbol&&Symbol.iterator,Ee=ge&&oe[ge],Ae=0;if(Ee)return Ee.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&Ae>=oe.length&&(oe=void 0),{value:oe&&oe[Ae++],done:!oe}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),Ee={},Ae("next"),Ae("throw"),Ae("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function Ae(xe){Ee[xe]=oe[xe]&&function(ht){return new Promise(function(Ze,Mt){!function Ve(xe,ht,Ze,Mt){Promise.resolve(Mt).then(function(Ke){xe({value:Ke,done:Ze})},ht)}(Ze,Mt,(ht=oe[xe](ht)).done,ht.value)})}}}O.d(ve,{FC:()=>pe,KL:()=>fe,_T:()=>X,mG:()=>Q,qq:()=>ne})}},Xe=>{Xe(Xe.s=1910)}]);